var Bk=t=>{throw TypeError(t)};var LT=(t,e,n)=>e.has(t)||Bk("Cannot "+n);var Ve=(t,e,n)=>(LT(t,e,"read from private field"),n?n.call(t):e.get(t)),sn=(t,e,n)=>e.has(t)?Bk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Rt=(t,e,n,r)=>(LT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pi=(t,e,n)=>(LT(t,e,"access private method"),n);var Hx=(t,e,n,r)=>({set _(i){Rt(t,e,i,n)},get _(){return Ve(t,e,r)}});function fZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N$={exports:{}},Cw={},D$={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=Symbol.for("react.element"),dZ=Symbol.for("react.portal"),hZ=Symbol.for("react.fragment"),pZ=Symbol.for("react.strict_mode"),mZ=Symbol.for("react.profiler"),gZ=Symbol.for("react.provider"),vZ=Symbol.for("react.context"),yZ=Symbol.for("react.forward_ref"),xZ=Symbol.for("react.suspense"),bZ=Symbol.for("react.memo"),_Z=Symbol.for("react.lazy"),$k=Symbol.iterator;function SZ(t){return t===null||typeof t!="object"?null:(t=$k&&t[$k]||t["@@iterator"],typeof t=="function"?t:null)}var L$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k$=Object.assign,U$={};function Am(t,e,n){this.props=t,this.context=e,this.refs=U$,this.updater=n||L$}Am.prototype.isReactComponent={};Am.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Am.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F$(){}F$.prototype=Am.prototype;function MR(t,e,n){this.props=t,this.context=e,this.refs=U$,this.updater=n||L$}var TR=MR.prototype=new F$;TR.constructor=MR;k$(TR,Am.prototype);TR.isPureReactComponent=!0;var Vk=Array.isArray,j$=Object.prototype.hasOwnProperty,AR={current:null},z$={key:!0,ref:!0,__self:!0,__source:!0};function B$(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)j$.call(e,r)&&!z$.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:S0,type:t,key:o,ref:a,props:i,_owner:AR.current}}function wZ(t,e){return{$$typeof:S0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function PR(t){return typeof t=="object"&&t!==null&&t.$$typeof===S0}function EZ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hk=/\/+/g;function kT(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EZ(""+t.key):e.toString(36)}function Db(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case S0:case dZ:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+kT(a,0):r,Vk(i)?(n="",t!=null&&(n=t.replace(Hk,"$&/")+"/"),Db(i,e,n,"",function(c){return c})):i!=null&&(PR(i)&&(i=wZ(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Hk,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Vk(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+kT(o,s);a+=Db(o,e,n,l,i)}else if(l=SZ(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+kT(o,s++),a+=Db(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wx(t,e,n){if(t==null)return t;var r=[],i=0;return Db(t,r,"","",function(o){return e.call(n,o,i++)}),r}function MZ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ao={current:null},Lb={transition:null},TZ={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:Lb,ReactCurrentOwner:AR};function $$(){throw Error("act(...) is not supported in production builds of React.")}on.Children={map:Wx,forEach:function(t,e,n){Wx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wx(t,function(){e++}),e},toArray:function(t){return Wx(t,function(e){return e})||[]},only:function(t){if(!PR(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};on.Component=Am;on.Fragment=hZ;on.Profiler=mZ;on.PureComponent=MR;on.StrictMode=pZ;on.Suspense=xZ;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TZ;on.act=$$;on.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=k$({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=AR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)j$.call(e,l)&&!z$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:S0,type:t.type,key:i,ref:o,props:r,_owner:a}};on.createContext=function(t){return t={$$typeof:vZ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gZ,_context:t},t.Consumer=t};on.createElement=B$;on.createFactory=function(t){var e=B$.bind(null,t);return e.type=t,e};on.createRef=function(){return{current:null}};on.forwardRef=function(t){return{$$typeof:yZ,render:t}};on.isValidElement=PR;on.lazy=function(t){return{$$typeof:_Z,_payload:{_status:-1,_result:t},_init:MZ}};on.memo=function(t,e){return{$$typeof:bZ,type:t,compare:e===void 0?null:e}};on.startTransition=function(t){var e=Lb.transition;Lb.transition={};try{t()}finally{Lb.transition=e}};on.unstable_act=$$;on.useCallback=function(t,e){return ao.current.useCallback(t,e)};on.useContext=function(t){return ao.current.useContext(t)};on.useDebugValue=function(){};on.useDeferredValue=function(t){return ao.current.useDeferredValue(t)};on.useEffect=function(t,e){return ao.current.useEffect(t,e)};on.useId=function(){return ao.current.useId()};on.useImperativeHandle=function(t,e,n){return ao.current.useImperativeHandle(t,e,n)};on.useInsertionEffect=function(t,e){return ao.current.useInsertionEffect(t,e)};on.useLayoutEffect=function(t,e){return ao.current.useLayoutEffect(t,e)};on.useMemo=function(t,e){return ao.current.useMemo(t,e)};on.useReducer=function(t,e,n){return ao.current.useReducer(t,e,n)};on.useRef=function(t){return ao.current.useRef(t)};on.useState=function(t){return ao.current.useState(t)};on.useSyncExternalStore=function(t,e,n){return ao.current.useSyncExternalStore(t,e,n)};on.useTransition=function(){return ao.current.useTransition()};on.version="18.3.1";D$.exports=on;var I=D$.exports;const oe=yn(I),CR=fZ({__proto__:null,default:oe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AZ=I,PZ=Symbol.for("react.element"),CZ=Symbol.for("react.fragment"),OZ=Object.prototype.hasOwnProperty,RZ=AZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IZ={key:!0,ref:!0,__self:!0,__source:!0};function V$(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)OZ.call(e,r)&&!IZ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PZ,type:t,key:o,ref:a,props:i,_owner:RZ.current}}Cw.Fragment=CZ;Cw.jsx=V$;Cw.jsxs=V$;N$.exports=Cw;var S=N$.exports,H$={exports:{}},ea={},G$={exports:{}},W$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,B){var W=k.length;k.push(B);e:for(;0<W;){var $=W-1>>>1,Y=k[$];if(0<i(Y,B))k[$]=B,k[W]=Y,W=$;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var B=k[0],W=k.pop();if(W!==B){k[0]=W;e:for(var $=0,Y=k.length,J=Y>>>1;$<J;){var X=2*($+1)-1,te=k[X],ie=X+1,ee=k[ie];if(0>i(te,W))ie<Y&&0>i(ee,te)?(k[$]=ee,k[ie]=W,$=ie):(k[$]=te,k[X]=W,$=X);else if(ie<Y&&0>i(ee,W))k[$]=ee,k[ie]=W,$=ie;else break e}}return B}function i(k,B){var W=k.sortIndex-B.sortIndex;return W!==0?W:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=k)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(k){if(x=!1,b(k),!y)if(n(l)!==null)y=!0,z(E);else{var B=n(c);B!==null&&Q(w,B.startTime-k)}}function E(k,B){y=!1,x&&(x=!1,m(P),P=-1),h=!0;var W=d;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||k&&!N());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var Y=$(f.expirationTime<=B);B=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var X=n(c);X!==null&&Q(w,X.startTime-B),J=!1}return J}finally{f=null,d=W,h=!1}}var M=!1,A=null,P=-1,R=5,O=-1;function N(){return!(t.unstable_now()-O<R)}function L(){if(A!==null){var k=t.unstable_now();O=k;var B=!0;try{B=A(!0,k)}finally{B?j():(M=!1,A=null)}}else M=!1}var j;if(typeof _=="function")j=function(){_(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=L,j=function(){H.postMessage(null)}}else j=function(){v(L,0)};function z(k){A=k,M||(M=!0,j())}function Q(k,B){P=v(function(){k(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,z(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var W=d;d=B;try{return k()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=d;d=k;try{return B()}finally{d=W}},t.unstable_scheduleCallback=function(k,B,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,k={id:u++,callback:B,priorityLevel:k,startTime:W,expirationTime:Y,sortIndex:-1},W>$?(k.sortIndex=W,e(c,k),n(l)===null&&k===n(c)&&(x?(m(P),P=-1):x=!0,Q(w,W-$))):(k.sortIndex=Y,e(l,k),y||h||(y=!0,z(E))),k},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(k){var B=d;return function(){var W=d;d=B;try{return k.apply(this,arguments)}finally{d=W}}}})(W$);G$.exports=W$;var NZ=G$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DZ=I,Zo=NZ;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X$=new Set,qv={};function Ld(t,e){Bp(t,e),Bp(t+"Capture",e)}function Bp(t,e){for(qv[t]=e,t=0;t<e.length;t++)X$.add(e[t])}var Yl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oC=Object.prototype.hasOwnProperty,LZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gk={},Wk={};function kZ(t){return oC.call(Wk,t)?!0:oC.call(Gk,t)?!1:LZ.test(t)?Wk[t]=!0:(Gk[t]=!0,!1)}function UZ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FZ(t,e,n,r){if(e===null||typeof e>"u"||UZ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function so(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var xi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xi[t]=new so(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xi[e]=new so(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xi[t]=new so(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xi[t]=new so(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xi[t]=new so(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xi[t]=new so(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xi[t]=new so(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xi[t]=new so(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xi[t]=new so(t,5,!1,t.toLowerCase(),null,!1,!1)});var OR=/[\-:]([a-z])/g;function RR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OR,RR);xi[e]=new so(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OR,RR);xi[e]=new so(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OR,RR);xi[e]=new so(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xi[t]=new so(t,1,!1,t.toLowerCase(),null,!1,!1)});xi.xlinkHref=new so("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xi[t]=new so(t,1,!1,t.toLowerCase(),null,!0,!0)});function IR(t,e,n,r){var i=xi.hasOwnProperty(e)?xi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FZ(e,n,i,r)&&(n=null),r||i===null?kZ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var uc=DZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xx=Symbol.for("react.element"),Wh=Symbol.for("react.portal"),Xh=Symbol.for("react.fragment"),NR=Symbol.for("react.strict_mode"),aC=Symbol.for("react.profiler"),q$=Symbol.for("react.provider"),Y$=Symbol.for("react.context"),DR=Symbol.for("react.forward_ref"),sC=Symbol.for("react.suspense"),lC=Symbol.for("react.suspense_list"),LR=Symbol.for("react.memo"),$c=Symbol.for("react.lazy"),K$=Symbol.for("react.offscreen"),Xk=Symbol.iterator;function Ag(t){return t===null||typeof t!="object"?null:(t=Xk&&t[Xk]||t["@@iterator"],typeof t=="function"?t:null)}var or=Object.assign,UT;function lv(t){if(UT===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);UT=e&&e[1]||""}return`
`+UT+t}var FT=!1;function jT(t,e){if(!t||FT)return"";FT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{FT=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lv(t):""}function jZ(t){switch(t.tag){case 5:return lv(t.type);case 16:return lv("Lazy");case 13:return lv("Suspense");case 19:return lv("SuspenseList");case 0:case 2:case 15:return t=jT(t.type,!1),t;case 11:return t=jT(t.type.render,!1),t;case 1:return t=jT(t.type,!0),t;default:return""}}function cC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xh:return"Fragment";case Wh:return"Portal";case aC:return"Profiler";case NR:return"StrictMode";case sC:return"Suspense";case lC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y$:return(t.displayName||"Context")+".Consumer";case q$:return(t._context.displayName||"Context")+".Provider";case DR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LR:return e=t.displayName||null,e!==null?e:cC(t.type)||"Memo";case $c:e=t._payload,t=t._init;try{return cC(t(e))}catch{}}return null}function zZ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cC(e);case 8:return e===NR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BZ(t){var e=Q$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qx(t){t._valueTracker||(t._valueTracker=BZ(t))}function Z$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function i_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uC(t,e){var n=e.checked;return or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J$(t,e){e=e.checked,e!=null&&IR(t,"checked",e,!1)}function fC(t,e){J$(t,e);var n=vu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dC(t,e.type,n):e.hasOwnProperty("defaultValue")&&dC(t,e.type,vu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dC(t,e,n){(e!=="number"||i_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cv=Array.isArray;function gp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Qe(92));if(cv(n)){if(1<n.length)throw Error(Qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vu(n)}}function eV(t,e){var n=vu(e.value),r=vu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yx,nV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yx=Yx||document.createElement("div"),Yx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$Z=["Webkit","ms","Moz","O"];Object.keys(xv).forEach(function(t){$Z.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xv[e]=xv[t]})});function rV(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xv.hasOwnProperty(t)&&xv[t]?(""+e).trim():e+"px"}function iV(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rV(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VZ=or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mC(t,e){if(e){if(VZ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function gC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vC=null;function kR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yC=null,vp=null,yp=null;function Zk(t){if(t=M0(t)){if(typeof yC!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=Dw(e),yC(t.stateNode,t.type,e))}}function oV(t){vp?yp?yp.push(t):yp=[t]:vp=t}function aV(){if(vp){var t=vp,e=yp;if(yp=vp=null,Zk(t),e)for(t=0;t<e.length;t++)Zk(e[t])}}function sV(t,e){return t(e)}function lV(){}var zT=!1;function cV(t,e,n){if(zT)return t(e,n);zT=!0;try{return sV(t,e,n)}finally{zT=!1,(vp!==null||yp!==null)&&(lV(),aV())}}function Kv(t,e){var n=t.stateNode;if(n===null)return null;var r=Dw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Qe(231,e,typeof n));return n}var xC=!1;if(Yl)try{var Pg={};Object.defineProperty(Pg,"passive",{get:function(){xC=!0}}),window.addEventListener("test",Pg,Pg),window.removeEventListener("test",Pg,Pg)}catch{xC=!1}function HZ(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var bv=!1,o_=null,a_=!1,bC=null,GZ={onError:function(t){bv=!0,o_=t}};function WZ(t,e,n,r,i,o,a,s,l){bv=!1,o_=null,HZ.apply(GZ,arguments)}function XZ(t,e,n,r,i,o,a,s,l){if(WZ.apply(this,arguments),bv){if(bv){var c=o_;bv=!1,o_=null}else throw Error(Qe(198));a_||(a_=!0,bC=c)}}function kd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jk(t){if(kd(t)!==t)throw Error(Qe(188))}function qZ(t){var e=t.alternate;if(!e){if(e=kd(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jk(i),t;if(o===r)return Jk(i),e;o=o.sibling}throw Error(Qe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Qe(189))}}if(n.alternate!==r)throw Error(Qe(190))}if(n.tag!==3)throw Error(Qe(188));return n.stateNode.current===n?t:e}function fV(t){return t=qZ(t),t!==null?dV(t):null}function dV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dV(t);if(e!==null)return e;t=t.sibling}return null}var hV=Zo.unstable_scheduleCallback,e3=Zo.unstable_cancelCallback,YZ=Zo.unstable_shouldYield,KZ=Zo.unstable_requestPaint,br=Zo.unstable_now,QZ=Zo.unstable_getCurrentPriorityLevel,UR=Zo.unstable_ImmediatePriority,pV=Zo.unstable_UserBlockingPriority,s_=Zo.unstable_NormalPriority,ZZ=Zo.unstable_LowPriority,mV=Zo.unstable_IdlePriority,Ow=null,Vs=null;function JZ(t){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Ow,t,void 0,(t.current.flags&128)===128)}catch{}}var Za=Math.clz32?Math.clz32:nJ,eJ=Math.log,tJ=Math.LN2;function nJ(t){return t>>>=0,t===0?32:31-(eJ(t)/tJ|0)|0}var Kx=64,Qx=4194304;function uv(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function l_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=uv(s):(o&=a,o!==0&&(r=uv(o)))}else a=n&~i,a!==0?r=uv(a):o!==0&&(r=uv(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Za(e),i=1<<n,r|=t[n],e&=~i;return r}function rJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iJ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Za(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=rJ(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function _C(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gV(){var t=Kx;return Kx<<=1,!(Kx&4194240)&&(Kx=64),t}function BT(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function w0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Za(e),t[e]=n}function oJ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Za(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function FR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Za(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wn=0;function vV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yV,jR,xV,bV,_V,SC=!1,Zx=[],au=null,su=null,lu=null,Qv=new Map,Zv=new Map,Gc=[],aJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t3(t,e){switch(t){case"focusin":case"focusout":au=null;break;case"dragenter":case"dragleave":su=null;break;case"mouseover":case"mouseout":lu=null;break;case"pointerover":case"pointerout":Qv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zv.delete(e.pointerId)}}function Cg(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=M0(e),e!==null&&jR(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sJ(t,e,n,r,i){switch(e){case"focusin":return au=Cg(au,t,e,n,r,i),!0;case"dragenter":return su=Cg(su,t,e,n,r,i),!0;case"mouseover":return lu=Cg(lu,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qv.set(o,Cg(Qv.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zv.set(o,Cg(Zv.get(o)||null,t,e,n,r,i)),!0}return!1}function SV(t){var e=If(t.target);if(e!==null){var n=kd(e);if(n!==null){if(e=n.tag,e===13){if(e=uV(n),e!==null){t.blockedOn=e,_V(t.priority,function(){xV(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vC=r,n.target.dispatchEvent(r),vC=null}else return e=M0(n),e!==null&&jR(e),t.blockedOn=n,!1;e.shift()}return!0}function n3(t,e,n){kb(t)&&n.delete(e)}function lJ(){SC=!1,au!==null&&kb(au)&&(au=null),su!==null&&kb(su)&&(su=null),lu!==null&&kb(lu)&&(lu=null),Qv.forEach(n3),Zv.forEach(n3)}function Og(t,e){t.blockedOn===e&&(t.blockedOn=null,SC||(SC=!0,Zo.unstable_scheduleCallback(Zo.unstable_NormalPriority,lJ)))}function Jv(t){function e(i){return Og(i,t)}if(0<Zx.length){Og(Zx[0],t);for(var n=1;n<Zx.length;n++){var r=Zx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(au!==null&&Og(au,t),su!==null&&Og(su,t),lu!==null&&Og(lu,t),Qv.forEach(e),Zv.forEach(e),n=0;n<Gc.length;n++)r=Gc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gc.length&&(n=Gc[0],n.blockedOn===null);)SV(n),n.blockedOn===null&&Gc.shift()}var xp=uc.ReactCurrentBatchConfig,c_=!0;function cJ(t,e,n,r){var i=wn,o=xp.transition;xp.transition=null;try{wn=1,zR(t,e,n,r)}finally{wn=i,xp.transition=o}}function uJ(t,e,n,r){var i=wn,o=xp.transition;xp.transition=null;try{wn=4,zR(t,e,n,r)}finally{wn=i,xp.transition=o}}function zR(t,e,n,r){if(c_){var i=wC(t,e,n,r);if(i===null)QT(t,e,r,u_,n),t3(t,r);else if(sJ(i,t,e,n,r))r.stopPropagation();else if(t3(t,r),e&4&&-1<aJ.indexOf(t)){for(;i!==null;){var o=M0(i);if(o!==null&&yV(o),o=wC(t,e,n,r),o===null&&QT(t,e,r,u_,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else QT(t,e,r,null,n)}}var u_=null;function wC(t,e,n,r){if(u_=null,t=kR(r),t=If(t),t!==null)if(e=kd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return u_=t,null}function wV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QZ()){case UR:return 1;case pV:return 4;case s_:case ZZ:return 16;case mV:return 536870912;default:return 16}default:return 16}}var nu=null,BR=null,Ub=null;function EV(){if(Ub)return Ub;var t,e=BR,n=e.length,r,i="value"in nu?nu.value:nu.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Ub=i.slice(t,1<r?1-r:void 0)}function Fb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jx(){return!0}function r3(){return!1}function ta(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Jx:r3,this.isPropagationStopped=r3,this}return or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jx)},persist:function(){},isPersistent:Jx}),e}var Pm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$R=ta(Pm),E0=or({},Pm,{view:0,detail:0}),fJ=ta(E0),$T,VT,Rg,Rw=or({},E0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rg&&(Rg&&t.type==="mousemove"?($T=t.screenX-Rg.screenX,VT=t.screenY-Rg.screenY):VT=$T=0,Rg=t),$T)},movementY:function(t){return"movementY"in t?t.movementY:VT}}),i3=ta(Rw),dJ=or({},Rw,{dataTransfer:0}),hJ=ta(dJ),pJ=or({},E0,{relatedTarget:0}),HT=ta(pJ),mJ=or({},Pm,{animationName:0,elapsedTime:0,pseudoElement:0}),gJ=ta(mJ),vJ=or({},Pm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yJ=ta(vJ),xJ=or({},Pm,{data:0}),o3=ta(xJ),bJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_J={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SJ[t])?!!e[t]:!1}function VR(){return wJ}var EJ=or({},E0,{key:function(t){if(t.key){var e=bJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_J[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VR,charCode:function(t){return t.type==="keypress"?Fb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MJ=ta(EJ),TJ=or({},Rw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a3=ta(TJ),AJ=or({},E0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VR}),PJ=ta(AJ),CJ=or({},Pm,{propertyName:0,elapsedTime:0,pseudoElement:0}),OJ=ta(CJ),RJ=or({},Rw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IJ=ta(RJ),NJ=[9,13,27,32],HR=Yl&&"CompositionEvent"in window,_v=null;Yl&&"documentMode"in document&&(_v=document.documentMode);var DJ=Yl&&"TextEvent"in window&&!_v,MV=Yl&&(!HR||_v&&8<_v&&11>=_v),s3=" ",l3=!1;function TV(t,e){switch(t){case"keyup":return NJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qh=!1;function LJ(t,e){switch(t){case"compositionend":return AV(e);case"keypress":return e.which!==32?null:(l3=!0,s3);case"textInput":return t=e.data,t===s3&&l3?null:t;default:return null}}function kJ(t,e){if(qh)return t==="compositionend"||!HR&&TV(t,e)?(t=EV(),Ub=BR=nu=null,qh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MV&&e.locale!=="ko"?null:e.data;default:return null}}var UJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UJ[t.type]:e==="textarea"}function PV(t,e,n,r){oV(r),e=f_(e,"onChange"),0<e.length&&(n=new $R("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sv=null,ey=null;function FJ(t){jV(t,0)}function Iw(t){var e=Qh(t);if(Z$(e))return t}function jJ(t,e){if(t==="change")return e}var CV=!1;if(Yl){var GT;if(Yl){var WT="oninput"in document;if(!WT){var u3=document.createElement("div");u3.setAttribute("oninput","return;"),WT=typeof u3.oninput=="function"}GT=WT}else GT=!1;CV=GT&&(!document.documentMode||9<document.documentMode)}function f3(){Sv&&(Sv.detachEvent("onpropertychange",OV),ey=Sv=null)}function OV(t){if(t.propertyName==="value"&&Iw(ey)){var e=[];PV(e,ey,t,kR(t)),cV(FJ,e)}}function zJ(t,e,n){t==="focusin"?(f3(),Sv=e,ey=n,Sv.attachEvent("onpropertychange",OV)):t==="focusout"&&f3()}function BJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iw(ey)}function $J(t,e){if(t==="click")return Iw(e)}function VJ(t,e){if(t==="input"||t==="change")return Iw(e)}function HJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ss=typeof Object.is=="function"?Object.is:HJ;function ty(t,e){if(ss(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oC.call(e,i)||!ss(t[i],e[i]))return!1}return!0}function d3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h3(t,e){var n=d3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d3(n)}}function RV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IV(){for(var t=window,e=i_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=i_(t.document)}return e}function GR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GJ(t){var e=IV(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RV(n.ownerDocument.documentElement,n)){if(r!==null&&GR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=h3(n,o);var a=h3(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WJ=Yl&&"documentMode"in document&&11>=document.documentMode,Yh=null,EC=null,wv=null,MC=!1;function p3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;MC||Yh==null||Yh!==i_(r)||(r=Yh,"selectionStart"in r&&GR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wv&&ty(wv,r)||(wv=r,r=f_(EC,"onSelect"),0<r.length&&(e=new $R("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yh)))}function e1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kh={animationend:e1("Animation","AnimationEnd"),animationiteration:e1("Animation","AnimationIteration"),animationstart:e1("Animation","AnimationStart"),transitionend:e1("Transition","TransitionEnd")},XT={},NV={};Yl&&(NV=document.createElement("div").style,"AnimationEvent"in window||(delete Kh.animationend.animation,delete Kh.animationiteration.animation,delete Kh.animationstart.animation),"TransitionEvent"in window||delete Kh.transitionend.transition);function Nw(t){if(XT[t])return XT[t];if(!Kh[t])return t;var e=Kh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NV)return XT[t]=e[n];return t}var DV=Nw("animationend"),LV=Nw("animationiteration"),kV=Nw("animationstart"),UV=Nw("transitionend"),FV=new Map,m3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tu(t,e){FV.set(t,e),Ld(e,[t])}for(var qT=0;qT<m3.length;qT++){var YT=m3[qT],XJ=YT.toLowerCase(),qJ=YT[0].toUpperCase()+YT.slice(1);Tu(XJ,"on"+qJ)}Tu(DV,"onAnimationEnd");Tu(LV,"onAnimationIteration");Tu(kV,"onAnimationStart");Tu("dblclick","onDoubleClick");Tu("focusin","onFocus");Tu("focusout","onBlur");Tu(UV,"onTransitionEnd");Bp("onMouseEnter",["mouseout","mouseover"]);Bp("onMouseLeave",["mouseout","mouseover"]);Bp("onPointerEnter",["pointerout","pointerover"]);Bp("onPointerLeave",["pointerout","pointerover"]);Ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(fv));function g3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XZ(r,e,void 0,t),t.currentTarget=null}function jV(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;g3(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;g3(i,s,c),o=l}}}if(a_)throw t=bC,a_=!1,bC=null,t}function zn(t,e){var n=e[OC];n===void 0&&(n=e[OC]=new Set);var r=t+"__bubble";n.has(r)||(zV(e,t,2,!1),n.add(r))}function KT(t,e,n){var r=0;e&&(r|=4),zV(n,t,r,e)}var t1="_reactListening"+Math.random().toString(36).slice(2);function ny(t){if(!t[t1]){t[t1]=!0,X$.forEach(function(n){n!=="selectionchange"&&(YJ.has(n)||KT(n,!1,t),KT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[t1]||(e[t1]=!0,KT("selectionchange",!1,e))}}function zV(t,e,n,r){switch(wV(e)){case 1:var i=cJ;break;case 4:i=uJ;break;default:i=zR}n=i.bind(null,e,n,t),i=void 0,!xC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function QT(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=If(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}cV(function(){var c=o,u=kR(n),f=[];e:{var d=FV.get(t);if(d!==void 0){var h=$R,y=t;switch(t){case"keypress":if(Fb(n)===0)break e;case"keydown":case"keyup":h=MJ;break;case"focusin":y="focus",h=HT;break;case"focusout":y="blur",h=HT;break;case"beforeblur":case"afterblur":h=HT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=i3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=PJ;break;case DV:case LV:case kV:h=gJ;break;case UV:h=OJ;break;case"scroll":h=fJ;break;case"wheel":h=IJ;break;case"copy":case"cut":case"paste":h=yJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=a3}var x=(e&4)!==0,v=!x&&t==="scroll",m=x?d!==null?d+"Capture":null:d;x=[];for(var _=c,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,m!==null&&(w=Kv(_,m),w!=null&&x.push(ry(_,w,b)))),v)break;_=_.return}0<x.length&&(d=new h(d,y,null,n,u),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==vC&&(y=n.relatedTarget||n.fromElement)&&(If(y)||y[Kl]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=c,y=y?If(y):null,y!==null&&(v=kd(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(x=i3,w="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=a3,w="onPointerLeave",m="onPointerEnter",_="pointer"),v=h==null?d:Qh(h),b=y==null?d:Qh(y),d=new x(w,_+"leave",h,n,u),d.target=v,d.relatedTarget=b,w=null,If(u)===c&&(x=new x(m,_+"enter",y,n,u),x.target=b,x.relatedTarget=v,w=x),v=w,h&&y)t:{for(x=h,m=y,_=0,b=x;b;b=fh(b))_++;for(b=0,w=m;w;w=fh(w))b++;for(;0<_-b;)x=fh(x),_--;for(;0<b-_;)m=fh(m),b--;for(;_--;){if(x===m||m!==null&&x===m.alternate)break t;x=fh(x),m=fh(m)}x=null}else x=null;h!==null&&v3(f,d,h,x,!1),y!==null&&v!==null&&v3(f,v,y,x,!0)}}e:{if(d=c?Qh(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=jJ;else if(c3(d))if(CV)E=VJ;else{E=BJ;var M=zJ}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=$J);if(E&&(E=E(t,c))){PV(f,E,n,u);break e}M&&M(t,d,c),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&dC(d,"number",d.value)}switch(M=c?Qh(c):window,t){case"focusin":(c3(M)||M.contentEditable==="true")&&(Yh=M,EC=c,wv=null);break;case"focusout":wv=EC=Yh=null;break;case"mousedown":MC=!0;break;case"contextmenu":case"mouseup":case"dragend":MC=!1,p3(f,n,u);break;case"selectionchange":if(WJ)break;case"keydown":case"keyup":p3(f,n,u)}var A;if(HR)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else qh?TV(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(MV&&n.locale!=="ko"&&(qh||P!=="onCompositionStart"?P==="onCompositionEnd"&&qh&&(A=EV()):(nu=u,BR="value"in nu?nu.value:nu.textContent,qh=!0)),M=f_(c,P),0<M.length&&(P=new o3(P,t,null,n,u),f.push({event:P,listeners:M}),A?P.data=A:(A=AV(n),A!==null&&(P.data=A)))),(A=DJ?LJ(t,n):kJ(t,n))&&(c=f_(c,"onBeforeInput"),0<c.length&&(u=new o3("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=A))}jV(f,e)})}function ry(t,e,n){return{instance:t,listener:e,currentTarget:n}}function f_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Kv(t,n),o!=null&&r.unshift(ry(t,o,i)),o=Kv(t,e),o!=null&&r.push(ry(t,o,i))),t=t.return}return r}function fh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v3(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Kv(n,o),l!=null&&a.unshift(ry(n,l,s))):i||(l=Kv(n,o),l!=null&&a.push(ry(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var KJ=/\r\n?/g,QJ=/\u0000|\uFFFD/g;function y3(t){return(typeof t=="string"?t:""+t).replace(KJ,`
`).replace(QJ,"")}function n1(t,e,n){if(e=y3(e),y3(t)!==e&&n)throw Error(Qe(425))}function d_(){}var TC=null,AC=null;function PC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var CC=typeof setTimeout=="function"?setTimeout:void 0,ZJ=typeof clearTimeout=="function"?clearTimeout:void 0,x3=typeof Promise=="function"?Promise:void 0,JJ=typeof queueMicrotask=="function"?queueMicrotask:typeof x3<"u"?function(t){return x3.resolve(null).then(t).catch(eee)}:CC;function eee(t){setTimeout(function(){throw t})}function ZT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jv(e)}function cu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cm=Math.random().toString(36).slice(2),Ns="__reactFiber$"+Cm,iy="__reactProps$"+Cm,Kl="__reactContainer$"+Cm,OC="__reactEvents$"+Cm,tee="__reactListeners$"+Cm,nee="__reactHandles$"+Cm;function If(t){var e=t[Ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kl]||n[Ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b3(t);t!==null;){if(n=t[Ns])return n;t=b3(t)}return e}t=n,n=t.parentNode}return null}function M0(t){return t=t[Ns]||t[Kl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function Dw(t){return t[iy]||null}var RC=[],Zh=-1;function Au(t){return{current:t}}function Gn(t){0>Zh||(t.current=RC[Zh],RC[Zh]=null,Zh--)}function Ln(t,e){Zh++,RC[Zh]=t.current,t.current=e}var yu={},ji=Au(yu),wo=Au(!1),fd=yu;function $p(t,e){var n=t.type.contextTypes;if(!n)return yu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Eo(t){return t=t.childContextTypes,t!=null}function h_(){Gn(wo),Gn(ji)}function _3(t,e,n){if(ji.current!==yu)throw Error(Qe(168));Ln(ji,e),Ln(wo,n)}function BV(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Qe(108,zZ(t)||"Unknown",i));return or({},n,r)}function p_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yu,fd=ji.current,Ln(ji,t),Ln(wo,wo.current),!0}function S3(t,e,n){var r=t.stateNode;if(!r)throw Error(Qe(169));n?(t=BV(t,e,fd),r.__reactInternalMemoizedMergedChildContext=t,Gn(wo),Gn(ji),Ln(ji,t)):Gn(wo),Ln(wo,n)}var Rl=null,Lw=!1,JT=!1;function $V(t){Rl===null?Rl=[t]:Rl.push(t)}function ree(t){Lw=!0,$V(t)}function Pu(){if(!JT&&Rl!==null){JT=!0;var t=0,e=wn;try{var n=Rl;for(wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rl=null,Lw=!1}catch(i){throw Rl!==null&&(Rl=Rl.slice(t+1)),hV(UR,Pu),i}finally{wn=e,JT=!1}}return null}var Jh=[],ep=0,m_=null,g_=0,ga=[],va=0,dd=null,Ul=1,Fl="";function bf(t,e){Jh[ep++]=g_,Jh[ep++]=m_,m_=t,g_=e}function VV(t,e,n){ga[va++]=Ul,ga[va++]=Fl,ga[va++]=dd,dd=t;var r=Ul;t=Fl;var i=32-Za(r)-1;r&=~(1<<i),n+=1;var o=32-Za(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ul=1<<32-Za(e)+i|n<<i|r,Fl=o+t}else Ul=1<<o|n<<i|r,Fl=t}function WR(t){t.return!==null&&(bf(t,1),VV(t,1,0))}function XR(t){for(;t===m_;)m_=Jh[--ep],Jh[ep]=null,g_=Jh[--ep],Jh[ep]=null;for(;t===dd;)dd=ga[--va],ga[va]=null,Fl=ga[--va],ga[va]=null,Ul=ga[--va],ga[va]=null}var Xo=null,Go=null,Yn=!1,qa=null;function HV(t,e){var n=xa(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function w3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xo=t,Go=cu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xo=t,Go=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dd!==null?{id:Ul,overflow:Fl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xa(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xo=t,Go=null,!0):!1;default:return!1}}function IC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function NC(t){if(Yn){var e=Go;if(e){var n=e;if(!w3(t,e)){if(IC(t))throw Error(Qe(418));e=cu(n.nextSibling);var r=Xo;e&&w3(t,e)?HV(r,n):(t.flags=t.flags&-4097|2,Yn=!1,Xo=t)}}else{if(IC(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,Yn=!1,Xo=t}}}function E3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xo=t}function r1(t){if(t!==Xo)return!1;if(!Yn)return E3(t),Yn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!PC(t.type,t.memoizedProps)),e&&(e=Go)){if(IC(t))throw GV(),Error(Qe(418));for(;e;)HV(t,e),e=cu(e.nextSibling)}if(E3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Go=cu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Go=null}}else Go=Xo?cu(t.stateNode.nextSibling):null;return!0}function GV(){for(var t=Go;t;)t=cu(t.nextSibling)}function Vp(){Go=Xo=null,Yn=!1}function qR(t){qa===null?qa=[t]:qa.push(t)}var iee=uc.ReactCurrentBatchConfig;function Ig(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qe(309));var r=n.stateNode}if(!r)throw Error(Qe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Qe(284));if(!n._owner)throw Error(Qe(290,t))}return t}function i1(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M3(t){var e=t._init;return e(t._payload)}function WV(t){function e(m,_){if(t){var b=m.deletions;b===null?(m.deletions=[_],m.flags|=16):b.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=hu(m,_),m.index=0,m.sibling=null,m}function o(m,_,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<_?(m.flags|=2,_):b):(m.flags|=2,_)):(m.flags|=1048576,_)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,_,b,w){return _===null||_.tag!==6?(_=aA(b,m.mode,w),_.return=m,_):(_=i(_,b),_.return=m,_)}function l(m,_,b,w){var E=b.type;return E===Xh?u(m,_,b.props.children,w,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$c&&M3(E)===_.type)?(w=i(_,b.props),w.ref=Ig(m,_,b),w.return=m,w):(w=Gb(b.type,b.key,b.props,null,m.mode,w),w.ref=Ig(m,_,b),w.return=m,w)}function c(m,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=sA(b,m.mode,w),_.return=m,_):(_=i(_,b.children||[]),_.return=m,_)}function u(m,_,b,w,E){return _===null||_.tag!==7?(_=Qf(b,m.mode,w,E),_.return=m,_):(_=i(_,b),_.return=m,_)}function f(m,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=aA(""+_,m.mode,b),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xx:return b=Gb(_.type,_.key,_.props,null,m.mode,b),b.ref=Ig(m,null,_),b.return=m,b;case Wh:return _=sA(_,m.mode,b),_.return=m,_;case $c:var w=_._init;return f(m,w(_._payload),b)}if(cv(_)||Ag(_))return _=Qf(_,m.mode,b,null),_.return=m,_;i1(m,_)}return null}function d(m,_,b,w){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:s(m,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xx:return b.key===E?l(m,_,b,w):null;case Wh:return b.key===E?c(m,_,b,w):null;case $c:return E=b._init,d(m,_,E(b._payload),w)}if(cv(b)||Ag(b))return E!==null?null:u(m,_,b,w,null);i1(m,b)}return null}function h(m,_,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(b)||null,s(_,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xx:return m=m.get(w.key===null?b:w.key)||null,l(_,m,w,E);case Wh:return m=m.get(w.key===null?b:w.key)||null,c(_,m,w,E);case $c:var M=w._init;return h(m,_,b,M(w._payload),E)}if(cv(w)||Ag(w))return m=m.get(b)||null,u(_,m,w,E,null);i1(_,w)}return null}function y(m,_,b,w){for(var E=null,M=null,A=_,P=_=0,R=null;A!==null&&P<b.length;P++){A.index>P?(R=A,A=null):R=A.sibling;var O=d(m,A,b[P],w);if(O===null){A===null&&(A=R);break}t&&A&&O.alternate===null&&e(m,A),_=o(O,_,P),M===null?E=O:M.sibling=O,M=O,A=R}if(P===b.length)return n(m,A),Yn&&bf(m,P),E;if(A===null){for(;P<b.length;P++)A=f(m,b[P],w),A!==null&&(_=o(A,_,P),M===null?E=A:M.sibling=A,M=A);return Yn&&bf(m,P),E}for(A=r(m,A);P<b.length;P++)R=h(A,m,P,b[P],w),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?P:R.key),_=o(R,_,P),M===null?E=R:M.sibling=R,M=R);return t&&A.forEach(function(N){return e(m,N)}),Yn&&bf(m,P),E}function x(m,_,b,w){var E=Ag(b);if(typeof E!="function")throw Error(Qe(150));if(b=E.call(b),b==null)throw Error(Qe(151));for(var M=E=null,A=_,P=_=0,R=null,O=b.next();A!==null&&!O.done;P++,O=b.next()){A.index>P?(R=A,A=null):R=A.sibling;var N=d(m,A,O.value,w);if(N===null){A===null&&(A=R);break}t&&A&&N.alternate===null&&e(m,A),_=o(N,_,P),M===null?E=N:M.sibling=N,M=N,A=R}if(O.done)return n(m,A),Yn&&bf(m,P),E;if(A===null){for(;!O.done;P++,O=b.next())O=f(m,O.value,w),O!==null&&(_=o(O,_,P),M===null?E=O:M.sibling=O,M=O);return Yn&&bf(m,P),E}for(A=r(m,A);!O.done;P++,O=b.next())O=h(A,m,P,O.value,w),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?P:O.key),_=o(O,_,P),M===null?E=O:M.sibling=O,M=O);return t&&A.forEach(function(L){return e(m,L)}),Yn&&bf(m,P),E}function v(m,_,b,w){if(typeof b=="object"&&b!==null&&b.type===Xh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xx:e:{for(var E=b.key,M=_;M!==null;){if(M.key===E){if(E=b.type,E===Xh){if(M.tag===7){n(m,M.sibling),_=i(M,b.props.children),_.return=m,m=_;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$c&&M3(E)===M.type){n(m,M.sibling),_=i(M,b.props),_.ref=Ig(m,M,b),_.return=m,m=_;break e}n(m,M);break}else e(m,M);M=M.sibling}b.type===Xh?(_=Qf(b.props.children,m.mode,w,b.key),_.return=m,m=_):(w=Gb(b.type,b.key,b.props,null,m.mode,w),w.ref=Ig(m,_,b),w.return=m,m=w)}return a(m);case Wh:e:{for(M=b.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(m,_.sibling),_=i(_,b.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=sA(b,m.mode,w),_.return=m,m=_}return a(m);case $c:return M=b._init,v(m,_,M(b._payload),w)}if(cv(b))return y(m,_,b,w);if(Ag(b))return x(m,_,b,w);i1(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,b),_.return=m,m=_):(n(m,_),_=aA(b,m.mode,w),_.return=m,m=_),a(m)):n(m,_)}return v}var Hp=WV(!0),XV=WV(!1),v_=Au(null),y_=null,tp=null,YR=null;function KR(){YR=tp=y_=null}function QR(t){var e=v_.current;Gn(v_),t._currentValue=e}function DC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bp(t,e){y_=t,YR=tp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bo=!0),t.firstContext=null)}function Ea(t){var e=t._currentValue;if(YR!==t)if(t={context:t,memoizedValue:e,next:null},tp===null){if(y_===null)throw Error(Qe(308));tp=t,y_.dependencies={lanes:0,firstContext:t}}else tp=tp.next=t;return e}var Nf=null;function ZR(t){Nf===null?Nf=[t]:Nf.push(t)}function qV(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZR(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ql(t,r)}function Ql(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vc=!1;function JR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ql(t,n)}return i=r.interleaved,i===null?(e.next=e,ZR(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ql(t,n)}function jb(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FR(t,n)}}function T3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function x_(t,e,n,r){var i=t.updateQueue;Vc=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,u=c=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,x=s;switch(d=e,h=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=or({},f,d);break e;case 2:Vc=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);pd|=a,t.lanes=a,t.memoizedState=f}}function A3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qe(191,i));i.call(r)}}}var T0={},Hs=Au(T0),oy=Au(T0),ay=Au(T0);function Df(t){if(t===T0)throw Error(Qe(174));return t}function eI(t,e){switch(Ln(ay,e),Ln(oy,t),Ln(Hs,T0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pC(e,t)}Gn(Hs),Ln(Hs,e)}function Gp(){Gn(Hs),Gn(oy),Gn(ay)}function KV(t){Df(ay.current);var e=Df(Hs.current),n=pC(e,t.type);e!==n&&(Ln(oy,t),Ln(Hs,n))}function tI(t){oy.current===t&&(Gn(Hs),Gn(oy))}var tr=Au(0);function b_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eA=[];function nI(){for(var t=0;t<eA.length;t++)eA[t]._workInProgressVersionPrimary=null;eA.length=0}var zb=uc.ReactCurrentDispatcher,tA=uc.ReactCurrentBatchConfig,hd=0,rr=null,jr=null,ti=null,__=!1,Ev=!1,sy=0,oee=0;function Ci(){throw Error(Qe(321))}function rI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ss(t[n],e[n]))return!1;return!0}function iI(t,e,n,r,i,o){if(hd=o,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zb.current=t===null||t.memoizedState===null?cee:uee,t=n(r,i),Ev){o=0;do{if(Ev=!1,sy=0,25<=o)throw Error(Qe(301));o+=1,ti=jr=null,e.updateQueue=null,zb.current=fee,t=n(r,i)}while(Ev)}if(zb.current=S_,e=jr!==null&&jr.next!==null,hd=0,ti=jr=rr=null,__=!1,e)throw Error(Qe(300));return t}function oI(){var t=sy!==0;return sy=0,t}function Ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?rr.memoizedState=ti=t:ti=ti.next=t,ti}function Ma(){if(jr===null){var t=rr.alternate;t=t!==null?t.memoizedState:null}else t=jr.next;var e=ti===null?rr.memoizedState:ti.next;if(e!==null)ti=e,jr=t;else{if(t===null)throw Error(Qe(310));jr=t,t={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},ti===null?rr.memoizedState=ti=t:ti=ti.next=t}return ti}function ly(t,e){return typeof e=="function"?e(t):e}function nA(t){var e=Ma(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=jr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((hd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,rr.lanes|=u,pd|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,ss(r,e.memoizedState)||(bo=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,rr.lanes|=o,pd|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rA(t){var e=Ma(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ss(o,e.memoizedState)||(bo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function QV(){}function ZV(t,e){var n=rr,r=Ma(),i=e(),o=!ss(r.memoizedState,i);if(o&&(r.memoizedState=i,bo=!0),r=r.queue,aI(tH.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ti!==null&&ti.memoizedState.tag&1){if(n.flags|=2048,cy(9,eH.bind(null,n,r,i,e),void 0,null),ii===null)throw Error(Qe(349));hd&30||JV(n,e,i)}return i}function JV(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eH(t,e,n,r){e.value=n,e.getSnapshot=r,nH(e)&&rH(t)}function tH(t,e,n){return n(function(){nH(e)&&rH(t)})}function nH(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ss(t,n)}catch{return!0}}function rH(t){var e=Ql(t,1);e!==null&&Ja(e,t,1,-1)}function P3(t){var e=Ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:t},e.queue=t,t=t.dispatch=lee.bind(null,rr,t),[e.memoizedState,t]}function cy(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iH(){return Ma().memoizedState}function Bb(t,e,n,r){var i=Ps();rr.flags|=t,i.memoizedState=cy(1|e,n,void 0,r===void 0?null:r)}function kw(t,e,n,r){var i=Ma();r=r===void 0?null:r;var o=void 0;if(jr!==null){var a=jr.memoizedState;if(o=a.destroy,r!==null&&rI(r,a.deps)){i.memoizedState=cy(e,n,o,r);return}}rr.flags|=t,i.memoizedState=cy(1|e,n,o,r)}function C3(t,e){return Bb(8390656,8,t,e)}function aI(t,e){return kw(2048,8,t,e)}function oH(t,e){return kw(4,2,t,e)}function aH(t,e){return kw(4,4,t,e)}function sH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lH(t,e,n){return n=n!=null?n.concat([t]):null,kw(4,4,sH.bind(null,e,t),n)}function sI(){}function cH(t,e){var n=Ma();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uH(t,e){var n=Ma();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fH(t,e,n){return hd&21?(ss(n,e)||(n=gV(),rr.lanes|=n,pd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bo=!0),t.memoizedState=n)}function aee(t,e){var n=wn;wn=n!==0&&4>n?n:4,t(!0);var r=tA.transition;tA.transition={};try{t(!1),e()}finally{wn=n,tA.transition=r}}function dH(){return Ma().memoizedState}function see(t,e,n){var r=du(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hH(t))pH(e,n);else if(n=qV(t,e,n,r),n!==null){var i=io();Ja(n,t,r,i),mH(n,e,r)}}function lee(t,e,n){var r=du(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hH(t))pH(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ss(s,a)){var l=e.interleaved;l===null?(i.next=i,ZR(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=qV(t,e,i,r),n!==null&&(i=io(),Ja(n,t,r,i),mH(n,e,r))}}function hH(t){var e=t.alternate;return t===rr||e!==null&&e===rr}function pH(t,e){Ev=__=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mH(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FR(t,n)}}var S_={readContext:Ea,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},cee={readContext:Ea,useCallback:function(t,e){return Ps().memoizedState=[t,e===void 0?null:e],t},useContext:Ea,useEffect:C3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bb(4194308,4,sH.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bb(4,2,t,e)},useMemo:function(t,e){var n=Ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=see.bind(null,rr,t),[r.memoizedState,t]},useRef:function(t){var e=Ps();return t={current:t},e.memoizedState=t},useState:P3,useDebugValue:sI,useDeferredValue:function(t){return Ps().memoizedState=t},useTransition:function(){var t=P3(!1),e=t[0];return t=aee.bind(null,t[1]),Ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rr,i=Ps();if(Yn){if(n===void 0)throw Error(Qe(407));n=n()}else{if(n=e(),ii===null)throw Error(Qe(349));hd&30||JV(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,C3(tH.bind(null,r,o,t),[t]),r.flags|=2048,cy(9,eH.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ps(),e=ii.identifierPrefix;if(Yn){var n=Fl,r=Ul;n=(r&~(1<<32-Za(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sy++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oee++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uee={readContext:Ea,useCallback:cH,useContext:Ea,useEffect:aI,useImperativeHandle:lH,useInsertionEffect:oH,useLayoutEffect:aH,useMemo:uH,useReducer:nA,useRef:iH,useState:function(){return nA(ly)},useDebugValue:sI,useDeferredValue:function(t){var e=Ma();return fH(e,jr.memoizedState,t)},useTransition:function(){var t=nA(ly)[0],e=Ma().memoizedState;return[t,e]},useMutableSource:QV,useSyncExternalStore:ZV,useId:dH,unstable_isNewReconciler:!1},fee={readContext:Ea,useCallback:cH,useContext:Ea,useEffect:aI,useImperativeHandle:lH,useInsertionEffect:oH,useLayoutEffect:aH,useMemo:uH,useReducer:rA,useRef:iH,useState:function(){return rA(ly)},useDebugValue:sI,useDeferredValue:function(t){var e=Ma();return jr===null?e.memoizedState=t:fH(e,jr.memoizedState,t)},useTransition:function(){var t=rA(ly)[0],e=Ma().memoizedState;return[t,e]},useMutableSource:QV,useSyncExternalStore:ZV,useId:dH,unstable_isNewReconciler:!1};function za(t,e){if(t&&t.defaultProps){e=or({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function LC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:or({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uw={isMounted:function(t){return(t=t._reactInternals)?kd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=io(),i=du(t),o=Vl(r,i);o.payload=e,n!=null&&(o.callback=n),e=uu(t,o,i),e!==null&&(Ja(e,t,i,r),jb(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=io(),i=du(t),o=Vl(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=uu(t,o,i),e!==null&&(Ja(e,t,i,r),jb(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=io(),r=du(t),i=Vl(n,r);i.tag=2,e!=null&&(i.callback=e),e=uu(t,i,r),e!==null&&(Ja(e,t,r,n),jb(e,t,r))}};function O3(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ty(n,r)||!ty(i,o):!0}function gH(t,e,n){var r=!1,i=yu,o=e.contextType;return typeof o=="object"&&o!==null?o=Ea(o):(i=Eo(e)?fd:ji.current,r=e.contextTypes,o=(r=r!=null)?$p(t,i):yu),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function R3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uw.enqueueReplaceState(e,e.state,null)}function kC(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},JR(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ea(o):(o=Eo(e)?fd:ji.current,i.context=$p(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(LC(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uw.enqueueReplaceState(i,i.state,null),x_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wp(t,e){try{var n="",r=e;do n+=jZ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function iA(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dee=typeof WeakMap=="function"?WeakMap:Map;function vH(t,e,n){n=Vl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){E_||(E_=!0,XC=r),UC(t,e)},n}function yH(t,e,n){n=Vl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){UC(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){UC(t,e),typeof r!="function"&&(fu===null?fu=new Set([this]):fu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function I3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dee;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tee.bind(null,t,e,n),e.then(t,t))}function N3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function D3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vl(-1,1),e.tag=2,uu(n,e,1))),n.lanes|=1),t)}var hee=uc.ReactCurrentOwner,bo=!1;function Qi(t,e,n,r){e.child=t===null?XV(e,null,n,r):Hp(e,t.child,n,r)}function L3(t,e,n,r,i){n=n.render;var o=e.ref;return bp(e,i),r=iI(t,e,n,r,o,i),n=oI(),t!==null&&!bo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zl(t,e,i)):(Yn&&n&&WR(e),e.flags|=1,Qi(t,e,r,i),e.child)}function k3(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!mI(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,xH(t,e,o,r,i)):(t=Gb(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ty,n(a,r)&&t.ref===e.ref)return Zl(t,e,i)}return e.flags|=1,t=hu(o,r),t.ref=e.ref,t.return=e,e.child=t}function xH(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ty(o,r)&&t.ref===e.ref)if(bo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bo=!0);else return e.lanes=t.lanes,Zl(t,e,i)}return FC(t,e,n,r,i)}function bH(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ln(rp,zo),zo|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ln(rp,zo),zo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ln(rp,zo),zo|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ln(rp,zo),zo|=r;return Qi(t,e,i,n),e.child}function _H(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function FC(t,e,n,r,i){var o=Eo(n)?fd:ji.current;return o=$p(e,o),bp(e,i),n=iI(t,e,n,r,o,i),r=oI(),t!==null&&!bo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zl(t,e,i)):(Yn&&r&&WR(e),e.flags|=1,Qi(t,e,n,i),e.child)}function U3(t,e,n,r,i){if(Eo(n)){var o=!0;p_(e)}else o=!1;if(bp(e,i),e.stateNode===null)$b(t,e),gH(e,n,r),kC(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ea(c):(c=Eo(n)?fd:ji.current,c=$p(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&R3(e,a,r,c),Vc=!1;var d=e.memoizedState;a.state=d,x_(e,r,a,i),l=e.memoizedState,s!==r||d!==l||wo.current||Vc?(typeof u=="function"&&(LC(e,n,u,r),l=e.memoizedState),(s=Vc||O3(e,n,s,r,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,YV(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:za(e.type,s),a.props=c,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ea(l):(l=Eo(n)?fd:ji.current,l=$p(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&R3(e,a,r,l),Vc=!1,d=e.memoizedState,a.state=d,x_(e,r,a,i);var y=e.memoizedState;s!==f||d!==y||wo.current||Vc?(typeof h=="function"&&(LC(e,n,h,r),y=e.memoizedState),(c=Vc||O3(e,n,c,r,d,y,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return jC(t,e,n,r,o,i)}function jC(t,e,n,r,i,o){_H(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&S3(e,n,!1),Zl(t,e,o);r=e.stateNode,hee.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Hp(e,t.child,null,o),e.child=Hp(e,null,s,o)):Qi(t,e,s,o),e.memoizedState=r.state,i&&S3(e,n,!0),e.child}function SH(t){var e=t.stateNode;e.pendingContext?_3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_3(t,e.context,!1),eI(t,e.containerInfo)}function F3(t,e,n,r,i){return Vp(),qR(i),e.flags|=256,Qi(t,e,n,r),e.child}var zC={dehydrated:null,treeContext:null,retryLane:0};function BC(t){return{baseLanes:t,cachePool:null,transitions:null}}function wH(t,e,n){var r=e.pendingProps,i=tr.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ln(tr,i&1),t===null)return NC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=zw(a,r,0,null),t=Qf(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=BC(n),e.memoizedState=zC,t):lI(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pee(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=hu(s,o):(o=Qf(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?BC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=zC,r}return o=t.child,t=o.sibling,r=hu(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lI(t,e){return e=zw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function o1(t,e,n,r){return r!==null&&qR(r),Hp(e,t.child,null,n),t=lI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pee(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=iA(Error(Qe(422))),o1(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zw({mode:"visible",children:r.children},i,0,null),o=Qf(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Hp(e,t.child,null,a),e.child.memoizedState=BC(a),e.memoizedState=zC,o);if(!(e.mode&1))return o1(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Qe(419)),r=iA(o,r,void 0),o1(t,e,a,r)}if(s=(a&t.childLanes)!==0,bo||s){if(r=ii,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ql(t,i),Ja(r,t,i,-1))}return pI(),r=iA(Error(Qe(421))),o1(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Aee.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Go=cu(i.nextSibling),Xo=e,Yn=!0,qa=null,t!==null&&(ga[va++]=Ul,ga[va++]=Fl,ga[va++]=dd,Ul=t.id,Fl=t.overflow,dd=e),e=lI(e,r.children),e.flags|=4096,e)}function j3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),DC(t.return,e,n)}function oA(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function EH(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Qi(t,e,r.children,n),r=tr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j3(t,n,e);else if(t.tag===19)j3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ln(tr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&b_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),oA(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&b_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}oA(e,!0,n,null,o);break;case"together":oA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $b(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,n=hu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mee(t,e,n){switch(e.tag){case 3:SH(e),Vp();break;case 5:KV(e);break;case 1:Eo(e.type)&&p_(e);break;case 4:eI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ln(v_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ln(tr,tr.current&1),e.flags|=128,null):n&e.child.childLanes?wH(t,e,n):(Ln(tr,tr.current&1),t=Zl(t,e,n),t!==null?t.sibling:null);Ln(tr,tr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EH(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ln(tr,tr.current),r)break;return null;case 22:case 23:return e.lanes=0,bH(t,e,n)}return Zl(t,e,n)}var MH,$C,TH,AH;MH=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$C=function(){};TH=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Df(Hs.current);var o=null;switch(n){case"input":i=uC(t,i),r=uC(t,r),o=[];break;case"select":i=or({},i,{value:void 0}),r=or({},r,{value:void 0}),o=[];break;case"textarea":i=hC(t,i),r=hC(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=d_)}mC(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qv.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&zn("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};AH=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ng(t,e){if(!Yn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gee(t,e,n){var r=e.pendingProps;switch(XR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(e),null;case 1:return Eo(e.type)&&h_(),Oi(e),null;case 3:return r=e.stateNode,Gp(),Gn(wo),Gn(ji),nI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(r1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qa!==null&&(KC(qa),qa=null))),$C(t,e),Oi(e),null;case 5:tI(e);var i=Df(ay.current);if(n=e.type,t!==null&&e.stateNode!=null)TH(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Qe(166));return Oi(e),null}if(t=Df(Hs.current),r1(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ns]=e,r[iy]=o,t=(e.mode&1)!==0,n){case"dialog":zn("cancel",r),zn("close",r);break;case"iframe":case"object":case"embed":zn("load",r);break;case"video":case"audio":for(i=0;i<fv.length;i++)zn(fv[i],r);break;case"source":zn("error",r);break;case"img":case"image":case"link":zn("error",r),zn("load",r);break;case"details":zn("toggle",r);break;case"input":qk(r,o),zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zn("invalid",r);break;case"textarea":Kk(r,o),zn("invalid",r)}mC(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&n1(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&n1(r.textContent,s,t),i=["children",""+s]):qv.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&zn("scroll",r)}switch(n){case"input":qx(r),Yk(r,o,!0);break;case"textarea":qx(r),Qk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=d_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tV(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ns]=e,t[iy]=r,MH(t,e,!1,!1),e.stateNode=t;e:{switch(a=gC(n,r),n){case"dialog":zn("cancel",t),zn("close",t),i=r;break;case"iframe":case"object":case"embed":zn("load",t),i=r;break;case"video":case"audio":for(i=0;i<fv.length;i++)zn(fv[i],t);i=r;break;case"source":zn("error",t),i=r;break;case"img":case"image":case"link":zn("error",t),zn("load",t),i=r;break;case"details":zn("toggle",t),i=r;break;case"input":qk(t,r),i=uC(t,r),zn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=or({},r,{value:void 0}),zn("invalid",t);break;case"textarea":Kk(t,r),i=hC(t,r),zn("invalid",t);break;default:i=r}mC(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?iV(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nV(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yv(t,l):typeof l=="number"&&Yv(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qv.hasOwnProperty(o)?l!=null&&o==="onScroll"&&zn("scroll",t):l!=null&&IR(t,o,l,a))}switch(n){case"input":qx(t),Yk(t,r,!1);break;case"textarea":qx(t),Qk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vu(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gp(t,!!r.multiple,o,!1):r.defaultValue!=null&&gp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=d_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oi(e),null;case 6:if(t&&e.stateNode!=null)AH(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Qe(166));if(n=Df(ay.current),Df(Hs.current),r1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ns]=e,(o=r.nodeValue!==n)&&(t=Xo,t!==null))switch(t.tag){case 3:n1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&n1(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ns]=e,e.stateNode=r}return Oi(e),null;case 13:if(Gn(tr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yn&&Go!==null&&e.mode&1&&!(e.flags&128))GV(),Vp(),e.flags|=98560,o=!1;else if(o=r1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Qe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Qe(317));o[Ns]=e}else Vp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oi(e),o=!1}else qa!==null&&(KC(qa),qa=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?$r===0&&($r=3):pI())),e.updateQueue!==null&&(e.flags|=4),Oi(e),null);case 4:return Gp(),$C(t,e),t===null&&ny(e.stateNode.containerInfo),Oi(e),null;case 10:return QR(e.type._context),Oi(e),null;case 17:return Eo(e.type)&&h_(),Oi(e),null;case 19:if(Gn(tr),o=e.memoizedState,o===null)return Oi(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ng(o,!1);else{if($r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=b_(t),a!==null){for(e.flags|=128,Ng(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ln(tr,tr.current&1|2),e.child}t=t.sibling}o.tail!==null&&br()>Xp&&(e.flags|=128,r=!0,Ng(o,!1),e.lanes=4194304)}else{if(!r)if(t=b_(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ng(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Yn)return Oi(e),null}else 2*br()-o.renderingStartTime>Xp&&n!==1073741824&&(e.flags|=128,r=!0,Ng(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=br(),e.sibling=null,n=tr.current,Ln(tr,r?n&1|2:n&1),e):(Oi(e),null);case 22:case 23:return hI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zo&1073741824&&(Oi(e),e.subtreeFlags&6&&(e.flags|=8192)):Oi(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function vee(t,e){switch(XR(e),e.tag){case 1:return Eo(e.type)&&h_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gp(),Gn(wo),Gn(ji),nI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tI(e),null;case 13:if(Gn(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));Vp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gn(tr),null;case 4:return Gp(),null;case 10:return QR(e.type._context),null;case 22:case 23:return hI(),null;case 24:return null;default:return null}}var a1=!1,Li=!1,yee=typeof WeakSet=="function"?WeakSet:Set,ut=null;function np(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ur(t,e,r)}else n.current=null}function VC(t,e,n){try{n()}catch(r){ur(t,e,r)}}var z3=!1;function xee(t,e){if(TC=c_,t=IV(),GR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(s=a),d===o&&++u===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(AC={focusedElem:t,selectionRange:n},c_=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){e=ut;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,v=y.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:za(e.type,x),v);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(w){ur(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}return y=z3,z3=!1,y}function Mv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&VC(e,n,o)}i=i.next}while(i!==r)}}function Fw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function HC(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PH(t){var e=t.alternate;e!==null&&(t.alternate=null,PH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ns],delete e[iy],delete e[OC],delete e[tee],delete e[nee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CH(t){return t.tag===5||t.tag===3||t.tag===4}function B3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function GC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=d_));else if(r!==4&&(t=t.child,t!==null))for(GC(t,e,n),t=t.sibling;t!==null;)GC(t,e,n),t=t.sibling}function WC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(WC(t,e,n),t=t.sibling;t!==null;)WC(t,e,n),t=t.sibling}var hi=null,Ga=!1;function Cc(t,e,n){for(n=n.child;n!==null;)OH(t,e,n),n=n.sibling}function OH(t,e,n){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Ow,n)}catch{}switch(n.tag){case 5:Li||np(n,e);case 6:var r=hi,i=Ga;hi=null,Cc(t,e,n),hi=r,Ga=i,hi!==null&&(Ga?(t=hi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hi.removeChild(n.stateNode));break;case 18:hi!==null&&(Ga?(t=hi,n=n.stateNode,t.nodeType===8?ZT(t.parentNode,n):t.nodeType===1&&ZT(t,n),Jv(t)):ZT(hi,n.stateNode));break;case 4:r=hi,i=Ga,hi=n.stateNode.containerInfo,Ga=!0,Cc(t,e,n),hi=r,Ga=i;break;case 0:case 11:case 14:case 15:if(!Li&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&VC(n,e,a),i=i.next}while(i!==r)}Cc(t,e,n);break;case 1:if(!Li&&(np(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ur(n,e,s)}Cc(t,e,n);break;case 21:Cc(t,e,n);break;case 22:n.mode&1?(Li=(r=Li)||n.memoizedState!==null,Cc(t,e,n),Li=r):Cc(t,e,n);break;default:Cc(t,e,n)}}function $3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yee),e.forEach(function(r){var i=Pee.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Da(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:hi=s.stateNode,Ga=!1;break e;case 3:hi=s.stateNode.containerInfo,Ga=!0;break e;case 4:hi=s.stateNode.containerInfo,Ga=!0;break e}s=s.return}if(hi===null)throw Error(Qe(160));OH(o,a,i),hi=null,Ga=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ur(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RH(e,t),e=e.sibling}function RH(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Da(e,t),Ms(t),r&4){try{Mv(3,t,t.return),Fw(3,t)}catch(x){ur(t,t.return,x)}try{Mv(5,t,t.return)}catch(x){ur(t,t.return,x)}}break;case 1:Da(e,t),Ms(t),r&512&&n!==null&&np(n,n.return);break;case 5:if(Da(e,t),Ms(t),r&512&&n!==null&&np(n,n.return),t.flags&32){var i=t.stateNode;try{Yv(i,"")}catch(x){ur(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&J$(i,o),gC(s,a);var c=gC(s,o);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?iV(i,f):u==="dangerouslySetInnerHTML"?nV(i,f):u==="children"?Yv(i,f):IR(i,u,f,c)}switch(s){case"input":fC(i,o);break;case"textarea":eV(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?gp(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?gp(i,!!o.multiple,o.defaultValue,!0):gp(i,!!o.multiple,o.multiple?[]:"",!1))}i[iy]=o}catch(x){ur(t,t.return,x)}}break;case 6:if(Da(e,t),Ms(t),r&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){ur(t,t.return,x)}}break;case 3:if(Da(e,t),Ms(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jv(e.containerInfo)}catch(x){ur(t,t.return,x)}break;case 4:Da(e,t),Ms(t);break;case 13:Da(e,t),Ms(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(fI=br())),r&4&&$3(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Li=(c=Li)||u,Da(e,t),Li=c):Da(e,t),Ms(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ut=t,u=t.child;u!==null;){for(f=ut=u;ut!==null;){switch(d=ut,h=d.child,d.tag){case 0:case 11:case 14:case 15:Mv(4,d,d.return);break;case 1:np(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ur(r,n,x)}}break;case 5:np(d,d.return);break;case 22:if(d.memoizedState!==null){H3(f);continue}}h!==null?(h.return=d,ut=h):H3(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=rV("display",a))}catch(x){ur(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){ur(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Da(e,t),Ms(t),r&4&&$3(t);break;case 21:break;default:Da(e,t),Ms(t)}}function Ms(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CH(n)){var r=n;break e}n=n.return}throw Error(Qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yv(i,""),r.flags&=-33);var o=B3(t);WC(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=B3(t);GC(t,s,a);break;default:throw Error(Qe(161))}}catch(l){ur(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bee(t,e,n){ut=t,IH(t)}function IH(t,e,n){for(var r=(t.mode&1)!==0;ut!==null;){var i=ut,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||a1;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Li;s=a1;var c=Li;if(a1=a,(Li=l)&&!c)for(ut=i;ut!==null;)a=ut,l=a.child,a.tag===22&&a.memoizedState!==null?G3(i):l!==null?(l.return=a,ut=l):G3(i);for(;o!==null;)ut=o,IH(o),o=o.sibling;ut=i,a1=s,Li=c}V3(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ut=o):V3(t)}}function V3(t){for(;ut!==null;){var e=ut;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Li||Fw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Li)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:za(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&A3(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A3(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Jv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Li||e.flags&512&&HC(e)}catch(d){ur(e,e.return,d)}}if(e===t){ut=null;break}if(n=e.sibling,n!==null){n.return=e.return,ut=n;break}ut=e.return}}function H3(t){for(;ut!==null;){var e=ut;if(e===t){ut=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ut=n;break}ut=e.return}}function G3(t){for(;ut!==null;){var e=ut;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fw(4,e)}catch(l){ur(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ur(e,i,l)}}var o=e.return;try{HC(e)}catch(l){ur(e,o,l)}break;case 5:var a=e.return;try{HC(e)}catch(l){ur(e,a,l)}}}catch(l){ur(e,e.return,l)}if(e===t){ut=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ut=s;break}ut=e.return}}var _ee=Math.ceil,w_=uc.ReactCurrentDispatcher,cI=uc.ReactCurrentOwner,wa=uc.ReactCurrentBatchConfig,fn=0,ii=null,Or=null,vi=0,zo=0,rp=Au(0),$r=0,uy=null,pd=0,jw=0,uI=0,Tv=null,yo=null,fI=0,Xp=1/0,Cl=null,E_=!1,XC=null,fu=null,s1=!1,ru=null,M_=0,Av=0,qC=null,Vb=-1,Hb=0;function io(){return fn&6?br():Vb!==-1?Vb:Vb=br()}function du(t){return t.mode&1?fn&2&&vi!==0?vi&-vi:iee.transition!==null?(Hb===0&&(Hb=gV()),Hb):(t=wn,t!==0||(t=window.event,t=t===void 0?16:wV(t.type)),t):1}function Ja(t,e,n,r){if(50<Av)throw Av=0,qC=null,Error(Qe(185));w0(t,n,r),(!(fn&2)||t!==ii)&&(t===ii&&(!(fn&2)&&(jw|=n),$r===4&&Wc(t,vi)),Mo(t,r),n===1&&fn===0&&!(e.mode&1)&&(Xp=br()+500,Lw&&Pu()))}function Mo(t,e){var n=t.callbackNode;iJ(t,e);var r=l_(t,t===ii?vi:0);if(r===0)n!==null&&e3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&e3(n),e===1)t.tag===0?ree(W3.bind(null,t)):$V(W3.bind(null,t)),JJ(function(){!(fn&6)&&Pu()}),n=null;else{switch(vV(r)){case 1:n=UR;break;case 4:n=pV;break;case 16:n=s_;break;case 536870912:n=mV;break;default:n=s_}n=zH(n,NH.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NH(t,e){if(Vb=-1,Hb=0,fn&6)throw Error(Qe(327));var n=t.callbackNode;if(_p()&&t.callbackNode!==n)return null;var r=l_(t,t===ii?vi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=T_(t,r);else{e=r;var i=fn;fn|=2;var o=LH();(ii!==t||vi!==e)&&(Cl=null,Xp=br()+500,Kf(t,e));do try{Eee();break}catch(s){DH(t,s)}while(!0);KR(),w_.current=o,fn=i,Or!==null?e=0:(ii=null,vi=0,e=$r)}if(e!==0){if(e===2&&(i=_C(t),i!==0&&(r=i,e=YC(t,i))),e===1)throw n=uy,Kf(t,0),Wc(t,r),Mo(t,br()),n;if(e===6)Wc(t,r);else{if(i=t.current.alternate,!(r&30)&&!See(i)&&(e=T_(t,r),e===2&&(o=_C(t),o!==0&&(r=o,e=YC(t,o))),e===1))throw n=uy,Kf(t,0),Wc(t,r),Mo(t,br()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Qe(345));case 2:_f(t,yo,Cl);break;case 3:if(Wc(t,r),(r&130023424)===r&&(e=fI+500-br(),10<e)){if(l_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){io(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=CC(_f.bind(null,t,yo,Cl),e);break}_f(t,yo,Cl);break;case 4:if(Wc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Za(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_ee(r/1960))-r,10<r){t.timeoutHandle=CC(_f.bind(null,t,yo,Cl),r);break}_f(t,yo,Cl);break;case 5:_f(t,yo,Cl);break;default:throw Error(Qe(329))}}}return Mo(t,br()),t.callbackNode===n?NH.bind(null,t):null}function YC(t,e){var n=Tv;return t.current.memoizedState.isDehydrated&&(Kf(t,e).flags|=256),t=T_(t,e),t!==2&&(e=yo,yo=n,e!==null&&KC(e)),t}function KC(t){yo===null?yo=t:yo.push.apply(yo,t)}function See(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ss(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wc(t,e){for(e&=~uI,e&=~jw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Za(e),r=1<<n;t[n]=-1,e&=~r}}function W3(t){if(fn&6)throw Error(Qe(327));_p();var e=l_(t,0);if(!(e&1))return Mo(t,br()),null;var n=T_(t,e);if(t.tag!==0&&n===2){var r=_C(t);r!==0&&(e=r,n=YC(t,r))}if(n===1)throw n=uy,Kf(t,0),Wc(t,e),Mo(t,br()),n;if(n===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_f(t,yo,Cl),Mo(t,br()),null}function dI(t,e){var n=fn;fn|=1;try{return t(e)}finally{fn=n,fn===0&&(Xp=br()+500,Lw&&Pu())}}function md(t){ru!==null&&ru.tag===0&&!(fn&6)&&_p();var e=fn;fn|=1;var n=wa.transition,r=wn;try{if(wa.transition=null,wn=1,t)return t()}finally{wn=r,wa.transition=n,fn=e,!(fn&6)&&Pu()}}function hI(){zo=rp.current,Gn(rp)}function Kf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZJ(n)),Or!==null)for(n=Or.return;n!==null;){var r=n;switch(XR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&h_();break;case 3:Gp(),Gn(wo),Gn(ji),nI();break;case 5:tI(r);break;case 4:Gp();break;case 13:Gn(tr);break;case 19:Gn(tr);break;case 10:QR(r.type._context);break;case 22:case 23:hI()}n=n.return}if(ii=t,Or=t=hu(t.current,null),vi=zo=e,$r=0,uy=null,uI=jw=pd=0,yo=Tv=null,Nf!==null){for(e=0;e<Nf.length;e++)if(n=Nf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Nf=null}return t}function DH(t,e){do{var n=Or;try{if(KR(),zb.current=S_,__){for(var r=rr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}__=!1}if(hd=0,ti=jr=rr=null,Ev=!1,sy=0,cI.current=null,n===null||n.return===null){$r=1,uy=e,Or=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=vi,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=N3(a);if(h!==null){h.flags&=-257,D3(h,a,s,o,e),h.mode&1&&I3(o,c,e),e=h,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){I3(o,c,e),pI();break e}l=Error(Qe(426))}}else if(Yn&&s.mode&1){var v=N3(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),D3(v,a,s,o,e),qR(Wp(l,s));break e}}o=l=Wp(l,s),$r!==4&&($r=2),Tv===null?Tv=[o]:Tv.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=vH(o,l,e);T3(o,m);break e;case 1:s=l;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fu===null||!fu.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=yH(o,s,e);T3(o,w);break e}}o=o.return}while(o!==null)}UH(n)}catch(E){e=E,Or===n&&n!==null&&(Or=n=n.return);continue}break}while(!0)}function LH(){var t=w_.current;return w_.current=S_,t===null?S_:t}function pI(){($r===0||$r===3||$r===2)&&($r=4),ii===null||!(pd&268435455)&&!(jw&268435455)||Wc(ii,vi)}function T_(t,e){var n=fn;fn|=2;var r=LH();(ii!==t||vi!==e)&&(Cl=null,Kf(t,e));do try{wee();break}catch(i){DH(t,i)}while(!0);if(KR(),fn=n,w_.current=r,Or!==null)throw Error(Qe(261));return ii=null,vi=0,$r}function wee(){for(;Or!==null;)kH(Or)}function Eee(){for(;Or!==null&&!YZ();)kH(Or)}function kH(t){var e=jH(t.alternate,t,zo);t.memoizedProps=t.pendingProps,e===null?UH(t):Or=e,cI.current=null}function UH(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vee(n,e),n!==null){n.flags&=32767,Or=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$r=6,Or=null;return}}else if(n=gee(n,e,zo),n!==null){Or=n;return}if(e=e.sibling,e!==null){Or=e;return}Or=e=t}while(e!==null);$r===0&&($r=5)}function _f(t,e,n){var r=wn,i=wa.transition;try{wa.transition=null,wn=1,Mee(t,e,n,r)}finally{wa.transition=i,wn=r}return null}function Mee(t,e,n,r){do _p();while(ru!==null);if(fn&6)throw Error(Qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oJ(t,o),t===ii&&(Or=ii=null,vi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||s1||(s1=!0,zH(s_,function(){return _p(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wa.transition,wa.transition=null;var a=wn;wn=1;var s=fn;fn|=4,cI.current=null,xee(t,n),RH(n,t),GJ(AC),c_=!!TC,AC=TC=null,t.current=n,bee(n),KZ(),fn=s,wn=a,wa.transition=o}else t.current=n;if(s1&&(s1=!1,ru=t,M_=i),o=t.pendingLanes,o===0&&(fu=null),JZ(n.stateNode),Mo(t,br()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(E_)throw E_=!1,t=XC,XC=null,t;return M_&1&&t.tag!==0&&_p(),o=t.pendingLanes,o&1?t===qC?Av++:(Av=0,qC=t):Av=0,Pu(),null}function _p(){if(ru!==null){var t=vV(M_),e=wa.transition,n=wn;try{if(wa.transition=null,wn=16>t?16:t,ru===null)var r=!1;else{if(t=ru,ru=null,M_=0,fn&6)throw Error(Qe(331));var i=fn;for(fn|=4,ut=t.current;ut!==null;){var o=ut,a=o.child;if(ut.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ut=c;ut!==null;){var u=ut;switch(u.tag){case 0:case 11:case 15:Mv(8,u,o)}var f=u.child;if(f!==null)f.return=u,ut=f;else for(;ut!==null;){u=ut;var d=u.sibling,h=u.return;if(PH(u),u===c){ut=null;break}if(d!==null){d.return=h,ut=d;break}ut=h}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ut=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ut=a;else e:for(;ut!==null;){if(o=ut,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Mv(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,ut=m;break e}ut=o.return}}var _=t.current;for(ut=_;ut!==null;){a=ut;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ut=b;else e:for(a=_;ut!==null;){if(s=ut,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fw(9,s)}}catch(E){ur(s,s.return,E)}if(s===a){ut=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,ut=w;break e}ut=s.return}}if(fn=i,Pu(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Ow,t)}catch{}r=!0}return r}finally{wn=n,wa.transition=e}}return!1}function X3(t,e,n){e=Wp(n,e),e=vH(t,e,1),t=uu(t,e,1),e=io(),t!==null&&(w0(t,1,e),Mo(t,e))}function ur(t,e,n){if(t.tag===3)X3(t,t,n);else for(;e!==null;){if(e.tag===3){X3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fu===null||!fu.has(r))){t=Wp(n,t),t=yH(e,t,1),e=uu(e,t,1),t=io(),e!==null&&(w0(e,1,t),Mo(e,t));break}}e=e.return}}function Tee(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=io(),t.pingedLanes|=t.suspendedLanes&n,ii===t&&(vi&n)===n&&($r===4||$r===3&&(vi&130023424)===vi&&500>br()-fI?Kf(t,0):uI|=n),Mo(t,e)}function FH(t,e){e===0&&(t.mode&1?(e=Qx,Qx<<=1,!(Qx&130023424)&&(Qx=4194304)):e=1);var n=io();t=Ql(t,e),t!==null&&(w0(t,e,n),Mo(t,n))}function Aee(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FH(t,n)}function Pee(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Qe(314))}r!==null&&r.delete(e),FH(t,n)}var jH;jH=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wo.current)bo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bo=!1,mee(t,e,n);bo=!!(t.flags&131072)}else bo=!1,Yn&&e.flags&1048576&&VV(e,g_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$b(t,e),t=e.pendingProps;var i=$p(e,ji.current);bp(e,n),i=iI(null,e,r,t,i,n);var o=oI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Eo(r)?(o=!0,p_(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JR(e),i.updater=Uw,e.stateNode=i,i._reactInternals=e,kC(e,r,t,n),e=jC(null,e,r,!0,o,n)):(e.tag=0,Yn&&o&&WR(e),Qi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($b(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Oee(r),t=za(r,t),i){case 0:e=FC(null,e,r,t,n);break e;case 1:e=U3(null,e,r,t,n);break e;case 11:e=L3(null,e,r,t,n);break e;case 14:e=k3(null,e,r,za(r.type,t),n);break e}throw Error(Qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:za(r,i),FC(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:za(r,i),U3(t,e,r,i,n);case 3:e:{if(SH(e),t===null)throw Error(Qe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,YV(t,e),x_(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Wp(Error(Qe(423)),e),e=F3(t,e,r,n,i);break e}else if(r!==i){i=Wp(Error(Qe(424)),e),e=F3(t,e,r,n,i);break e}else for(Go=cu(e.stateNode.containerInfo.firstChild),Xo=e,Yn=!0,qa=null,n=XV(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vp(),r===i){e=Zl(t,e,n);break e}Qi(t,e,r,n)}e=e.child}return e;case 5:return KV(e),t===null&&NC(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,PC(r,i)?a=null:o!==null&&PC(r,o)&&(e.flags|=32),_H(t,e),Qi(t,e,a,n),e.child;case 6:return t===null&&NC(e),null;case 13:return wH(t,e,n);case 4:return eI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hp(e,null,r,n):Qi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:za(r,i),L3(t,e,r,i,n);case 7:return Qi(t,e,e.pendingProps,n),e.child;case 8:return Qi(t,e,e.pendingProps.children,n),e.child;case 12:return Qi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ln(v_,r._currentValue),r._currentValue=a,o!==null)if(ss(o.value,a)){if(o.children===i.children&&!wo.current){e=Zl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Vl(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),DC(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Qe(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),DC(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Qi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bp(e,n),i=Ea(i),r=r(i),e.flags|=1,Qi(t,e,r,n),e.child;case 14:return r=e.type,i=za(r,e.pendingProps),i=za(r.type,i),k3(t,e,r,i,n);case 15:return xH(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:za(r,i),$b(t,e),e.tag=1,Eo(r)?(t=!0,p_(e)):t=!1,bp(e,n),gH(e,r,i),kC(e,r,i,n),jC(null,e,r,!0,t,n);case 19:return EH(t,e,n);case 22:return bH(t,e,n)}throw Error(Qe(156,e.tag))};function zH(t,e){return hV(t,e)}function Cee(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(t,e,n,r){return new Cee(t,e,n,r)}function mI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oee(t){if(typeof t=="function")return mI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DR)return 11;if(t===LR)return 14}return 2}function hu(t,e){var n=t.alternate;return n===null?(n=xa(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gb(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")mI(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xh:return Qf(n.children,i,o,e);case NR:a=8,i|=8;break;case aC:return t=xa(12,n,e,i|2),t.elementType=aC,t.lanes=o,t;case sC:return t=xa(13,n,e,i),t.elementType=sC,t.lanes=o,t;case lC:return t=xa(19,n,e,i),t.elementType=lC,t.lanes=o,t;case K$:return zw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q$:a=10;break e;case Y$:a=9;break e;case DR:a=11;break e;case LR:a=14;break e;case $c:a=16,r=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=xa(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Qf(t,e,n,r){return t=xa(7,t,r,e),t.lanes=n,t}function zw(t,e,n,r){return t=xa(22,t,r,e),t.elementType=K$,t.lanes=n,t.stateNode={isHidden:!1},t}function aA(t,e,n){return t=xa(6,t,null,e),t.lanes=n,t}function sA(t,e,n){return e=xa(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ree(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=BT(0),this.expirationTimes=BT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BT(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gI(t,e,n,r,i,o,a,s,l){return t=new Ree(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xa(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JR(o),t}function Iee(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BH(t){if(!t)return yu;t=t._reactInternals;e:{if(kd(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Eo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var n=t.type;if(Eo(n))return BV(t,n,e)}return e}function $H(t,e,n,r,i,o,a,s,l){return t=gI(n,r,!0,t,i,o,a,s,l),t.context=BH(null),n=t.current,r=io(),i=du(n),o=Vl(r,i),o.callback=e??null,uu(n,o,i),t.current.lanes=i,w0(t,i,r),Mo(t,r),t}function Bw(t,e,n,r){var i=e.current,o=io(),a=du(i);return n=BH(n),e.context===null?e.context=n:e.pendingContext=n,e=Vl(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=uu(i,e,a),t!==null&&(Ja(t,i,a,o),jb(t,i,a)),a}function A_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vI(t,e){q3(t,e),(t=t.alternate)&&q3(t,e)}function Nee(){return null}var VH=typeof reportError=="function"?reportError:function(t){console.error(t)};function yI(t){this._internalRoot=t}$w.prototype.render=yI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));Bw(t,e,null,null)};$w.prototype.unmount=yI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;md(function(){Bw(null,t,null,null)}),e[Kl]=null}};function $w(t){this._internalRoot=t}$w.prototype.unstable_scheduleHydration=function(t){if(t){var e=bV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gc.length&&e!==0&&e<Gc[n].priority;n++);Gc.splice(n,0,t),n===0&&SV(t)}};function xI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y3(){}function Dee(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=A_(a);o.call(c)}}var a=$H(e,r,t,0,null,!1,!1,"",Y3);return t._reactRootContainer=a,t[Kl]=a.current,ny(t.nodeType===8?t.parentNode:t),md(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=A_(l);s.call(c)}}var l=gI(t,0,!1,null,null,!1,!1,"",Y3);return t._reactRootContainer=l,t[Kl]=l.current,ny(t.nodeType===8?t.parentNode:t),md(function(){Bw(e,l,n,r)}),l}function Hw(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=A_(a);s.call(l)}}Bw(e,a,t,i)}else a=Dee(n,e,t,i,r);return A_(a)}yV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uv(e.pendingLanes);n!==0&&(FR(e,n|1),Mo(e,br()),!(fn&6)&&(Xp=br()+500,Pu()))}break;case 13:md(function(){var r=Ql(t,1);if(r!==null){var i=io();Ja(r,t,1,i)}}),vI(t,1)}};jR=function(t){if(t.tag===13){var e=Ql(t,134217728);if(e!==null){var n=io();Ja(e,t,134217728,n)}vI(t,134217728)}};xV=function(t){if(t.tag===13){var e=du(t),n=Ql(t,e);if(n!==null){var r=io();Ja(n,t,e,r)}vI(t,e)}};bV=function(){return wn};_V=function(t,e){var n=wn;try{return wn=t,e()}finally{wn=n}};yC=function(t,e,n){switch(e){case"input":if(fC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dw(r);if(!i)throw Error(Qe(90));Z$(r),fC(r,i)}}}break;case"textarea":eV(t,n);break;case"select":e=n.value,e!=null&&gp(t,!!n.multiple,e,!1)}};sV=dI;lV=md;var Lee={usingClientEntryPoint:!1,Events:[M0,Qh,Dw,oV,aV,dI]},Dg={findFiberByHostInstance:If,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kee={bundleType:Dg.bundleType,version:Dg.version,rendererPackageName:Dg.rendererPackageName,rendererConfig:Dg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fV(t),t===null?null:t.stateNode},findFiberByHostInstance:Dg.findFiberByHostInstance||Nee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l1.isDisabled&&l1.supportsFiber)try{Ow=l1.inject(kee),Vs=l1}catch{}}ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lee;ea.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xI(e))throw Error(Qe(200));return Iee(t,e,null,n)};ea.createRoot=function(t,e){if(!xI(t))throw Error(Qe(299));var n=!1,r="",i=VH;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gI(t,1,!1,null,null,n,!1,r,i),t[Kl]=e.current,ny(t.nodeType===8?t.parentNode:t),new yI(e)};ea.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=fV(e),t=t===null?null:t.stateNode,t};ea.flushSync=function(t){return md(t)};ea.hydrate=function(t,e,n){if(!Vw(e))throw Error(Qe(200));return Hw(null,t,e,!0,n)};ea.hydrateRoot=function(t,e,n){if(!xI(t))throw Error(Qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=VH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=$H(e,null,t,1,n??null,i,!1,o,a),t[Kl]=e.current,ny(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $w(e)};ea.render=function(t,e,n){if(!Vw(e))throw Error(Qe(200));return Hw(null,t,e,!1,n)};ea.unmountComponentAtNode=function(t){if(!Vw(t))throw Error(Qe(40));return t._reactRootContainer?(md(function(){Hw(null,null,t,!1,function(){t._reactRootContainer=null,t[Kl]=null})}),!0):!1};ea.unstable_batchedUpdates=dI;ea.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vw(n))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return Hw(t,e,n,!1,r)};ea.version="18.3.1-next-f1338f8080-20240426";function HH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HH)}catch(t){console.error(t)}}HH(),H$.exports=ea;var Ud=H$.exports;const Uee=yn(Ud);var GH,K3=Ud;GH=K3.createRoot,K3.hydrateRoot;var Gw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Kc,ER,E$,jee=(E$=class{constructor(){sn(this,Kc,Fee);sn(this,ER,!1)}setTimeoutProvider(t){Rt(this,Kc,t)}setTimeout(t,e){return Ve(this,Kc).setTimeout(t,e)}clearTimeout(t){Ve(this,Kc).clearTimeout(t)}setInterval(t,e){return Ve(this,Kc).setInterval(t,e)}clearInterval(t){Ve(this,Kc).clearInterval(t)}},Kc=new WeakMap,ER=new WeakMap,E$),QC=new jee;function zee(t){setTimeout(t,0)}var Ww=typeof window>"u"||"Deno"in globalThis;function Ba(){}function Bee(t,e){return typeof t=="function"?t(e):t}function $ee(t){return typeof t=="number"&&t>=0&&t!==1/0}function Vee(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ZC(t,e){return typeof t=="function"?t(e):t}function Hee(t,e){return typeof t=="function"?t(e):t}function Q3(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==bI(a,e.options))return!1}else if(!dy(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function Z3(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(fy(e.options.mutationKey)!==fy(o))return!1}else if(!dy(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function bI(t,e){return((e==null?void 0:e.queryKeyHashFn)||fy)(t)}function fy(t){return JSON.stringify(t,(e,n)=>JC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function dy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>dy(t[n],e[n])):!1}var Gee=Object.prototype.hasOwnProperty;function WH(t,e){if(t===e)return t;const n=J3(t)&&J3(e);if(!n&&!(JC(t)&&JC(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,s=n?new Array(a):{};let l=0;for(let c=0;c<a;c++){const u=n?c:o[c],f=t[u],d=e[u];if(f===d){s[u]=f,(n?c<i:Gee.call(t,u))&&l++;continue}if(f===null||d===null||typeof f!="object"||typeof d!="object"){s[u]=d;continue}const h=WH(f,d);s[u]=h,h===f&&l++}return i===a&&l===i?t:s}function J3(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function JC(t){if(!eU(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!eU(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eU(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wee(t){return new Promise(e=>{QC.setTimeout(e,t)})}function Xee(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WH(t,e):e}function qee(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Yee(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _I=Symbol();function XH(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_I?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Hf,Qc,Np,M$,Kee=(M$=class extends Gw{constructor(){super();sn(this,Hf);sn(this,Qc);sn(this,Np);Rt(this,Np,e=>{if(!Ww&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ve(this,Qc)||this.setEventListener(Ve(this,Np))}onUnsubscribe(){var e;this.hasListeners()||((e=Ve(this,Qc))==null||e.call(this),Rt(this,Qc,void 0))}setEventListener(e){var n;Rt(this,Np,e),(n=Ve(this,Qc))==null||n.call(this),Rt(this,Qc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ve(this,Hf)!==e&&(Rt(this,Hf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ve(this,Hf)=="boolean"?Ve(this,Hf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hf=new WeakMap,Qc=new WeakMap,Np=new WeakMap,M$),qH=new Kee;function Qee(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Zee=zee;function Jee(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=Zee;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Zi=Jee(),Dp,Zc,Lp,T$,ete=(T$=class extends Gw{constructor(){super();sn(this,Dp,!0);sn(this,Zc);sn(this,Lp);Rt(this,Lp,e=>{if(!Ww&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ve(this,Zc)||this.setEventListener(Ve(this,Lp))}onUnsubscribe(){var e;this.hasListeners()||((e=Ve(this,Zc))==null||e.call(this),Rt(this,Zc,void 0))}setEventListener(e){var n;Rt(this,Lp,e),(n=Ve(this,Zc))==null||n.call(this),Rt(this,Zc,e(this.setOnline.bind(this)))}setOnline(e){Ve(this,Dp)!==e&&(Rt(this,Dp,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ve(this,Dp)}},Dp=new WeakMap,Zc=new WeakMap,Lp=new WeakMap,T$),P_=new ete;function tte(t){return Math.min(1e3*2**t,3e4)}function YH(t){return(t??"online")==="online"?P_.isOnline():!0}var e2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function KH(t){let e=!1,n=0,r;const i=Qee(),o=()=>i.status!=="pending",a=x=>{var v;if(!o()){const m=new e2(x);d(m),(v=t.onCancel)==null||v.call(t,m)}},s=()=>{e=!0},l=()=>{e=!1},c=()=>qH.isFocused()&&(t.networkMode==="always"||P_.isOnline())&&t.canRun(),u=()=>YH(t.networkMode)&&t.canRun(),f=x=>{o()||(r==null||r(),i.resolve(x))},d=x=>{o()||(r==null||r(),i.reject(x))},h=()=>new Promise(x=>{var v;r=m=>{(o()||c())&&x(m)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;r=void 0,o()||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(o())return;let x;const v=n===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(m){x=Promise.reject(m)}Promise.resolve(x).then(f).catch(m=>{var M;if(o())return;const _=t.retry??(Ww?0:3),b=t.retryDelay??tte,w=typeof b=="function"?b(n,m):b,E=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,m);if(e||!E){d(m);return}n++,(M=t.onFail)==null||M.call(t,n,m),Wee(w).then(()=>c()?void 0:h()).then(()=>{e?d(m):y()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?y():h().then(y),i)}}var Gf,A$,QH=(A$=class{constructor(){sn(this,Gf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$ee(this.gcTime)&&Rt(this,Gf,QC.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ww?1/0:5*60*1e3))}clearGcTimeout(){Ve(this,Gf)&&(QC.clearTimeout(Ve(this,Gf)),Rt(this,Gf,void 0))}},Gf=new WeakMap,A$),Wf,kp,ma,Xf,Jr,x0,qf,Va,Pl,P$,nte=(P$=class extends QH{constructor(e){super();sn(this,Va);sn(this,Wf);sn(this,kp);sn(this,ma);sn(this,Xf);sn(this,Jr);sn(this,x0);sn(this,qf);Rt(this,qf,!1),Rt(this,x0,e.defaultOptions),this.setOptions(e.options),this.observers=[],Rt(this,Xf,e.client),Rt(this,ma,Ve(this,Xf).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Rt(this,Wf,tU(this.options)),this.state=e.state??Ve(this,Wf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ve(this,Jr))==null?void 0:e.promise}setOptions(e){if(this.options={...Ve(this,x0),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=tU(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Rt(this,Wf,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ve(this,ma).remove(this)}setData(e,n){const r=Xee(this.state.data,e,this.options);return Pi(this,Va,Pl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Pi(this,Va,Pl).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Ve(this,Jr))==null?void 0:r.promise;return(i=Ve(this,Jr))==null||i.cancel(e),n?n.then(Ba).catch(Ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ve(this,Wf))}isActive(){return this.observers.some(e=>Hee(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_I||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ZC(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Vee(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ve(this,Jr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ve(this,Jr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ve(this,ma).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ve(this,Jr)&&(Ve(this,qf)?Ve(this,Jr).cancel({revert:!0}):Ve(this,Jr).cancelRetry()),this.scheduleGc()),Ve(this,ma).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pi(this,Va,Pl).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,f,d,h,y,x,v,m,_,b;if(this.state.fetchStatus!=="idle"&&((l=Ve(this,Jr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ve(this,Jr))return Ve(this,Jr).continueRetry(),Ve(this,Jr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(E=>E.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Rt(this,qf,!0),r.signal)})},o=()=>{const w=XH(this.options,n),M=(()=>{const A={client:Ve(this,Xf),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return Rt(this,qf,!1),this.options.persister?this.options.persister(w,M,this):w(M)},s=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ve(this,Xf),state:this.state,fetchFn:o};return i(w),w})();(c=this.options.behavior)==null||c.onFetch(s,this),Rt(this,kp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Pi(this,Va,Pl).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta}),Rt(this,Jr,KH({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,onCancel:w=>{w instanceof e2&&w.revert&&this.setState({...Ve(this,kp),fetchStatus:"idle"}),r.abort()},onFail:(w,E)=>{Pi(this,Va,Pl).call(this,{type:"failed",failureCount:w,error:E})},onPause:()=>{Pi(this,Va,Pl).call(this,{type:"pause"})},onContinue:()=>{Pi(this,Va,Pl).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}));try{const w=await Ve(this,Jr).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(h=(d=Ve(this,ma).config).onSuccess)==null||h.call(d,w,this),(x=(y=Ve(this,ma).config).onSettled)==null||x.call(y,w,this.state.error,this),w}catch(w){if(w instanceof e2){if(w.silent)return Ve(this,Jr).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Pi(this,Va,Pl).call(this,{type:"error",error:w}),(m=(v=Ve(this,ma).config).onError)==null||m.call(v,w,this),(b=(_=Ve(this,ma).config).onSettled)==null||b.call(_,this.state.data,w,this),w}finally{this.scheduleGc()}}},Wf=new WeakMap,kp=new WeakMap,ma=new WeakMap,Xf=new WeakMap,Jr=new WeakMap,x0=new WeakMap,qf=new WeakMap,Va=new WeakSet,Pl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rte(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Rt(this,kp,e.manual?i:void 0),i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Zi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ve(this,ma).notify({query:this,type:"updated",action:e})})},P$);function rte(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YH(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tU(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function nU(t){return{onFetch:(e,n)=>{var u,f,d,h,y;const r=e.options,i=(d=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,o=((h=e.state.data)==null?void 0:h.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},m=XH(e.options,e.fetchOptions),_=async(b,w,E)=>{if(x)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const A=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:w,direction:E?"backward":"forward",meta:e.options.meta};return v(N),N})(),P=await m(A),{maxPages:R}=e.options,O=E?Yee:qee;return{pages:O(b.pages,P,R),pageParams:O(b.pageParams,w,R)}};if(i&&o.length){const b=i==="backward",w=b?ite:rU,E={pages:o,pageParams:a},M=w(r,E);s=await _(E,M,b)}else{const b=t??o.length;do{const w=l===0?a[0]??r.initialPageParam:rU(r,s);if(l>0&&w==null)break;s=await _(s,w),l++}while(l<b)}return s};e.options.persister?e.fetchFn=()=>{var x,v;return(v=(x=e.options).persister)==null?void 0:v.call(x,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function rU(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ite(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var b0,Os,Ki,Yf,Rs,jc,C$,ote=(C$=class extends QH{constructor(e){super();sn(this,Rs);sn(this,b0);sn(this,Os);sn(this,Ki);sn(this,Yf);Rt(this,b0,e.client),this.mutationId=e.mutationId,Rt(this,Ki,e.mutationCache),Rt(this,Os,[]),this.state=e.state||ate(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ve(this,Os).includes(e)||(Ve(this,Os).push(e),this.clearGcTimeout(),Ve(this,Ki).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Rt(this,Os,Ve(this,Os).filter(n=>n!==e)),this.scheduleGc(),Ve(this,Ki).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ve(this,Os).length||(this.state.status==="pending"?this.scheduleGc():Ve(this,Ki).remove(this))}continue(){var e;return((e=Ve(this,Yf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,s,l,c,u,f,d,h,y,x,v,m,_,b,w,E,M,A,P,R;const n=()=>{Pi(this,Rs,jc).call(this,{type:"continue"})},r={client:Ve(this,b0),meta:this.options.meta,mutationKey:this.options.mutationKey};Rt(this,Yf,KH({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,N)=>{Pi(this,Rs,jc).call(this,{type:"failed",failureCount:O,error:N})},onPause:()=>{Pi(this,Rs,jc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ve(this,Ki).canRun(this)}));const i=this.state.status==="pending",o=!Ve(this,Yf).canStart();try{if(i)n();else{Pi(this,Rs,jc).call(this,{type:"pending",variables:e,isPaused:o}),await((s=(a=Ve(this,Ki).config).onMutate)==null?void 0:s.call(a,e,this,r));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));N!==this.state.context&&Pi(this,Rs,jc).call(this,{type:"pending",context:N,variables:e,isPaused:o})}const O=await Ve(this,Yf).start();return await((f=(u=Ve(this,Ki).config).onSuccess)==null?void 0:f.call(u,O,e,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,O,e,this.state.context,r)),await((x=(y=Ve(this,Ki).config).onSettled)==null?void 0:x.call(y,O,null,this.state.variables,this.state.context,this,r)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,O,null,e,this.state.context,r)),Pi(this,Rs,jc).call(this,{type:"success",data:O}),O}catch(O){try{throw await((b=(_=Ve(this,Ki).config).onError)==null?void 0:b.call(_,O,e,this.state.context,this,r)),await((E=(w=this.options).onError)==null?void 0:E.call(w,O,e,this.state.context,r)),await((A=(M=Ve(this,Ki).config).onSettled)==null?void 0:A.call(M,void 0,O,this.state.variables,this.state.context,this,r)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,O,e,this.state.context,r)),O}finally{Pi(this,Rs,jc).call(this,{type:"error",error:O})}}finally{Ve(this,Ki).runNext(this)}}},b0=new WeakMap,Os=new WeakMap,Ki=new WeakMap,Yf=new WeakMap,Rs=new WeakSet,jc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Zi.batch(()=>{Ve(this,Os).forEach(r=>{r.onMutationUpdate(e)}),Ve(this,Ki).notify({mutation:this,type:"updated",action:e})})},C$);function ate(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nl,Ha,_0,O$,ste=(O$=class extends Gw{constructor(e={}){super();sn(this,Nl);sn(this,Ha);sn(this,_0);this.config=e,Rt(this,Nl,new Set),Rt(this,Ha,new Map),Rt(this,_0,0)}build(e,n,r){const i=new ote({client:e,mutationCache:this,mutationId:++Hx(this,_0)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Ve(this,Nl).add(e);const n=c1(e);if(typeof n=="string"){const r=Ve(this,Ha).get(n);r?r.push(e):Ve(this,Ha).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ve(this,Nl).delete(e)){const n=c1(e);if(typeof n=="string"){const r=Ve(this,Ha).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Ve(this,Ha).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=c1(e);if(typeof n=="string"){const r=Ve(this,Ha).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=c1(e);if(typeof n=="string"){const i=(r=Ve(this,Ha).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zi.batch(()=>{Ve(this,Nl).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ve(this,Nl).clear(),Ve(this,Ha).clear()})}getAll(){return Array.from(Ve(this,Nl))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z3(n,r))}findAll(e={}){return this.getAll().filter(n=>Z3(e,n))}notify(e){Zi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zi.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ba))))}},Nl=new WeakMap,Ha=new WeakMap,_0=new WeakMap,O$);function c1(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Is,R$,lte=(R$=class extends Gw{constructor(e={}){super();sn(this,Is);this.config=e,Rt(this,Is,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??bI(i,n);let a=this.get(o);return a||(a=new nte({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Ve(this,Is).has(e.queryHash)||(Ve(this,Is).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ve(this,Is).get(e.queryHash);n&&(e.destroy(),n===e&&Ve(this,Is).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ve(this,Is).get(e)}getAll(){return[...Ve(this,Is).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Q3(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Q3(e,r)):n}notify(e){Zi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Is=new WeakMap,R$),lr,Jc,eu,Up,Fp,tu,jp,zp,I$,cte=(I$=class{constructor(t={}){sn(this,lr);sn(this,Jc);sn(this,eu);sn(this,Up);sn(this,Fp);sn(this,tu);sn(this,jp);sn(this,zp);Rt(this,lr,t.queryCache||new lte),Rt(this,Jc,t.mutationCache||new ste),Rt(this,eu,t.defaultOptions||{}),Rt(this,Up,new Map),Rt(this,Fp,new Map),Rt(this,tu,0)}mount(){Hx(this,tu)._++,Ve(this,tu)===1&&(Rt(this,jp,qH.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ve(this,lr).onFocus())})),Rt(this,zp,P_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ve(this,lr).onOnline())})))}unmount(){var t,e;Hx(this,tu)._--,Ve(this,tu)===0&&((t=Ve(this,jp))==null||t.call(this),Rt(this,jp,void 0),(e=Ve(this,zp))==null||e.call(this),Rt(this,zp,void 0))}isFetching(t){return Ve(this,lr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ve(this,Jc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ve(this,lr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Ve(this,lr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ZC(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Ve(this,lr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Ve(this,lr).get(r.queryHash),o=i==null?void 0:i.state.data,a=Bee(e,o);if(a!==void 0)return Ve(this,lr).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Zi.batch(()=>Ve(this,lr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ve(this,lr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ve(this,lr);Zi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ve(this,lr);return Zi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zi.batch(()=>Ve(this,lr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ba).catch(Ba)}invalidateQueries(t,e={}){return Zi.batch(()=>(Ve(this,lr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zi.batch(()=>Ve(this,lr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ba)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ba)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ve(this,lr).build(this,e);return n.isStaleByTime(ZC(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ba).catch(Ba)}fetchInfiniteQuery(t){return t.behavior=nU(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ba).catch(Ba)}ensureInfiniteQueryData(t){return t.behavior=nU(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return P_.isOnline()?Ve(this,Jc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ve(this,lr)}getMutationCache(){return Ve(this,Jc)}getDefaultOptions(){return Ve(this,eu)}setDefaultOptions(t){Rt(this,eu,t)}setQueryDefaults(t,e){Ve(this,Up).set(fy(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ve(this,Up).values()],n={};return e.forEach(r=>{dy(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Ve(this,Fp).set(fy(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ve(this,Fp).values()],n={};return e.forEach(r=>{dy(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ve(this,eu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_I&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ve(this,eu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ve(this,lr).clear(),Ve(this,Jc).clear()}},lr=new WeakMap,Jc=new WeakMap,eu=new WeakMap,Up=new WeakMap,Fp=new WeakMap,tu=new WeakMap,jp=new WeakMap,zp=new WeakMap,I$),ute=I.createContext(void 0),fte=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(ute.Provider,{value:t,children:e}));function xt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function dte(t,e){const n=I.createContext(e),r=o=>{const{children:a,...s}=o,l=I.useMemo(()=>s,Object.values(s));return S.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(o){const a=I.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function hs(t,e=[]){let n=[];function r(o,a){const s=I.createContext(a),l=n.length;n=[...n,a];const c=f=>{var m;const{scope:d,children:h,...y}=f,x=((m=d==null?void 0:d[t])==null?void 0:m[l])||s,v=I.useMemo(()=>y,Object.values(y));return S.jsx(x.Provider,{value:v,children:h})};c.displayName=o+"Provider";function u(f,d){var x;const h=((x=d==null?void 0:d[t])==null?void 0:x[l])||s,y=I.useContext(h);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>I.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return I.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,hte(i,...e)]}function hte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function iU(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ZH(...t){return e=>{let n=!1;const r=t.map(i=>{const o=iU(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():iU(t[i],null)}}}}function nn(...t){return I.useCallback(ZH(...t),t)}function qp(t){const e=mte(t),n=I.forwardRef((r,i)=>{const{children:o,...a}=r,s=I.Children.toArray(o),l=s.find(vte);if(l){const c=l.props.children,u=s.map(f=>f===l?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:f);return S.jsx(e,{...a,ref:i,children:I.isValidElement(c)?I.cloneElement(c,void 0,u):null})}return S.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var pte=qp("Slot");function mte(t){const e=I.forwardRef((n,r)=>{const{children:i,...o}=n;if(I.isValidElement(i)){const a=xte(i),s=yte(o,i.props);return i.type!==I.Fragment&&(s.ref=r?ZH(r,a):a),I.cloneElement(i,s)}return I.Children.count(i)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gte=Symbol("radix.slottable");function vte(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gte}function yte(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function xte(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xw(t){const e=t+"CollectionProvider",[n,r]=hs(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:v,children:m}=x,_=oe.useRef(null),b=oe.useRef(new Map).current;return S.jsx(i,{scope:v,itemMap:b,collectionRef:_,children:m})};a.displayName=e;const s=t+"CollectionSlot",l=qp(s),c=oe.forwardRef((x,v)=>{const{scope:m,children:_}=x,b=o(s,m),w=nn(v,b.collectionRef);return S.jsx(l,{ref:w,children:_})});c.displayName=s;const u=t+"CollectionItemSlot",f="data-radix-collection-item",d=qp(u),h=oe.forwardRef((x,v)=>{const{scope:m,children:_,...b}=x,w=oe.useRef(null),E=nn(v,w),M=o(u,m);return oe.useEffect(()=>(M.itemMap.set(w,{ref:w,...b}),()=>void M.itemMap.delete(w))),S.jsx(d,{[f]:"",ref:E,children:_})});h.displayName=u;function y(x){const v=o(t+"CollectionConsumer",x);return oe.useCallback(()=>{const _=v.collectionRef.current;if(!_)return[];const b=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((M,A)=>b.indexOf(M.ref.current)-b.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},y,r]}var oi=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},bte=CR[" useId ".trim().toString()]||(()=>{}),_te=0;function pu(t){const[e,n]=I.useState(bte());return oi(()=>{t||n(r=>r??String(_te++))},[t]),t||(e?`radix-${e}`:"")}var Ste=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Et=Ste.reduce((t,e)=>{const n=qp(`Primitive.${e}`),r=I.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function JH(t,e){t&&Ud.flushSync(()=>t.dispatchEvent(e))}function Br(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var wte=CR[" useInsertionEffect ".trim().toString()]||oi;function xu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=Ete({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const u=I.useRef(t!==void 0);I.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=I.useCallback(u=>{var f;if(s){const d=Mte(u)?u(t):u;d!==t&&((f=a.current)==null||f.call(a,d))}else o(u)},[s,t,o,a]);return[l,c]}function Ete({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),i=I.useRef(n),o=I.useRef(e);return wte(()=>{o.current=e},[e]),I.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function Mte(t){return typeof t=="function"}var Tte=I.createContext(void 0);function A0(t){const e=I.useContext(Tte);return t||e||"ltr"}var lA="rovingFocusGroup.onEntryFocus",Ate={bubbles:!1,cancelable:!0},P0="RovingFocusGroup",[t2,e6,Pte]=Xw(P0),[Cte,t6]=hs(P0,[Pte]),[Ote,Rte]=Cte(P0),n6=I.forwardRef((t,e)=>S.jsx(t2.Provider,{scope:t.__scopeRovingFocusGroup,children:S.jsx(t2.Slot,{scope:t.__scopeRovingFocusGroup,children:S.jsx(Ite,{...t,ref:e})})}));n6.displayName=P0;var Ite=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,d=I.useRef(null),h=nn(e,d),y=A0(o),[x,v]=xu({prop:a,defaultProp:s??null,onChange:l,caller:P0}),[m,_]=I.useState(!1),b=Br(c),w=e6(n),E=I.useRef(!1),[M,A]=I.useState(0);return I.useEffect(()=>{const P=d.current;if(P)return P.addEventListener(lA,b),()=>P.removeEventListener(lA,b)},[b]),S.jsx(Ote,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:x,onItemFocus:I.useCallback(P=>v(P),[v]),onItemShiftTab:I.useCallback(()=>_(!0),[]),onFocusableItemAdd:I.useCallback(()=>A(P=>P+1),[]),onFocusableItemRemove:I.useCallback(()=>A(P=>P-1),[]),children:S.jsx(Et.div,{tabIndex:m||M===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:xt(t.onMouseDown,()=>{E.current=!0}),onFocus:xt(t.onFocus,P=>{const R=!E.current;if(P.target===P.currentTarget&&R&&!m){const O=new CustomEvent(lA,Ate);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const N=w().filter(z=>z.focusable),L=N.find(z=>z.active),j=N.find(z=>z.id===x),H=[L,j,...N].filter(Boolean).map(z=>z.ref.current);o6(H,u)}}E.current=!1}),onBlur:xt(t.onBlur,()=>_(!1))})})}),r6="RovingFocusGroupItem",i6=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=pu(),c=o||l,u=Rte(r6,n),f=u.currentTabStopId===c,d=e6(n),{onFocusableItemAdd:h,onFocusableItemRemove:y,currentTabStopId:x}=u;return I.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),S.jsx(t2.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:S.jsx(Et.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:xt(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:xt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:xt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=Lte(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=d().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const w=b.indexOf(v.currentTarget);b=u.loop?kte(b,w+1):b.slice(w+1)}setTimeout(()=>o6(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});i6.displayName=r6;var Nte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lte(t,e,n){const r=Dte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Nte[r]}function o6(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function kte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ute=n6,Fte=i6;function jte(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var nl=t=>{const{present:e,children:n}=t,r=zte(e),i=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),o=nn(r.ref,Bte(i));return typeof n=="function"||r.isPresent?I.cloneElement(i,{ref:o}):null};nl.displayName="Presence";function zte(t){const[e,n]=I.useState(),r=I.useRef(null),i=I.useRef(t),o=I.useRef("none"),a=t?"mounted":"unmounted",[s,l]=jte(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=u1(r.current);o.current=s==="mounted"?c:"none"},[s]),oi(()=>{const c=r.current,u=i.current;if(u!==t){const d=o.current,h=u1(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),oi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=h=>{const x=u1(r.current).includes(CSS.escape(h.animationName));if(h.target===e&&x&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=h=>{h.target===e&&(o.current=u1(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:I.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function u1(t){return(t==null?void 0:t.animationName)||"none"}function Bte(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qw="Tabs",[$te,s$e]=hs(qw,[t6]),a6=t6(),[Vte,SI]=$te(qw),s6=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=A0(s),[f,d]=xu({prop:r,onChange:i,defaultProp:o??"",caller:qw});return S.jsx(Vte,{scope:n,baseId:pu(),value:f,onValueChange:d,orientation:a,dir:u,activationMode:l,children:S.jsx(Et.div,{dir:u,"data-orientation":a,...c,ref:e})})});s6.displayName=qw;var l6="TabsList",c6=I.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=SI(l6,n),a=a6(n);return S.jsx(Ute,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:S.jsx(Et.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});c6.displayName=l6;var u6="TabsTrigger",f6=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=SI(u6,n),s=a6(n),l=p6(a.baseId,r),c=m6(a.baseId,r),u=r===a.value;return S.jsx(Fte,{asChild:!0,...s,focusable:!i,active:u,children:S.jsx(Et.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:xt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:xt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:xt(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!i&&f&&a.onValueChange(r)})})})});f6.displayName=u6;var d6="TabsContent",h6=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=SI(d6,n),l=p6(s.baseId,r),c=m6(s.baseId,r),u=r===s.value,f=I.useRef(u);return I.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),S.jsx(nl,{present:i||u,children:({present:d})=>S.jsx(Et.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:d&&o})})});h6.displayName=d6;function p6(t,e){return`${t}-trigger-${e}`}function m6(t,e){return`${t}-content-${e}`}var Hte=s6,g6=c6,v6=f6,y6=h6;function x6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=x6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=x6(t))&&(r&&(r+=" "),r+=e);return r}const wI="-",Gte=t=>{const e=Xte(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(wI);return s[0]===""&&s.length!==1&&s.shift(),b6(s,e)||Wte(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},b6=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?b6(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(wI);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},oU=/^\[(.+)\]$/,Wte=t=>{if(oU.test(t)){const e=oU.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Xte=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Yte(Object.entries(t.classGroups),n).forEach(([o,a])=>{n2(a,r,o,e)}),r},n2=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:aU(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(qte(i)){n2(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{n2(a,aU(e,o),n,r)})})},aU=(t,e)=>{let n=t;return e.split(wI).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qte=t=>t.isThemeGetter,Yte=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,Kte=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},_6="!",Qte=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,f;for(let v=0;v<s.length;v++){let m=s[v];if(c===0){if(m===i&&(r||s.slice(v,v+o)===e)){l.push(s.slice(u,v)),u=v+o;continue}if(m==="/"){f=v;continue}}m==="["?c++:m==="]"&&c--}const d=l.length===0?s:s.substring(u),h=d.startsWith(_6),y=h?d.substring(1):d,x=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:x}};return n?s=>n({className:s,parseClassName:a}):a},Zte=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Jte=t=>({cache:Kte(t.cacheSize),parseClassName:Qte(t),...Gte(t)}),ene=/\s+/,tne=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(ene);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let y=!!h,x=r(y?d.substring(0,h):d);if(!x){if(!y){s=c+(s.length>0?" "+s:s);continue}if(x=r(d),!x){s=c+(s.length>0?" "+s:s);continue}y=!1}const v=Zte(u).join(":"),m=f?v+_6:v,_=m+x;if(o.includes(_))continue;o.push(_);const b=i(x,y);for(let w=0;w<b.length;++w){const E=b[w];o.push(m+E)}s=c+(s.length>0?" "+s:s)}return s};function nne(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=S6(e))&&(r&&(r+=" "),r+=n);return r}const S6=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=S6(t[r]))&&(n&&(n+=" "),n+=e);return n};function rne(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,f)=>f(u),t());return n=Jte(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=tne(l,n);return i(l,u),u}return function(){return o(nne.apply(null,arguments))}}const jn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},w6=/^\[(?:([a-z-]+):)?(.+)\]$/i,ine=/^\d+\/\d+$/,one=new Set(["px","full","screen"]),ane=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,une=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bl=t=>Sp(t)||one.has(t)||ine.test(t),Oc=t=>Om(t,"length",yne),Sp=t=>!!t&&!Number.isNaN(Number(t)),cA=t=>Om(t,"number",Sp),Lg=t=>!!t&&Number.isInteger(Number(t)),fne=t=>t.endsWith("%")&&Sp(t.slice(0,-1)),Xt=t=>w6.test(t),Rc=t=>ane.test(t),dne=new Set(["length","size","percentage"]),hne=t=>Om(t,dne,E6),pne=t=>Om(t,"position",E6),mne=new Set(["image","url"]),gne=t=>Om(t,mne,bne),vne=t=>Om(t,"",xne),kg=()=>!0,Om=(t,e,n)=>{const r=w6.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yne=t=>sne.test(t)&&!lne.test(t),E6=()=>!1,xne=t=>cne.test(t),bne=t=>une.test(t),_ne=()=>{const t=jn("colors"),e=jn("spacing"),n=jn("blur"),r=jn("brightness"),i=jn("borderColor"),o=jn("borderRadius"),a=jn("borderSpacing"),s=jn("borderWidth"),l=jn("contrast"),c=jn("grayscale"),u=jn("hueRotate"),f=jn("invert"),d=jn("gap"),h=jn("gradientColorStops"),y=jn("gradientColorStopPositions"),x=jn("inset"),v=jn("margin"),m=jn("opacity"),_=jn("padding"),b=jn("saturate"),w=jn("scale"),E=jn("sepia"),M=jn("skew"),A=jn("space"),P=jn("translate"),R=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Xt,e],L=()=>[Xt,e],j=()=>["",bl,Oc],U=()=>["auto",Sp,Xt],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Xt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Sp,Xt];return{cacheSize:500,separator:":",theme:{colors:[kg],spacing:[bl,Oc],blur:["none","",Rc,Xt],brightness:$(),borderColor:[t],borderRadius:["none","","full",Rc,Xt],borderSpacing:L(),borderWidth:j(),contrast:$(),grayscale:B(),hueRotate:$(),invert:B(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[fne,Oc],inset:N(),margin:N(),opacity:$(),padding:L(),saturate:$(),scale:$(),sepia:B(),skew:$(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Xt]}],container:["container"],columns:[{columns:[Rc]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Xt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lg,Xt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Lg,Xt]}],"grid-cols":[{"grid-cols":[kg]}],"col-start-end":[{col:["auto",{span:["full",Lg,Xt]},Xt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[kg]}],"row-start-end":[{row:["auto",{span:[Lg,Xt]},Xt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xt,e]}],"min-w":[{"min-w":[Xt,e,"min","max","fit"]}],"max-w":[{"max-w":[Xt,e,"none","full","min","max","fit","prose",{screen:[Rc]},Rc]}],h:[{h:[Xt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rc,Oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cA]}],"font-family":[{font:[kg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xt]}],"line-clamp":[{"line-clamp":["none",Sp,cA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bl,Xt]}],"list-image":[{"list-image":["none",Xt]}],"list-style-type":[{list:["none","disc","decimal",Xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bl,Oc]}],"underline-offset":[{"underline-offset":["auto",bl,Xt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),pne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gne]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[bl,Xt]}],"outline-w":[{outline:[bl,Oc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[bl,Oc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rc,vne]}],"shadow-color":[{shadow:[kg]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Rc,Xt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Xt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Lg,Xt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bl,Oc,cA]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Sne=rne(_ne);function kt(...t){return Sne(Lt(t))}const wp=t=>JSON.parse(window.localStorage.getItem(t)||"null"),Ep=(t,e)=>window.localStorage.setItem(t,JSON.stringify(e)),Rm=Hte,Fd=I.forwardRef(({className:t,...e},n)=>S.jsx(g6,{ref:n,className:kt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Fd.displayName=g6.displayName;const Hn=I.forwardRef(({className:t,...e},n)=>S.jsx(v6,{ref:n,className:kt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Hn.displayName=v6.displayName;const gi=I.forwardRef(({className:t,...e},n)=>S.jsx(y6,{ref:n,className:kt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gi.displayName=y6.displayName;const sU=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lU=Lt,C0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return lU(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const d=sU(u)||sU(f);return i[c][d]}),s=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(y=>{let[x,v]=y;return Array.isArray(v)?v.includes({...o,...s}[x]):{...o,...s}[x]===v})?[...c,f,d]:c},[]);return lU(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},wne=C0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),gn=I.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?pte:"button";return S.jsx(a,{className:kt(wne({variant:e,size:n,className:t})),ref:o,...i})});gn.displayName="Button";const Ene=C0("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Er({className:t,variant:e,...n}){return S.jsx("div",{className:kt(Ene({variant:e}),t),...n})}function hy(t,[e,n]){return Math.min(n,Math.max(e,t))}function Mne(t,e=globalThis==null?void 0:globalThis.document){const n=Br(t);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Tne="DismissableLayer",r2="dismissableLayer.update",Ane="dismissableLayer.pointerDownOutside",Pne="dismissableLayer.focusOutside",cU,M6=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yw=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=I.useContext(M6),[u,f]=I.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=I.useState({}),y=nn(e,A=>f(A)),x=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(v),_=u?x.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=_>=m,E=One(A=>{const P=A.target,R=[...c.branches].some(O=>O.contains(P));!w||R||(i==null||i(A),a==null||a(A),A.defaultPrevented||s==null||s())},d),M=Rne(A=>{const P=A.target;[...c.branches].some(O=>O.contains(P))||(o==null||o(A),a==null||a(A),A.defaultPrevented||s==null||s())},d);return Mne(A=>{_===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},d),I.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(cU=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),uU(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=cU)}},[u,d,n,c]),I.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),uU())},[u,c]),I.useEffect(()=>{const A=()=>h({});return document.addEventListener(r2,A),()=>document.removeEventListener(r2,A)},[]),S.jsx(Et.div,{...l,ref:y,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:xt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:xt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:xt(t.onPointerDownCapture,E.onPointerDownCapture)})});Yw.displayName=Tne;var Cne="DismissableLayerBranch",T6=I.forwardRef((t,e)=>{const n=I.useContext(M6),r=I.useRef(null),i=nn(e,r);return I.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),S.jsx(Et.div,{...t,ref:i})});T6.displayName=Cne;function One(t,e=globalThis==null?void 0:globalThis.document){const n=Br(t),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){A6(Ane,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Rne(t,e=globalThis==null?void 0:globalThis.document){const n=Br(t),r=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!r.current&&A6(Pne,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function uU(){const t=new CustomEvent(r2);document.dispatchEvent(t)}function A6(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JH(i,o):i.dispatchEvent(o)}var Ine=Yw,Nne=T6,uA=0;function P6(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fU()),document.body.insertAdjacentElement("beforeend",t[1]??fU()),uA++,()=>{uA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uA--}},[])}function fU(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fA="focusScope.autoFocusOnMount",dA="focusScope.autoFocusOnUnmount",dU={bubbles:!1,cancelable:!0},Dne="FocusScope",EI=I.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=I.useState(null),c=Br(i),u=Br(o),f=I.useRef(null),d=nn(e,x=>l(x)),h=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let x=function(b){if(h.paused||!s)return;const w=b.target;s.contains(w)?f.current=w:zc(f.current,{select:!0})},v=function(b){if(h.paused||!s)return;const w=b.relatedTarget;w!==null&&(s.contains(w)||zc(f.current,{select:!0}))},m=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&zc(s)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const _=new MutationObserver(m);return s&&_.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),_.disconnect()}}},[r,s,h.paused]),I.useEffect(()=>{if(s){pU.add(h);const x=document.activeElement;if(!s.contains(x)){const m=new CustomEvent(fA,dU);s.addEventListener(fA,c),s.dispatchEvent(m),m.defaultPrevented||(Lne(zne(C6(s)),{select:!0}),document.activeElement===x&&zc(s))}return()=>{s.removeEventListener(fA,c),setTimeout(()=>{const m=new CustomEvent(dA,dU);s.addEventListener(dA,u),s.dispatchEvent(m),m.defaultPrevented||zc(x??document.body,{select:!0}),s.removeEventListener(dA,u),pU.remove(h)},0)}}},[s,c,u,h]);const y=I.useCallback(x=>{if(!n&&!r||h.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(v&&m){const _=x.currentTarget,[b,w]=kne(_);b&&w?!x.shiftKey&&m===w?(x.preventDefault(),n&&zc(b,{select:!0})):x.shiftKey&&m===b&&(x.preventDefault(),n&&zc(w,{select:!0})):m===_&&x.preventDefault()}},[n,r,h.paused]);return S.jsx(Et.div,{tabIndex:-1,...a,ref:d,onKeyDown:y})});EI.displayName=Dne;function Lne(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zc(r,{select:e}),document.activeElement!==n)return}function kne(t){const e=C6(t),n=hU(e,t),r=hU(e.reverse(),t);return[n,r]}function C6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hU(t,e){for(const n of t)if(!Une(n,{upTo:e}))return n}function Une(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Fne(t){return t instanceof HTMLInputElement&&"select"in t}function zc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Fne(t)&&e&&t.select()}}var pU=jne();function jne(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=mU(t,e),t.unshift(e)},remove(e){var n;t=mU(t,e),(n=t[0])==null||n.resume()}}}function mU(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zne(t){return t.filter(e=>e.tagName!=="A")}const Bne=["top","right","bottom","left"],bu=Math.min,Vo=Math.max,C_=Math.round,f1=Math.floor,Gs=t=>({x:t,y:t}),$ne={left:"right",right:"left",bottom:"top",top:"bottom"},Vne={start:"end",end:"start"};function i2(t,e,n){return Vo(t,bu(e,n))}function Jl(t,e){return typeof t=="function"?t(e):t}function ec(t){return t.split("-")[0]}function Im(t){return t.split("-")[1]}function MI(t){return t==="x"?"y":"x"}function TI(t){return t==="y"?"height":"width"}const Hne=new Set(["top","bottom"]);function Us(t){return Hne.has(ec(t))?"y":"x"}function AI(t){return MI(Us(t))}function Gne(t,e,n){n===void 0&&(n=!1);const r=Im(t),i=AI(t),o=TI(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=O_(a)),[a,O_(a)]}function Wne(t){const e=O_(t);return[o2(t),e,o2(e)]}function o2(t){return t.replace(/start|end/g,e=>Vne[e])}const gU=["left","right"],vU=["right","left"],Xne=["top","bottom"],qne=["bottom","top"];function Yne(t,e,n){switch(t){case"top":case"bottom":return n?e?vU:gU:e?gU:vU;case"left":case"right":return e?Xne:qne;default:return[]}}function Kne(t,e,n,r){const i=Im(t);let o=Yne(ec(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(o2)))),o}function O_(t){return t.replace(/left|right|bottom|top/g,e=>$ne[e])}function Qne(t){return{top:0,right:0,bottom:0,left:0,...t}}function O6(t){return typeof t!="number"?Qne(t):{top:t,right:t,bottom:t,left:t}}function R_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function yU(t,e,n){let{reference:r,floating:i}=t;const o=Us(e),a=AI(e),s=TI(a),l=ec(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Im(e)){case"start":h[a]-=d*(n&&c?-1:1);break;case"end":h[a]+=d*(n&&c?-1:1);break}return h}const Zne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=yU(c,r,l),d=r,h={},y=0;for(let x=0;x<s.length;x++){const{name:v,fn:m}=s[x],{x:_,y:b,data:w,reset:E}=await m({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});u=_??u,f=b??f,h={...h,[v]:{...h[v],...w}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(c=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:f}=yU(c,d,l)),x=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function py(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Jl(e,t),y=O6(h),v=s[d?f==="floating"?"reference":"floating":f],m=R_(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},E=R_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:b,strategy:l}):_);return{top:(m.top-E.top+y.top)/w.y,bottom:(E.bottom-m.bottom+y.bottom)/w.y,left:(m.left-E.left+y.left)/w.x,right:(E.right-m.right+y.right)/w.x}}const Jne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=Jl(t,e)||{};if(c==null)return{};const f=O6(u),d={x:n,y:r},h=AI(i),y=TI(h),x=await a.getDimensions(c),v=h==="y",m=v?"top":"left",_=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=o.reference[y]+o.reference[h]-d[h]-o.floating[y],E=d[h]-o.reference[h],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let A=M?M[b]:0;(!A||!await(a.isElement==null?void 0:a.isElement(M)))&&(A=s.floating[b]||o.floating[y]);const P=w/2-E/2,R=A/2-x[y]/2-1,O=bu(f[m],R),N=bu(f[_],R),L=O,j=A-x[y]-N,U=A/2-x[y]/2+P,H=i2(L,U,j),z=!l.arrow&&Im(i)!=null&&U!==H&&o.reference[y]/2-(U<L?O:N)-x[y]/2<0,Q=z?U<L?U-L:U-j:0;return{[h]:d[h]+Q,data:{[h]:H,centerOffset:U-H-Q,...z&&{alignmentOffset:Q}},reset:z}}}),ere=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...v}=Jl(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=ec(i),_=Us(s),b=ec(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=d||(b||!x?[O_(s)]:Wne(s)),M=y!=="none";!d&&M&&E.push(...Kne(s,x,y,w));const A=[s,...E],P=await py(e,v),R=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&R.push(P[m]),f){const U=Gne(i,a,w);R.push(P[U[0]],P[U[1]])}if(O=[...O,{placement:i,overflows:R}],!R.every(U=>U<=0)){var N,L;const U=(((N=o.flip)==null?void 0:N.index)||0)+1,H=A[U];if(H&&(!(f==="alignment"?_!==Us(H):!1)||O.every(k=>Us(k.placement)===_?k.overflows[0]>0:!0)))return{data:{index:U,overflows:O},reset:{placement:H}};let z=(L=O.filter(Q=>Q.overflows[0]<=0).sort((Q,k)=>Q.overflows[1]-k.overflows[1])[0])==null?void 0:L.placement;if(!z)switch(h){case"bestFit":{var j;const Q=(j=O.filter(k=>{if(M){const B=Us(k.placement);return B===_||B==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(B=>B>0).reduce((B,W)=>B+W,0)]).sort((k,B)=>k[1]-B[1])[0])==null?void 0:j[0];Q&&(z=Q);break}case"initialPlacement":z=s;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function xU(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bU(t){return Bne.some(e=>t[e]>=0)}const tre=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Jl(t,e);switch(r){case"referenceHidden":{const o=await py(e,{...i,elementContext:"reference"}),a=xU(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:bU(a)}}}case"escaped":{const o=await py(e,{...i,altBoundary:!0}),a=xU(o,n.floating);return{data:{escapedOffsets:a,escaped:bU(a)}}}default:return{}}}}},R6=new Set(["left","top"]);async function nre(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ec(n),s=Im(n),l=Us(n)==="y",c=R6.has(a)?-1:1,u=o&&l?-1:1,f=Jl(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof y=="number"&&(h=s==="end"?y*-1:y),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const rre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await nre(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},ire=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:m,y:_}=v;return{x:m,y:_}}},...l}=Jl(t,e),c={x:n,y:r},u=await py(e,l),f=Us(ec(i)),d=MI(f);let h=c[d],y=c[f];if(o){const v=d==="y"?"top":"left",m=d==="y"?"bottom":"right",_=h+u[v],b=h-u[m];h=i2(_,h,b)}if(a){const v=f==="y"?"top":"left",m=f==="y"?"bottom":"right",_=y+u[v],b=y-u[m];y=i2(_,y,b)}const x=s.fn({...e,[d]:h,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[d]:o,[f]:a}}}}}},ore=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Jl(t,e),u={x:n,y:r},f=Us(i),d=MI(f);let h=u[d],y=u[f];const x=Jl(s,e),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const b=d==="y"?"height":"width",w=o.reference[d]-o.floating[b]+v.mainAxis,E=o.reference[d]+o.reference[b]-v.mainAxis;h<w?h=w:h>E&&(h=E)}if(c){var m,_;const b=d==="y"?"width":"height",w=R6.has(ec(i)),E=o.reference[f]-o.floating[b]+(w&&((m=a.offset)==null?void 0:m[f])||0)+(w?0:v.crossAxis),M=o.reference[f]+o.reference[b]+(w?0:((_=a.offset)==null?void 0:_[f])||0)-(w?v.crossAxis:0);y<E?y=E:y>M&&(y=M)}return{[d]:h,[f]:y}}}},are=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=Jl(t,e),u=await py(e,c),f=ec(i),d=Im(i),h=Us(i)==="y",{width:y,height:x}=o.floating;let v,m;f==="top"||f==="bottom"?(v=f,m=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(m=f,v=d==="end"?"top":"bottom");const _=x-u.top-u.bottom,b=y-u.left-u.right,w=bu(x-u[v],_),E=bu(y-u[m],b),M=!e.middlewareData.shift;let A=w,P=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=_),M&&!d){const O=Vo(u.left,0),N=Vo(u.right,0),L=Vo(u.top,0),j=Vo(u.bottom,0);h?P=y-2*(O!==0||N!==0?O+N:Vo(u.left,u.right)):A=x-2*(L!==0||j!==0?L+j:Vo(u.top,u.bottom))}await l({...e,availableWidth:P,availableHeight:A});const R=await a.getDimensions(s.floating);return y!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function Kw(){return typeof window<"u"}function Nm(t){return I6(t)?(t.nodeName||"").toLowerCase():"#document"}function qo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rl(t){var e;return(e=(I6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function I6(t){return Kw()?t instanceof Node||t instanceof qo(t).Node:!1}function ls(t){return Kw()?t instanceof Element||t instanceof qo(t).Element:!1}function el(t){return Kw()?t instanceof HTMLElement||t instanceof qo(t).HTMLElement:!1}function _U(t){return!Kw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qo(t).ShadowRoot}const sre=new Set(["inline","contents"]);function O0(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!sre.has(i)}const lre=new Set(["table","td","th"]);function cre(t){return lre.has(Nm(t))}const ure=[":popover-open",":modal"];function Qw(t){return ure.some(e=>{try{return t.matches(e)}catch{return!1}})}const fre=["transform","translate","scale","rotate","perspective"],dre=["transform","translate","scale","rotate","perspective","filter"],hre=["paint","layout","strict","content"];function PI(t){const e=CI(),n=ls(t)?cs(t):t;return fre.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dre.some(r=>(n.willChange||"").includes(r))||hre.some(r=>(n.contain||"").includes(r))}function pre(t){let e=_u(t);for(;el(e)&&!Yp(e);){if(PI(e))return e;if(Qw(e))return null;e=_u(e)}return null}function CI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mre=new Set(["html","body","#document"]);function Yp(t){return mre.has(Nm(t))}function cs(t){return qo(t).getComputedStyle(t)}function Zw(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _u(t){if(Nm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_U(t)&&t.host||rl(t);return _U(e)?e.host:e}function N6(t){const e=_u(t);return Yp(e)?t.ownerDocument?t.ownerDocument.body:t.body:el(e)&&O0(e)?e:N6(e)}function my(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=N6(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=qo(i);if(o){const s=a2(a);return e.concat(a,a.visualViewport||[],O0(i)?i:[],s&&n?my(s):[])}return e.concat(i,my(i,[],n))}function a2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function D6(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=el(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=C_(n)!==o||C_(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function OI(t){return ls(t)?t:t.contextElement}function Mp(t){const e=OI(t);if(!el(e))return Gs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=D6(e);let a=(o?C_(n.width):n.width)/r,s=(o?C_(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const gre=Gs(0);function L6(t){const e=qo(t);return!CI()||!e.visualViewport?gre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==qo(t)?!1:e}function gd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=OI(t);let a=Gs(1);e&&(r?ls(r)&&(a=Mp(r)):a=Mp(t));const s=vre(o,n,r)?L6(o):Gs(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const d=qo(o),h=r&&ls(r)?qo(r):r;let y=d,x=a2(y);for(;x&&r&&h!==y;){const v=Mp(x),m=x.getBoundingClientRect(),_=cs(x),b=m.left+(x.clientLeft+parseFloat(_.paddingLeft))*v.x,w=m.top+(x.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=b,c+=w,y=qo(x),x=a2(y)}}return R_({width:u,height:f,x:l,y:c})}function Jw(t,e){const n=Zw(t).scrollLeft;return e?e.left+n:gd(rl(t)).left+n}function k6(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Jw(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function yre(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=rl(r),s=e?Qw(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Gs(1);const u=Gs(0),f=el(r);if((f||!f&&!o)&&((Nm(r)!=="body"||O0(a))&&(l=Zw(r)),el(r))){const h=gd(r);c=Mp(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=a&&!f&&!o?k6(a,l):Gs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function xre(t){return Array.from(t.getClientRects())}function bre(t){const e=rl(t),n=Zw(t),r=t.ownerDocument.body,i=Vo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Vo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Jw(t);const s=-n.scrollTop;return cs(r).direction==="rtl"&&(a+=Vo(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const SU=25;function _re(t,e){const n=qo(t),r=rl(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=CI();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=Jw(r);if(c<=0){const u=r.ownerDocument,f=u.body,d=getComputedStyle(f),h=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-h);y<=SU&&(o-=y)}else c<=SU&&(o+=c);return{width:o,height:a,x:s,y:l}}const Sre=new Set(["absolute","fixed"]);function wre(t,e){const n=gd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=el(t)?Mp(t):Gs(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function wU(t,e,n){let r;if(e==="viewport")r=_re(t,n);else if(e==="document")r=bre(rl(t));else if(ls(e))r=wre(e,n);else{const i=L6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return R_(r)}function U6(t,e){const n=_u(t);return n===e||!ls(n)||Yp(n)?!1:cs(n).position==="fixed"||U6(n,e)}function Ere(t,e){const n=e.get(t);if(n)return n;let r=my(t,[],!1).filter(s=>ls(s)&&Nm(s)!=="body"),i=null;const o=cs(t).position==="fixed";let a=o?_u(t):t;for(;ls(a)&&!Yp(a);){const s=cs(a),l=PI(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&Sre.has(i.position)||O0(a)&&!l&&U6(t,a))?r=r.filter(u=>u!==a):i=s,a=_u(a)}return e.set(t,r),r}function Mre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Qw(e)?[]:Ere(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const f=wU(e,u,i);return c.top=Vo(f.top,c.top),c.right=bu(f.right,c.right),c.bottom=bu(f.bottom,c.bottom),c.left=Vo(f.left,c.left),c},wU(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Tre(t){const{width:e,height:n}=D6(t);return{width:e,height:n}}function Are(t,e,n){const r=el(e),i=rl(e),o=n==="fixed",a=gd(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=Gs(0);function c(){l.x=Jw(i)}if(r||!r&&!o)if((Nm(e)!=="body"||O0(i))&&(s=Zw(e)),r){const h=gd(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?k6(i,s):Gs(0),f=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function hA(t){return cs(t).position==="static"}function EU(t,e){if(!el(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rl(t)===n&&(n=n.ownerDocument.body),n}function F6(t,e){const n=qo(t);if(Qw(t))return n;if(!el(t)){let i=_u(t);for(;i&&!Yp(i);){if(ls(i)&&!hA(i))return i;i=_u(i)}return n}let r=EU(t,e);for(;r&&cre(r)&&hA(r);)r=EU(r,e);return r&&Yp(r)&&hA(r)&&!PI(r)?n:r||pre(t)||n}const Pre=async function(t){const e=this.getOffsetParent||F6,n=this.getDimensions,r=await n(t.floating);return{reference:Are(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Cre(t){return cs(t).direction==="rtl"}const Ore={convertOffsetParentRelativeRectToViewportRelativeRect:yre,getDocumentElement:rl,getClippingRect:Mre,getOffsetParent:F6,getElementRects:Pre,getClientRects:xre,getDimensions:Tre,getScale:Mp,isElement:ls,isRTL:Cre};function j6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Rre(t,e){let n=null,r;const i=rl(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(s||e(),!d||!h)return;const y=f1(f),x=f1(i.clientWidth-(u+d)),v=f1(i.clientHeight-(f+h)),m=f1(u),b={rootMargin:-y+"px "+-x+"px "+-v+"px "+-m+"px",threshold:Vo(0,bu(1,l))||1};let w=!0;function E(M){const A=M[0].intersectionRatio;if(A!==l){if(!w)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!j6(c,t.getBoundingClientRect())&&a(),w=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return a(!0),o}function Ire(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=OI(t),u=i||o?[...c?my(c):[],...my(e)]:[];u.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const f=c&&s?Rre(c,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(m=>{let[_]=m;_&&_.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let y,x=l?gd(t):null;l&&v();function v(){const m=gd(t);x&&!j6(x,m)&&n(),x=m,y=requestAnimationFrame(v)}return n(),()=>{var m;u.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,l&&cancelAnimationFrame(y)}}const Nre=rre,Dre=ire,Lre=ere,kre=are,Ure=tre,MU=Jne,Fre=ore,jre=(t,e,n)=>{const r=new Map,i={platform:Ore,...n},o={...i.platform,_c:r};return Zne(t,e,{...i,platform:o})};var zre=typeof document<"u",Bre=function(){},Wb=zre?I.useLayoutEffect:Bre;function I_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!I_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!I_(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function z6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TU(t,e){const n=z6(t);return Math.round(e*n)/n}function pA(t){const e=I.useRef(t);return Wb(()=>{e.current=t}),e}function $re(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,f]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=I.useState(r);I_(d,r)||h(r);const[y,x]=I.useState(null),[v,m]=I.useState(null),_=I.useCallback(k=>{k!==M.current&&(M.current=k,x(k))},[]),b=I.useCallback(k=>{k!==A.current&&(A.current=k,m(k))},[]),w=o||y,E=a||v,M=I.useRef(null),A=I.useRef(null),P=I.useRef(u),R=l!=null,O=pA(l),N=pA(i),L=pA(c),j=I.useCallback(()=>{if(!M.current||!A.current)return;const k={placement:e,strategy:n,middleware:d};N.current&&(k.platform=N.current),jre(M.current,A.current,k).then(B=>{const W={...B,isPositioned:L.current!==!1};U.current&&!I_(P.current,W)&&(P.current=W,Ud.flushSync(()=>{f(W)}))})},[d,e,n,N,L]);Wb(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[c]);const U=I.useRef(!1);Wb(()=>(U.current=!0,()=>{U.current=!1}),[]),Wb(()=>{if(w&&(M.current=w),E&&(A.current=E),w&&E){if(O.current)return O.current(w,E,j);j()}},[w,E,j,O,R]);const H=I.useMemo(()=>({reference:M,floating:A,setReference:_,setFloating:b}),[_,b]),z=I.useMemo(()=>({reference:w,floating:E}),[w,E]),Q=I.useMemo(()=>{const k={position:n,left:0,top:0};if(!z.floating)return k;const B=TU(z.floating,u.x),W=TU(z.floating,u.y);return s?{...k,transform:"translate("+B+"px, "+W+"px)",...z6(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:W}},[n,s,z.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:j,refs:H,elements:z,floatingStyles:Q}),[u,j,H,z,Q])}const Vre=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?MU({element:r.current,padding:i}).fn(n):{}:r?MU({element:r,padding:i}).fn(n):{}}}},Hre=(t,e)=>({...Nre(t),options:[t,e]}),Gre=(t,e)=>({...Dre(t),options:[t,e]}),Wre=(t,e)=>({...Fre(t),options:[t,e]}),Xre=(t,e)=>({...Lre(t),options:[t,e]}),qre=(t,e)=>({...kre(t),options:[t,e]}),Yre=(t,e)=>({...Ure(t),options:[t,e]}),Kre=(t,e)=>({...Vre(t),options:[t,e]});var Qre="Arrow",B6=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return S.jsx(Et.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});B6.displayName=Qre;var Zre=B6;function RI(t){const[e,n]=I.useState(void 0);return oi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var II="Popper",[$6,V6]=hs(II),[Jre,H6]=$6(II),G6=t=>{const{__scopePopper:e,children:n}=t,[r,i]=I.useState(null);return S.jsx(Jre,{scope:e,anchor:r,onAnchorChange:i,children:n})};G6.displayName=II;var W6="PopperAnchor",X6=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=H6(W6,n),a=I.useRef(null),s=nn(e,a),l=I.useRef(null);return I.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:S.jsx(Et.div,{...i,ref:s})});X6.displayName=W6;var NI="PopperContent",[eie,tie]=$6(NI),q6=I.forwardRef((t,e)=>{var ee,le,ue,he,fe,K;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:y,...x}=t,v=H6(NI,n),[m,_]=I.useState(null),b=nn(e,de=>_(de)),[w,E]=I.useState(null),M=RI(w),A=(M==null?void 0:M.width)??0,P=(M==null?void 0:M.height)??0,R=r+(o!=="center"?"-"+o:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],L=N.length>0,j={padding:O,boundary:N.filter(rie),altBoundary:L},{refs:U,floatingStyles:H,placement:z,isPositioned:Q,middlewareData:k}=$re({strategy:"fixed",placement:R,whileElementsMounted:(...de)=>Ire(...de,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[Hre({mainAxis:i+P,alignmentAxis:a}),l&&Gre({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Wre():void 0,...j}),l&&Xre({...j}),qre({...j,apply:({elements:de,rects:q,availableWidth:Pe,availableHeight:be})=>{const{width:Re,height:me}=q.reference,Fe=de.floating.style;Fe.setProperty("--radix-popper-available-width",`${Pe}px`),Fe.setProperty("--radix-popper-available-height",`${be}px`),Fe.setProperty("--radix-popper-anchor-width",`${Re}px`),Fe.setProperty("--radix-popper-anchor-height",`${me}px`)}}),w&&Kre({element:w,padding:s}),iie({arrowWidth:A,arrowHeight:P}),d&&Yre({strategy:"referenceHidden",...j})]}),[B,W]=Q6(z),$=Br(y);oi(()=>{Q&&($==null||$())},[Q,$]);const Y=(ee=k.arrow)==null?void 0:ee.x,J=(le=k.arrow)==null?void 0:le.y,X=((ue=k.arrow)==null?void 0:ue.centerOffset)!==0,[te,ie]=I.useState();return oi(()=>{m&&ie(window.getComputedStyle(m).zIndex)},[m]),S.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Q?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(he=k.transformOrigin)==null?void 0:he.x,(fe=k.transformOrigin)==null?void 0:fe.y].join(" "),...((K=k.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(eie,{scope:n,placedSide:B,onArrowChange:E,arrowX:Y,arrowY:J,shouldHideArrow:X,children:S.jsx(Et.div,{"data-side":B,"data-align":W,...x,ref:b,style:{...x.style,animation:Q?void 0:"none"}})})})});q6.displayName=NI;var Y6="PopperArrow",nie={top:"bottom",right:"left",bottom:"top",left:"right"},K6=I.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=tie(Y6,r),a=nie[o.placedSide];return S.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:S.jsx(Zre,{...i,ref:n,style:{...i.style,display:"block"}})})});K6.displayName=Y6;function rie(t){return t!==null}var iie=t=>({name:"transformOrigin",options:t,fn(e){var v,m,_;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=Q6(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((m=i.arrow)==null?void 0:m.x)??0)+s/2,h=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let y="",x="";return c==="bottom"?(y=a?f:`${d}px`,x=`${-l}px`):c==="top"?(y=a?f:`${d}px`,x=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,x=a?f:`${h}px`):c==="left"&&(y=`${r.floating.width+l}px`,x=a?f:`${h}px`),{data:{x:y,y:x}}}});function Q6(t){const[e,n="center"]=t.split("-");return[e,n]}var oie=G6,aie=X6,sie=q6,lie=K6,cie="Portal",eE=I.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=I.useState(!1);oi(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?Uee.createPortal(S.jsx(Et.div,{...r,ref:e}),a):null});eE.displayName=cie;function DI(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Z6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uie="VisuallyHidden",LI=I.forwardRef((t,e)=>S.jsx(Et.span,{...t,ref:e,style:{...Z6,...t.style}}));LI.displayName=uie;var fie=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},dh=new WeakMap,d1=new WeakMap,h1={},mA=0,J6=function(t){return t&&(t.host||J6(t.parentNode))},die=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=J6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hie=function(t,e,n,r){var i=die(e,Array.isArray(t)?t:[t]);h1[n]||(h1[n]=new WeakMap);var o=h1[n],a=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(s.has(d))u(d);else try{var h=d.getAttribute(r),y=h!==null&&h!=="false",x=(dh.get(d)||0)+1,v=(o.get(d)||0)+1;dh.set(d,x),o.set(d,v),a.push(d),x===1&&y&&d1.set(d,!0),v===1&&d.setAttribute(n,"true"),y||d.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",d,m)}})};return u(e),s.clear(),mA++,function(){a.forEach(function(f){var d=dh.get(f)-1,h=o.get(f)-1;dh.set(f,d),o.set(f,h),d||(d1.has(f)||f.removeAttribute(r),d1.delete(f)),h||f.removeAttribute(n)}),mA--,mA||(dh=new WeakMap,dh=new WeakMap,d1=new WeakMap,h1={})}},e8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=fie(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),hie(r,i,n,"aria-hidden")):function(){return null}},Ds=function(){return Ds=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ds.apply(this,arguments)};function t8(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pie(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Xb="right-scroll-bar-position",qb="width-before-scroll-bar",mie="with-scroll-bars-hidden",gie="--removed-body-scroll-bar-size";function gA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vie(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var yie=typeof window<"u"?I.useLayoutEffect:I.useEffect,AU=new WeakMap;function xie(t,e){var n=vie(null,function(r){return t.forEach(function(i){return gA(i,r)})});return yie(function(){var r=AU.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||gA(s,null)}),o.forEach(function(s){i.has(s)||gA(s,a)})}AU.set(n,t)},[t]),n}function bie(t){return t}function _ie(t,e){e===void 0&&(e=bie);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function Sie(t){t===void 0&&(t={});var e=_ie(null);return e.options=Ds({async:!0,ssr:!1},t),e}var n8=function(t){var e=t.sideCar,n=t8(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,Ds({},n))};n8.isSideCarExport=!0;function wie(t,e){return t.useMedium(e),n8}var r8=Sie(),vA=function(){},tE=I.forwardRef(function(t,e){var n=I.useRef(null),r=I.useState({onScrollCapture:vA,onWheelCapture:vA,onTouchMoveCapture:vA}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,d=t.sideCar,h=t.noRelative,y=t.noIsolation,x=t.inert,v=t.allowPinchZoom,m=t.as,_=m===void 0?"div":m,b=t.gapMode,w=t8(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=d,M=xie([n,e]),A=Ds(Ds({},w),i);return I.createElement(I.Fragment,null,u&&I.createElement(E,{sideCar:r8,removeScrollBar:c,shards:f,noRelative:h,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:b}),a?I.cloneElement(I.Children.only(s),Ds(Ds({},A),{ref:M})):I.createElement(_,Ds({},A,{className:l,ref:M}),s))});tE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tE.classNames={fullWidth:qb,zeroRight:Xb};var Eie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mie(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Eie();return e&&t.setAttribute("nonce",e),t}function Tie(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Aie(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Pie=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Mie())&&(Tie(e,n),Aie(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Cie=function(){var t=Pie();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},i8=function(){var t=Cie(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Oie={left:0,top:0,right:0,gap:0},yA=function(t){return parseInt(t||"",10)||0},Rie=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[yA(n),yA(r),yA(i)]},Iie=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Oie;var e=Rie(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Nie=i8(),Tp="data-scroll-locked",Die=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Tp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xb,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(qb,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Xb," .").concat(Xb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qb," .").concat(qb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Tp,`] {
    `).concat(gie,": ").concat(s,`px;
  }
`)},PU=function(){var t=parseInt(document.body.getAttribute(Tp)||"0",10);return isFinite(t)?t:0},Lie=function(){I.useEffect(function(){return document.body.setAttribute(Tp,(PU()+1).toString()),function(){var t=PU()-1;t<=0?document.body.removeAttribute(Tp):document.body.setAttribute(Tp,t.toString())}},[])},kie=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Lie();var o=I.useMemo(function(){return Iie(i)},[i]);return I.createElement(Nie,{styles:Die(o,!e,i,n?"":"!important")})},s2=!1;if(typeof window<"u")try{var p1=Object.defineProperty({},"passive",{get:function(){return s2=!0,!0}});window.addEventListener("test",p1,p1),window.removeEventListener("test",p1,p1)}catch{s2=!1}var hh=s2?{passive:!1}:!1,Uie=function(t){return t.tagName==="TEXTAREA"},o8=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Uie(t)&&n[e]==="visible")},Fie=function(t){return o8(t,"overflowY")},jie=function(t){return o8(t,"overflowX")},CU=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=a8(t,r);if(i){var o=s8(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zie=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Bie=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},a8=function(t,e){return t==="v"?Fie(e):jie(e)},s8=function(t,e){return t==="v"?zie(e):Bie(e)},$ie=function(t,e){return t==="h"&&e==="rtl"?-1:1},Vie=function(t,e,n,r,i){var o=$ie(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,f=0,d=0;do{if(!s)break;var h=s8(t,s),y=h[0],x=h[1],v=h[2],m=x-v-o*y;(y||m)&&a8(t,s)&&(f+=m,d+=y);var _=s.parentNode;s=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&(Math.abs(f)<1||!i)||!u&&(Math.abs(d)<1||!i))&&(c=!0),c},m1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},OU=function(t){return[t.deltaX,t.deltaY]},RU=function(t){return t&&"current"in t?t.current:t},Hie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gie=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Wie=0,ph=[];function Xie(t){var e=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),i=I.useState(Wie++)[0],o=I.useState(i8)[0],a=I.useRef(t);I.useEffect(function(){a.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=pie([t.lockRef.current],(t.shards||[]).map(RU),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=I.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var m=m1(x),_=n.current,b="deltaX"in x?x.deltaX:_[0]-m[0],w="deltaY"in x?x.deltaY:_[1]-m[1],E,M=x.target,A=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in x&&A==="h"&&M.type==="range")return!1;var P=CU(A,M);if(!P)return!0;if(P?E=A:(E=A==="v"?"h":"v",P=CU(A,M)),!P)return!1;if(!r.current&&"changedTouches"in x&&(b||w)&&(r.current=E),!E)return!0;var R=r.current||E;return Vie(R,v,x,R==="h"?b:w,!0)},[]),l=I.useCallback(function(x){var v=x;if(!(!ph.length||ph[ph.length-1]!==o)){var m="deltaY"in v?OU(v):m1(v),_=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&Hie(E.delta,m)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var b=(a.current.shards||[]).map(RU).filter(Boolean).filter(function(E){return E.contains(v.target)}),w=b.length>0?s(v,b[0]):!a.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),c=I.useCallback(function(x,v,m,_){var b={name:x,delta:v,target:m,should:_,shadowParent:qie(m)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),u=I.useCallback(function(x){n.current=m1(x),r.current=void 0},[]),f=I.useCallback(function(x){c(x.type,OU(x),x.target,s(x,t.lockRef.current))},[]),d=I.useCallback(function(x){c(x.type,m1(x),x.target,s(x,t.lockRef.current))},[]);I.useEffect(function(){return ph.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,hh),document.addEventListener("touchmove",l,hh),document.addEventListener("touchstart",u,hh),function(){ph=ph.filter(function(x){return x!==o}),document.removeEventListener("wheel",l,hh),document.removeEventListener("touchmove",l,hh),document.removeEventListener("touchstart",u,hh)}},[]);var h=t.removeScrollBar,y=t.inert;return I.createElement(I.Fragment,null,y?I.createElement(o,{styles:Gie(i)}):null,h?I.createElement(kie,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function qie(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Yie=wie(r8,Xie);var kI=I.forwardRef(function(t,e){return I.createElement(tE,Ds({},t,{ref:e,sideCar:Yie}))});kI.classNames=tE.classNames;var Kie=[" ","Enter","ArrowUp","ArrowDown"],Qie=[" ","Enter"],vd="Select",[nE,rE,Zie]=Xw(vd),[Dm,l$e]=hs(vd,[Zie,V6]),iE=V6(),[Jie,Cu]=Dm(vd),[eoe,toe]=Dm(vd),l8=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:d,required:h,form:y}=t,x=iE(e),[v,m]=I.useState(null),[_,b]=I.useState(null),[w,E]=I.useState(!1),M=A0(c),[A,P]=xu({prop:r,defaultProp:i??!1,onChange:o,caller:vd}),[R,O]=xu({prop:a,defaultProp:s,onChange:l,caller:vd}),N=I.useRef(null),L=v?y||!!v.closest("form"):!0,[j,U]=I.useState(new Set),H=Array.from(j).map(z=>z.props.value).join(";");return S.jsx(oie,{...x,children:S.jsxs(Jie,{required:h,scope:e,trigger:v,onTriggerChange:m,valueNode:_,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:E,contentId:pu(),value:R,onValueChange:O,open:A,onOpenChange:P,dir:M,triggerPointerDownPosRef:N,disabled:d,children:[S.jsx(nE.Provider,{scope:e,children:S.jsx(eoe,{scope:t.__scopeSelect,onNativeOptionAdd:I.useCallback(z=>{U(Q=>new Set(Q).add(z))},[]),onNativeOptionRemove:I.useCallback(z=>{U(Q=>{const k=new Set(Q);return k.delete(z),k})},[]),children:n})}),L?S.jsxs(I8,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:z=>O(z.target.value),disabled:d,form:y,children:[R===void 0?S.jsx("option",{value:""}):null,Array.from(j)]},H):null]})})};l8.displayName=vd;var c8="SelectTrigger",u8=I.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=iE(n),a=Cu(c8,n),s=a.disabled||r,l=nn(e,a.onTriggerChange),c=rE(n),u=I.useRef("touch"),[f,d,h]=D8(x=>{const v=c().filter(b=>!b.disabled),m=v.find(b=>b.value===a.value),_=L8(v,x,m);_!==void 0&&a.onValueChange(_.value)}),y=x=>{s||(a.onOpenChange(!0),h()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return S.jsx(aie,{asChild:!0,...o,children:S.jsx(Et.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":N8(a.value)?"":void 0,...i,ref:l,onClick:xt(i.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&y(x)}),onPointerDown:xt(i.onPointerDown,x=>{u.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:xt(i.onKeyDown,x=>{const v=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&d(x.key),!(v&&x.key===" ")&&Kie.includes(x.key)&&(y(),x.preventDefault())})})})});u8.displayName=c8;var f8="SelectValue",d8=I.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=Cu(f8,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=nn(e,l.onValueNodeChange);return oi(()=>{c(u)},[c,u]),S.jsx(Et.span,{...s,ref:f,style:{pointerEvents:"none"},children:N8(l.value)?S.jsx(S.Fragment,{children:a}):o})});d8.displayName=f8;var noe="SelectIcon",h8=I.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return S.jsx(Et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});h8.displayName=noe;var roe="SelectPortal",p8=t=>S.jsx(eE,{asChild:!0,...t});p8.displayName=roe;var yd="SelectContent",m8=I.forwardRef((t,e)=>{const n=Cu(yd,t.__scopeSelect),[r,i]=I.useState();if(oi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ud.createPortal(S.jsx(g8,{scope:t.__scopeSelect,children:S.jsx(nE.Slot,{scope:t.__scopeSelect,children:S.jsx("div",{children:t.children})})}),o):null}return S.jsx(v8,{...t,ref:e})});m8.displayName=yd;var ja=10,[g8,Ou]=Dm(yd),ioe="SelectContentImpl",ooe=qp("SelectContent.RemoveScroll"),v8=I.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:y,hideWhenDetached:x,avoidCollisions:v,...m}=t,_=Cu(yd,n),[b,w]=I.useState(null),[E,M]=I.useState(null),A=nn(e,ee=>w(ee)),[P,R]=I.useState(null),[O,N]=I.useState(null),L=rE(n),[j,U]=I.useState(!1),H=I.useRef(!1);I.useEffect(()=>{if(b)return e8(b)},[b]),P6();const z=I.useCallback(ee=>{const[le,...ue]=L().map(K=>K.ref.current),[he]=ue.slice(-1),fe=document.activeElement;for(const K of ee)if(K===fe||(K==null||K.scrollIntoView({block:"nearest"}),K===le&&E&&(E.scrollTop=0),K===he&&E&&(E.scrollTop=E.scrollHeight),K==null||K.focus(),document.activeElement!==fe))return},[L,E]),Q=I.useCallback(()=>z([P,b]),[z,P,b]);I.useEffect(()=>{j&&Q()},[j,Q]);const{onOpenChange:k,triggerPointerDownPosRef:B}=_;I.useEffect(()=>{if(b){let ee={x:0,y:0};const le=he=>{var fe,K;ee={x:Math.abs(Math.round(he.pageX)-(((fe=B.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((K=B.current)==null?void 0:K.y)??0))}},ue=he=>{ee.x<=10&&ee.y<=10?he.preventDefault():b.contains(he.target)||k(!1),document.removeEventListener("pointermove",le),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ue,{capture:!0})}}},[b,k,B]),I.useEffect(()=>{const ee=()=>k(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[k]);const[W,$]=D8(ee=>{const le=L().filter(fe=>!fe.disabled),ue=le.find(fe=>fe.ref.current===document.activeElement),he=L8(le,ee,ue);he&&setTimeout(()=>he.ref.current.focus())}),Y=I.useCallback((ee,le,ue)=>{const he=!H.current&&!ue;(_.value!==void 0&&_.value===le||he)&&(R(ee),he&&(H.current=!0))},[_.value]),J=I.useCallback(()=>b==null?void 0:b.focus(),[b]),X=I.useCallback((ee,le,ue)=>{const he=!H.current&&!ue;(_.value!==void 0&&_.value===le||he)&&N(ee)},[_.value]),te=r==="popper"?l2:y8,ie=te===l2?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:y,hideWhenDetached:x,avoidCollisions:v}:{};return S.jsx(g8,{scope:n,content:b,viewport:E,onViewportChange:M,itemRefCallback:Y,selectedItem:P,onItemLeave:J,itemTextRefCallback:X,focusSelectedItem:Q,selectedItemText:O,position:r,isPositioned:j,searchRef:W,children:S.jsx(kI,{as:ooe,allowPinchZoom:!0,children:S.jsx(EI,{asChild:!0,trapped:_.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:xt(i,ee=>{var le;(le=_.trigger)==null||le.focus({preventScroll:!0}),ee.preventDefault()}),children:S.jsx(Yw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:S.jsx(te,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ee=>ee.preventDefault(),...m,...ie,onPlaced:()=>U(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:xt(m.onKeyDown,ee=>{const le=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!le&&ee.key.length===1&&$(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let he=L().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const fe=ee.target,K=he.indexOf(fe);he=he.slice(K+1)}setTimeout(()=>z(he)),ee.preventDefault()}})})})})})})});v8.displayName=ioe;var aoe="SelectItemAlignedPosition",y8=I.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Cu(yd,n),a=Ou(yd,n),[s,l]=I.useState(null),[c,u]=I.useState(null),f=nn(e,A=>u(A)),d=rE(n),h=I.useRef(!1),y=I.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:m,focusSelectedItem:_}=a,b=I.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&x&&v&&m){const A=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),O=m.getBoundingClientRect();if(o.dir!=="rtl"){const fe=O.left-P.left,K=R.left-fe,de=A.left-K,q=A.width+de,Pe=Math.max(q,P.width),be=window.innerWidth-ja,Re=hy(K,[ja,Math.max(ja,be-Pe)]);s.style.minWidth=q+"px",s.style.left=Re+"px"}else{const fe=P.right-O.right,K=window.innerWidth-R.right-fe,de=window.innerWidth-A.right-K,q=A.width+de,Pe=Math.max(q,P.width),be=window.innerWidth-ja,Re=hy(K,[ja,Math.max(ja,be-Pe)]);s.style.minWidth=q+"px",s.style.right=Re+"px"}const N=d(),L=window.innerHeight-ja*2,j=x.scrollHeight,U=window.getComputedStyle(c),H=parseInt(U.borderTopWidth,10),z=parseInt(U.paddingTop,10),Q=parseInt(U.borderBottomWidth,10),k=parseInt(U.paddingBottom,10),B=H+z+j+k+Q,W=Math.min(v.offsetHeight*5,B),$=window.getComputedStyle(x),Y=parseInt($.paddingTop,10),J=parseInt($.paddingBottom,10),X=A.top+A.height/2-ja,te=L-X,ie=v.offsetHeight/2,ee=v.offsetTop+ie,le=H+z+ee,ue=B-le;if(le<=X){const fe=N.length>0&&v===N[N.length-1].ref.current;s.style.bottom="0px";const K=c.clientHeight-x.offsetTop-x.offsetHeight,de=Math.max(te,ie+(fe?J:0)+K+Q),q=le+de;s.style.height=q+"px"}else{const fe=N.length>0&&v===N[0].ref.current;s.style.top="0px";const de=Math.max(X,H+x.offsetTop+(fe?Y:0)+ie)+ue;s.style.height=de+"px",x.scrollTop=le-X+x.offsetTop}s.style.margin=`${ja}px 0`,s.style.minHeight=W+"px",s.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,o.trigger,o.valueNode,s,c,x,v,m,o.dir,r]);oi(()=>b(),[b]);const[w,E]=I.useState();oi(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const M=I.useCallback(A=>{A&&y.current===!0&&(b(),_==null||_(),y.current=!1)},[b,_]);return S.jsx(loe,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:M,children:S.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:S.jsx(Et.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});y8.displayName=aoe;var soe="SelectPopperPosition",l2=I.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ja,...o}=t,a=iE(n);return S.jsx(sie,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});l2.displayName=soe;var[loe,UI]=Dm(yd,{}),c2="SelectViewport",x8=I.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Ou(c2,n),a=UI(c2,n),s=nn(e,o.onViewportChange),l=I.useRef(0);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),S.jsx(nE.Slot,{scope:n,children:S.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xt(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=a;if(d!=null&&d.current&&f){const h=Math.abs(l.current-u.scrollTop);if(h>0){const y=window.innerHeight-ja*2,x=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),m=Math.max(x,v);if(m<y){const _=m+h,b=Math.min(y,_),w=_-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});x8.displayName=c2;var b8="SelectGroup",[coe,uoe]=Dm(b8),foe=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pu();return S.jsx(coe,{scope:n,id:i,children:S.jsx(Et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});foe.displayName=b8;var _8="SelectLabel",S8=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=uoe(_8,n);return S.jsx(Et.div,{id:i.id,...r,ref:e})});S8.displayName=_8;var N_="SelectItem",[doe,w8]=Dm(N_),E8=I.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=Cu(N_,n),l=Ou(N_,n),c=s.value===r,[u,f]=I.useState(o??""),[d,h]=I.useState(!1),y=nn(e,_=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,_,r,i)}),x=pu(),v=I.useRef("touch"),m=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return S.jsx(doe,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:I.useCallback(_=>{f(b=>b||((_==null?void 0:_.textContent)??"").trim())},[]),children:S.jsx(nE.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:S.jsx(Et.div,{role:"option","aria-labelledby":x,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:xt(a.onFocus,()=>h(!0)),onBlur:xt(a.onBlur,()=>h(!1)),onClick:xt(a.onClick,()=>{v.current!=="mouse"&&m()}),onPointerUp:xt(a.onPointerUp,()=>{v.current==="mouse"&&m()}),onPointerDown:xt(a.onPointerDown,_=>{v.current=_.pointerType}),onPointerMove:xt(a.onPointerMove,_=>{var b;v.current=_.pointerType,i?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xt(a.onPointerLeave,_=>{var b;_.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:xt(a.onKeyDown,_=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&_.key===" "||(Qie.includes(_.key)&&m(),_.key===" "&&_.preventDefault())})})})})});E8.displayName=N_;var dv="SelectItemText",M8=I.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Cu(dv,n),s=Ou(dv,n),l=w8(dv,n),c=toe(dv,n),[u,f]=I.useState(null),d=nn(e,m=>f(m),l.onItemTextChange,m=>{var _;return(_=s.itemTextRefCallback)==null?void 0:_.call(s,m,l.value,l.disabled)}),h=u==null?void 0:u.textContent,y=I.useMemo(()=>S.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=c;return oi(()=>(x(y),()=>v(y)),[x,v,y]),S.jsxs(S.Fragment,{children:[S.jsx(Et.span,{id:l.textId,...o,ref:d}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ud.createPortal(o.children,a.valueNode):null]})});M8.displayName=dv;var T8="SelectItemIndicator",A8=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return w8(T8,n).isSelected?S.jsx(Et.span,{"aria-hidden":!0,...r,ref:e}):null});A8.displayName=T8;var u2="SelectScrollUpButton",P8=I.forwardRef((t,e)=>{const n=Ou(u2,t.__scopeSelect),r=UI(u2,t.__scopeSelect),[i,o]=I.useState(!1),a=nn(e,r.onScrollButtonChange);return oi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?S.jsx(O8,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});P8.displayName=u2;var f2="SelectScrollDownButton",C8=I.forwardRef((t,e)=>{const n=Ou(f2,t.__scopeSelect),r=UI(f2,t.__scopeSelect),[i,o]=I.useState(!1),a=nn(e,r.onScrollButtonChange);return oi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?S.jsx(O8,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});C8.displayName=f2;var O8=I.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Ou("SelectScrollButton",n),a=I.useRef(null),s=rE(n),l=I.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return I.useEffect(()=>()=>l(),[l]),oi(()=>{var u;const c=s().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),S.jsx(Et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:xt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:xt(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:xt(i.onPointerLeave,()=>{l()})})}),hoe="SelectSeparator",R8=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return S.jsx(Et.div,{"aria-hidden":!0,...r,ref:e})});R8.displayName=hoe;var d2="SelectArrow",poe=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=iE(n),o=Cu(d2,n),a=Ou(d2,n);return o.open&&a.position==="popper"?S.jsx(lie,{...i,...r,ref:e}):null});poe.displayName=d2;var moe="SelectBubbleInput",I8=I.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=I.useRef(null),o=nn(r,i),a=DI(e);return I.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),S.jsx(Et.select,{...n,style:{...Z6,...n.style},ref:o,defaultValue:e})});I8.displayName=moe;function N8(t){return t===""||t===void 0}function D8(t){const e=Br(t),n=I.useRef(""),r=I.useRef(0),i=I.useCallback(a=>{const s=n.current+a;e(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=I.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function L8(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=goe(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function goe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var voe=l8,k8=u8,yoe=d8,xoe=h8,boe=p8,U8=m8,_oe=x8,F8=S8,j8=E8,Soe=M8,woe=A8,z8=P8,B8=C8,$8=R8;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V8=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Moe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>I.createElement("svg",{ref:l,...Moe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:V8("lucide",i),...s},[...a.map(([c,u])=>I.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(t,e)=>{const n=I.forwardRef(({className:r,...i},o)=>I.createElement(Toe,{ref:o,iconNode:e,className:V8(`lucide-${Eoe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Gt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=Gt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=Gt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=Gt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=Gt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Gt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=Gt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=Gt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=Gt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=Gt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=Gt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=Gt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=Gt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=Gt("FastForward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=Gt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=Gt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=Gt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=Gt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=Gt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=Gt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Gt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=Gt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Gt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=Gt("Rewind",[["polygon",{points:"11 19 2 12 11 5 11 19",key:"14yba5"}],["polygon",{points:"22 19 13 12 22 5 22 19",key:"1pi1cj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=Gt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Gt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=Gt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Gt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=Gt("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Gt("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Gt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=Gt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Gt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Gt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Gt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=Gt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=Gt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=Gt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Gt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ws=voe,Xs=yoe,es=I.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(k8,{ref:r,className:kt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,S.jsx(xoe,{asChild:!0,children:S.jsx(H8,{className:"h-4 w-4 opacity-50"})})]}));es.displayName=k8.displayName;const X8=I.forwardRef(({className:t,...e},n)=>S.jsx(z8,{ref:n,className:kt("flex cursor-default items-center justify-center py-1",t),...e,children:S.jsx(Doe,{className:"h-4 w-4"})}));X8.displayName=z8.displayName;const q8=I.forwardRef(({className:t,...e},n)=>S.jsx(B8,{ref:n,className:kt("flex cursor-default items-center justify-center py-1",t),...e,children:S.jsx(H8,{className:"h-4 w-4"})}));q8.displayName=B8.displayName;const ts=I.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>S.jsx(boe,{children:S.jsxs(U8,{ref:i,className:kt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[S.jsx(X8,{}),S.jsx(_oe,{className:kt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),S.jsx(q8,{})]})}));ts.displayName=U8.displayName;const tae=I.forwardRef(({className:t,...e},n)=>S.jsx(F8,{ref:n,className:kt("px-2 py-1.5 text-sm font-semibold",t),...e}));tae.displayName=F8.displayName;const en=I.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(j8,{ref:r,className:kt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[S.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(woe,{children:S.jsx(Ioe,{className:"h-4 w-4"})})}),S.jsx(Soe,{children:e})]}));en.displayName=j8.displayName;const nae=I.forwardRef(({className:t,...e},n)=>S.jsx($8,{ref:n,className:kt("-mx-1 my-1 h-px bg-muted",t),...e}));nae.displayName=$8.displayName;var rae="Separator",kU="horizontal",iae=["horizontal","vertical"],Y8=I.forwardRef((t,e)=>{const{decorative:n,orientation:r=kU,...i}=t,o=oae(r)?r:kU,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return S.jsx(Et.div,{"data-orientation":o,...s,...i,ref:e})});Y8.displayName=rae;function oae(t){return iae.includes(t)}var K8=Y8;const Su=I.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>S.jsx(K8,{ref:i,decorative:n,orientation:e,className:kt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Su.displayName=K8.displayName;const UU=t=>{let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const d=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,s);return s},aae=t=>t?UU(t):UU,sae=t=>t;function lae(t,e=sae){const n=oe.useSyncExternalStore(t.subscribe,oe.useCallback(()=>e(t.getState()),[t,e]),oe.useCallback(()=>e(t.getInitialState()),[t,e]));return oe.useDebugValue(n),n}const cae=t=>{const e=aae(t),n=r=>lae(e,r);return Object.assign(n,e),n},km=t=>cae,uae=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(a,s,l)=>{let c=a;if(s){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=a(r.getState());c=d=>{const h=a(d);if(!u(f,h)){const y=f;s(f=h,y)}},l!=null&&l.fireImmediately&&s(f,f)}return i(c)},t(e,n,r)},R0=uae;function fae(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const a=l=>l===null?null:JSON.parse(l,void 0),s=(o=n.getItem(i))!=null?o:null;return s instanceof Promise?s.then(a):a(s)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const p2=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return p2(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return p2(r)(n)}}}},dae=(t,e)=>(n,r,i)=>{let o={storage:fae(()=>localStorage),partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...e},a=!1;const s=new Set,l=new Set;let c=o.storage;if(!c)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...x)},r,i);const u=()=>{const x=o.partialize({...r()});return c.setItem(o.name,{state:x,version:o.version})},f=i.setState;i.setState=(x,v)=>(f(x,v),u());const d=t((...x)=>(n(...x),u()),r,i);i.getInitialState=()=>d;let h;const y=()=>{var x,v;if(!c)return;a=!1,s.forEach(_=>{var b;return _((b=r())!=null?b:d)});const m=((v=o.onRehydrateStorage)==null?void 0:v.call(o,(x=r())!=null?x:d))||void 0;return p2(c.getItem.bind(c))(o.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==o.version){if(o.migrate){const b=o.migrate(_.state,_.version);return b instanceof Promise?b.then(w=>[!0,w]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var b;const[w,E]=_;if(h=o.merge(E,(b=r())!=null?b:d),n(h,!0),w)return u()}).then(()=>{m==null||m(h,void 0),h=r(),a=!0,l.forEach(_=>_(h))}).catch(_=>{m==null||m(void 0,_)})};return i.persist={setOptions:x=>{o={...o,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:x=>(s.add(x),()=>{s.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},o.skipHydration||y(),h||d},hae=dae,Q8=[{symbol:"AAPL",name:"Apple Inc.",assetClass:"EQUITY",sector:"Technology",exchange:"NASDAQ",currency:"USD",lotSize:1,tickSize:.01,isin:"US0378331005",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"GOOGL",name:"Alphabet Inc.",assetClass:"EQUITY",sector:"Technology",exchange:"NASDAQ",currency:"USD",lotSize:1,tickSize:.01,isin:"US02079K3059",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"MSFT",name:"Microsoft Corporation",assetClass:"EQUITY",sector:"Technology",exchange:"NASDAQ",currency:"USD",lotSize:1,tickSize:.01,isin:"US5949181045",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"TSLA",name:"Tesla, Inc.",assetClass:"EQUITY",sector:"Automotive",exchange:"NASDAQ",currency:"USD",lotSize:1,tickSize:.01,isin:"US88160R1014",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"NVDA",name:"NVIDIA Corporation",assetClass:"EQUITY",sector:"Technology",exchange:"NASDAQ",currency:"USD",lotSize:1,tickSize:.01,isin:"US67066G1040",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"JPM",name:"JPMorgan Chase & Co.",assetClass:"EQUITY",sector:"Finance",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US46625H1005",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"BAC",name:"Bank of America Corporation",assetClass:"EQUITY",sector:"Finance",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US0605051046",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"WFC",name:"Wells Fargo & Company",assetClass:"EQUITY",sector:"Finance",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US9497461015",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"GS",name:"The Goldman Sachs Group, Inc.",assetClass:"EQUITY",sector:"Finance",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US38141G1040",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"MS",name:"Morgan Stanley",assetClass:"EQUITY",sector:"Finance",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US6174464486",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"JNJ",name:"Johnson & Johnson",assetClass:"EQUITY",sector:"Healthcare",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US4781601046",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"PFE",name:"Pfizer Inc.",assetClass:"EQUITY",sector:"Healthcare",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US7170811035",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"XOM",name:"Exxon Mobil Corporation",assetClass:"EQUITY",sector:"Energy",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US30231G1022",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"CVX",name:"Chevron Corporation",assetClass:"EQUITY",sector:"Energy",exchange:"NYSE",currency:"USD",lotSize:1,tickSize:.01,isin:"US1667641005",multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"ESM4",name:"E-mini S&P 500 Future",assetClass:"FUTURES",exchange:"CME",currency:"USD",lotSize:1,tickSize:.25,multiplier:50,expirationDate:"2024-06-21",underlyingSymbol:"SPX",tradingHours:{open:"17:00",close:"16:00",timezone:"CT"}},{symbol:"NQM4",name:"E-mini Nasdaq-100 Future",assetClass:"FUTURES",exchange:"CME",currency:"USD",lotSize:1,tickSize:.25,multiplier:20,expirationDate:"2024-06-21",underlyingSymbol:"NDX",tradingHours:{open:"17:00",close:"16:00",timezone:"CT"}},{symbol:"AAPL240621C00180000",name:"Apple Call Option",assetClass:"OPTIONS",exchange:"CBOE",currency:"USD",lotSize:1,tickSize:.01,multiplier:100,expirationDate:"2024-06-21",underlyingSymbol:"AAPL",strikePrice:180,optionType:"CALL",tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"AAPL240621P00180000",name:"Apple Put Option",assetClass:"OPTIONS",exchange:"CBOE",currency:"USD",lotSize:1,tickSize:.01,multiplier:100,expirationDate:"2024-06-21",underlyingSymbol:"AAPL",strikePrice:180,optionType:"PUT",tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"EURUSD",name:"Euro / US Dollar",assetClass:"FOREX",exchange:"FX",currency:"USD",lotSize:1e5,tickSize:1e-5,multiplier:1,tradingHours:{open:"17:00",close:"17:00",timezone:"ET"}},{symbol:"GBPUSD",name:"British Pound / US Dollar",assetClass:"FOREX",exchange:"FX",currency:"USD",lotSize:1e5,tickSize:1e-5,multiplier:1,tradingHours:{open:"17:00",close:"17:00",timezone:"ET"}},{symbol:"USDJPY",name:"US Dollar / Japanese Yen",assetClass:"FOREX",exchange:"FX",currency:"USD",lotSize:1e5,tickSize:.001,multiplier:1,tradingHours:{open:"17:00",close:"17:00",timezone:"ET"}},{symbol:"USDCHF",name:"US Dollar / Swiss Franc",assetClass:"FOREX",exchange:"FX",currency:"USD",lotSize:1e5,tickSize:1e-5,multiplier:1,tradingHours:{open:"17:00",close:"17:00",timezone:"ET"}},{symbol:"AUDUSD",name:"Australian Dollar / US Dollar",assetClass:"FOREX",exchange:"FX",currency:"USD",lotSize:1e5,tickSize:1e-5,multiplier:1,tradingHours:{open:"17:00",close:"17:00",timezone:"ET"}},{symbol:"SPX",name:"S&P 500 Index",assetClass:"INDEX",exchange:"SPX",currency:"USD",lotSize:1,tickSize:.01,multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"NDX",name:"NASDAQ-100 Index",assetClass:"INDEX",exchange:"NASDAQ",currency:"USD",lotSize:1,tickSize:.01,multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}},{symbol:"DJI",name:"Dow Jones Industrial Average",assetClass:"INDEX",exchange:"DJI",currency:"USD",lotSize:1,tickSize:.01,multiplier:1,tradingHours:{open:"09:30",close:"16:00",timezone:"ET"}}],Ta=km()(R0((t,e)=>({selectedInstrument:null,activeTab:"trading",isDarkMode:!0,layoutConfig:{showOrderEntry:!0,showMarketDepth:!0,showCharts:!0,showBlotters:!0,show3DVisualization:!1},instruments:Q8,watchlist:["AAPL","GOOGL","MSFT","TSLA","NVDA"],settings:{showNotifications:!0,autoRefresh:!0,refreshInterval:1e3,defaultQuantity:100,defaultOrderType:"LIMIT",riskLimits:{maxPositionSize:1e4,maxDailyLoss:5e3,maxOrderSize:1e3}},initialize:()=>{const n=wp("tradingState");n&&t({selectedInstrument:n.selectedInstrument,activeTab:n.activeTab||"trading",isDarkMode:n.isDarkMode??!0,layoutConfig:{...e().layoutConfig,...n.layoutConfig},watchlist:n.watchlist||e().watchlist,settings:{...e().settings,...n.settings}})},setSelectedInstrument:n=>{t({selectedInstrument:n}),e().saveState()},setActiveTab:n=>{t({activeTab:n}),e().saveState()},toggleTheme:()=>{t(n=>{const r=!n.isDarkMode;r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const i={...n,isDarkMode:r};return Ep("tradingState",{selectedInstrument:i.selectedInstrument,activeTab:i.activeTab,isDarkMode:r,layoutConfig:i.layoutConfig,watchlist:i.watchlist,settings:i.settings}),{isDarkMode:r}})},updateLayoutConfig:n=>{t({layoutConfig:{...e().layoutConfig,...n}}),e().saveState()},addToWatchlist:n=>{const r=e().watchlist;r.includes(n)||(t({watchlist:[...r,n]}),e().saveState())},removeFromWatchlist:n=>{t({watchlist:e().watchlist.filter(r=>r!==n)}),e().saveState()},updateSettings:n=>{t({settings:{...e().settings,...n}}),e().saveState()},saveState:()=>{const n=e();Ep("tradingState",{selectedInstrument:n.selectedInstrument,activeTab:n.activeTab,isDarkMode:n.isDarkMode,layoutConfig:n.layoutConfig,watchlist:n.watchlist,settings:n.settings})}}))),Ji=km()(R0((t,e)=>({marketData:new Map,orderBooks:new Map,ticks:new Map,ohlcvData:new Map,isConnected:!1,lastUpdate:Date.now(),subscriptions:new Set,updateMarketData:(n,r)=>{const i=new Map(e().marketData);i.set(n,r),t({marketData:i,lastUpdate:Date.now()})},updateOrderBook:(n,r)=>{const i=new Map(e().orderBooks);i.set(n,r),t({orderBooks:i,lastUpdate:Date.now()})},addTick:n=>{const r=new Map(e().ticks),o=[...r.get(n.symbol)||[],n].slice(-1e3);r.set(n.symbol,o),t({ticks:r,lastUpdate:Date.now()})},addOHLCV:n=>{const r=new Map(e().ohlcvData),o=[...r.get(n.symbol)||[],n].slice(-500);r.set(n.symbol,o),t({ohlcvData:r,lastUpdate:Date.now()})},subscribe:n=>{const r=new Set(e().subscriptions);r.add(n),t({subscriptions:r})},unsubscribe:n=>{const r=new Set(e().subscriptions);r.delete(n),t({subscriptions:r})},startDataFeed:()=>{t({isConnected:!0}),console.log("Market data feed started")},stopDataFeed:()=>{t({isConnected:!1}),console.log("Market data feed stopped")},getMarketData:n=>e().marketData.get(n),getOrderBook:n=>e().orderBooks.get(n),getTicks:n=>e().ticks.get(n)||[],getOHLCV:n=>e().ohlcvData.get(n)||[]}))),mi=km()(R0((t,e)=>({orders:[],trades:[],executionReports:[],pendingOrder:null,createOrder:n=>{const r=`ORD_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=Date.now(),o={...n,id:r,timestamp:i,status:"NEW",filledQuantity:0,avgFillPrice:0,remainingQuantity:n.quantity,lastUpdateTime:i,executionReports:[]};return t(a=>({orders:[...a.orders,o]})),e().saveToStorage(),r},updateOrder:(n,r)=>{t(i=>({orders:i.orders.map(o=>o.id===n?{...o,...r,lastUpdateTime:Date.now()}:o)})),e().saveToStorage()},cancelOrder:n=>{e().updateOrder(n,{status:"CANCELLED"})},addTrade:n=>{t(r=>({trades:[...r.trades,n]})),e().saveToStorage()},addExecutionReport:n=>{t(r=>({executionReports:[...r.executionReports,n],orders:r.orders.map(i=>i.id===n.orderId?{...i,status:n.ordStatus,filledQuantity:n.cumQty,avgFillPrice:n.avgPx,remainingQuantity:i.quantity-n.cumQty,lastUpdateTime:n.timestamp,executionReports:[...i.executionReports,n]}:i)})),e().saveToStorage()},setPendingOrder:n=>{t({pendingOrder:n})},clearPendingOrder:()=>{t({pendingOrder:null})},getOrder:n=>e().orders.find(r=>r.id===n),getOrdersBySymbol:n=>e().orders.filter(r=>r.symbol===n),getTradesBySymbol:n=>e().trades.filter(r=>r.symbol===n),saveToStorage:()=>{const n=e();Ep("orders",n.orders),Ep("trades",n.trades),Ep("executionReports",n.executionReports)},loadFromStorage:()=>{const n=wp("orders")||[],r=wp("trades")||[],i=wp("executionReports")||[];t({orders:n,trades:r,executionReports:i})}}))),Zf=km()(R0((t,e)=>({positions:new Map,totalPnL:0,totalMarketValue:0,updatePosition:(n,r,i)=>{const o=new Map(e().positions),a=o.get(n);if(a){const s=a.quantity+r,l=s===0?0:(a.averagePrice*a.quantity+i*r)/s,c={...a,quantity:s,averagePrice:l,side:s>0?"LONG":s<0?"SHORT":"FLAT",lastUpdateTime:Date.now()};s===0?o.delete(n):o.set(n,c)}else{const s={symbol:n,quantity:r,averagePrice:i,marketValue:0,unrealizedPnL:0,realizedPnL:0,side:r>0?"LONG":r<0?"SHORT":"FLAT",lastUpdateTime:Date.now()};o.set(n,s)}t({positions:o}),e().calculatePnL(),e().saveToStorage()},getPosition:n=>e().positions.get(n),getAllPositions:()=>Array.from(e().positions.values()),calculatePnL:()=>{const n=Array.from(e().positions.values()),r=n.reduce((o,a)=>o+a.unrealizedPnL+a.realizedPnL,0),i=n.reduce((o,a)=>o+Math.abs(a.marketValue),0);t({totalPnL:r,totalMarketValue:i})},saveToStorage:()=>{const n=Array.from(e().positions.entries());Ep("positions",n)},loadFromStorage:()=>{const n=wp("positions")||[],r=new Map(n);t({positions:r}),e().calculatePnL()}}))),hr=(t,e=2)=>t.toFixed(e),Ls=(t,e=2)=>`${t>=0?"+":""}${t.toFixed(e)}%`,Fs=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString(),On=(t,e="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Z8=t=>new Date(t).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),ba=t=>t>0?"text-green-500":t<0?"text-red-500":"text-muted-foreground",pae=t=>t.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),mae=t=>{switch(t){case"MARKET":return"Market";case"LIMIT":return"Limit";case"STOP":return"Stop";case"STOP_LIMIT":return"Stop Limit";case"ICEBERG":return"Iceberg";case"TWAP":return"TWAP";case"VWAP":return"VWAP";default:return t}},J8=t=>{switch(t){case"LONG":return"Long";case"SHORT":return"Short";case"FLAT":return"Flat";default:return t}},cr=km()(hae((t,e)=>({activeTutorial:null,currentStepIndex:0,completedTutorials:[],tutorialHistory:[],achievements:[],totalPoints:0,isTutorialActive:!1,showAchievementNotification:null,highlightedElement:null,stats:{ordersPlaced:0,tradesExecuted:0,instrumentsTraded:new Set,tutorialsCompleted:0,achievementsUnlocked:0,totalSessionTime:0,lastActiveDate:null},initializeAchievements:n=>{const{achievements:r}=e(),i=n.map(o=>{const a=r.find(s=>s.id===o.id);return a&&a.unlocked?{...o,unlocked:a.unlocked,unlockedAt:a.unlockedAt?new Date(a.unlockedAt):void 0}:o});t({achievements:i})},startTutorial:n=>{var r;t({activeTutorial:n,currentStepIndex:0,isTutorialActive:!0,highlightedElement:((r=n.steps[0])==null?void 0:r.target)||null})},nextStep:()=>{var o;const{activeTutorial:n,currentStepIndex:r}=e();if(!n)return;const i=r+1;i>=n.steps.length?e().completeTutorial():t({currentStepIndex:i,highlightedElement:((o=n.steps[i])==null?void 0:o.target)||null})},previousStep:()=>{var i;const{currentStepIndex:n,activeTutorial:r}=e();if(n>0&&r){const o=n-1;t({currentStepIndex:o,highlightedElement:((i=r.steps[o])==null?void 0:i.target)||null})}},skipTutorial:()=>{t({activeTutorial:null,currentStepIndex:0,isTutorialActive:!1,highlightedElement:null})},completeTutorial:()=>{const{activeTutorial:n,completedTutorials:r,tutorialHistory:i,stats:o}=e();if(!n)return;const a=[...r];a.includes(n.id)||a.push(n.id),t({completedTutorials:a,tutorialHistory:[...i,{tutorialId:n.id,completedAt:new Date}],activeTutorial:null,currentStepIndex:0,isTutorialActive:!1,highlightedElement:null,stats:{...o,tutorialsCompleted:o.tutorialsCompleted+1}}),setTimeout(()=>e().checkAchievements(),100)},resetTutorial:()=>{var r;const{activeTutorial:n}=e();n&&t({currentStepIndex:0,highlightedElement:((r=n.steps[0])==null?void 0:r.target)||null})},checkAchievements:()=>{const{achievements:n}=e();n.forEach(r=>{!r.unlocked&&r.condition()&&e().unlockAchievement(r.id)})},unlockAchievement:n=>{const{achievements:r,totalPoints:i,stats:o}=e(),a=r.find(s=>s.id===n);if(a&&!a.unlocked){const s=r.map(l=>l.id===n?{...l,unlocked:!0,unlockedAt:new Date}:l);t({achievements:s,totalPoints:i+a.points,showAchievementNotification:{...a,unlocked:!0,unlockedAt:new Date},stats:{...o,achievementsUnlocked:o.achievementsUnlocked+1}}),setTimeout(()=>e().dismissAchievementNotification(),5e3)}},dismissAchievementNotification:()=>{t({showAchievementNotification:null})},incrementOrdersPlaced:()=>{const{stats:n}=e();t({stats:{...n,ordersPlaced:n.ordersPlaced+1,lastActiveDate:new Date}}),e().checkAchievements()},incrementTradesExecuted:()=>{const{stats:n}=e();t({stats:{...n,tradesExecuted:n.tradesExecuted+1,lastActiveDate:new Date}}),e().checkAchievements()},addInstrumentTraded:n=>{const{stats:r}=e(),i=new Set(r.instrumentsTraded);i.add(n),t({stats:{...r,instrumentsTraded:i,lastActiveDate:new Date}}),e().checkAchievements()},updateSessionTime:n=>{const{stats:r}=e();t({stats:{...r,totalSessionTime:r.totalSessionTime+n,lastActiveDate:new Date}})},getTutorialProgress:n=>{const{completedTutorials:r}=e();return r.includes(n)?100:0},getAvailableTutorials:n=>{const{completedTutorials:r}=e();return n.filter(i=>i.prerequisites?i.prerequisites.every(o=>r.includes(o)):!0)},resetAllProgress:()=>{t({activeTutorial:null,currentStepIndex:0,completedTutorials:[],tutorialHistory:[],totalPoints:0,isTutorialActive:!1,showAchievementNotification:null,highlightedElement:null,stats:{ordersPlaced:0,tradesExecuted:0,instrumentsTraded:new Set,tutorialsCompleted:0,achievementsUnlocked:0,totalSessionTime:0,lastActiveDate:null}})}}),{name:"tutorial-storage",partialize:t=>({completedTutorials:t.completedTutorials,tutorialHistory:t.tutorialHistory,achievements:t.achievements.map(e=>({id:e.id,unlocked:e.unlocked,unlockedAt:e.unlockedAt})),totalPoints:t.totalPoints,stats:{...t.stats,instrumentsTraded:Array.from(t.stats.instrumentsTraded)}}),onRehydrateStorage:()=>t=>{t&&(t.stats.instrumentsTraded&&(t.stats.instrumentsTraded=new Set(t.stats.instrumentsTraded)),t.tutorialHistory&&(t.tutorialHistory=t.tutorialHistory.map(e=>({...e,completedAt:new Date(e.completedAt)}))),t.stats.lastActiveDate&&(t.stats.lastActiveDate=new Date(t.stats.lastActiveDate)))}})),Nt=I.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:kt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Nt.displayName="Card";const bn=I.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:kt("flex flex-col space-y-1.5 p-6",t),...e}));bn.displayName="CardHeader";const _n=I.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:kt("font-semibold leading-none tracking-tight",t),...e}));_n.displayName="CardTitle";const oE=I.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:kt("text-sm text-muted-foreground",t),...e}));oE.displayName="CardDescription";const Dt=I.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:kt("p-6 pt-0",t),...e}));Dt.displayName="CardContent";const eG=I.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:kt("flex items-center p-6 pt-0",t),...e}));eG.displayName="CardFooter";var jI="Progress",zI=100,[gae,c$e]=hs(jI),[vae,yae]=gae(jI),tG=I.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=xae,...a}=t;(i||i===0)&&!FU(i)&&console.error(bae(`${i}`,"Progress"));const s=FU(i)?i:zI;r!==null&&!jU(r,s)&&console.error(_ae(`${r}`,"Progress"));const l=jU(r,s)?r:null,c=D_(l)?o(l,s):void 0;return S.jsx(vae,{scope:n,value:l,max:s,children:S.jsx(Et.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":D_(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":iG(l,s),"data-value":l??void 0,"data-max":s,...a,ref:e})})});tG.displayName=jI;var nG="ProgressIndicator",rG=I.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=yae(nG,n);return S.jsx(Et.div,{"data-state":iG(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});rG.displayName=nG;function xae(t,e){return`${Math.round(t/e*100)}%`}function iG(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function D_(t){return typeof t=="number"}function FU(t){return D_(t)&&!isNaN(t)&&t>0}function jU(t,e){return D_(t)&&!isNaN(t)&&t<=e&&t>=0}function bae(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zI}\`.`}function _ae(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oG=tG,Sae=rG;const BI=I.forwardRef(({className:t,value:e,...n},r)=>S.jsx(oG,{ref:r,className:kt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:S.jsx(Sae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));BI.displayName=oG.displayName;function wae(){const{activeTutorial:t,currentStepIndex:e,isTutorialActive:n,highlightedElement:r,nextStep:i,previousStep:o,skipTutorial:a,completeTutorial:s}=cr(),[l,c]=I.useState(null);if(I.useEffect(()=>{if(r&&n){const v=document.querySelector(r);if(v){const m=v.getBoundingClientRect();c(m),v.scrollIntoView({behavior:"smooth",block:"center"})}else c(null)}else c(null)},[r,n,e]),!t||!n)return null;const u=t.steps[e],f=(e+1)/t.steps.length*100,d=e===0,h=e===t.steps.length-1,x=(()=>{if(!l||!u)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};const v=20,m=400,_=300;let b=0,w=0;switch(u.position){case"top":b=l.top-_-v,w=l.left+l.width/2-m/2;break;case"bottom":b=l.bottom+v,w=l.left+l.width/2-m/2;break;case"left":b=l.top+l.height/2-_/2,w=l.left-m-v;break;case"right":b=l.top+l.height/2-_/2,w=l.right+v;break}return b=Math.max(v,Math.min(b,window.innerHeight-_-v)),w=Math.max(v,Math.min(w,window.innerWidth-m-v)),{top:`${b}px`,left:`${w}px`}})();return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 bg-black/70 z-[9998] pointer-events-none"}),l&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed z-[9999] pointer-events-none border-4 border-cyan-400 rounded-lg shadow-[0_0_20px_rgba(34,211,238,0.6)] animate-pulse",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8}}),S.jsx("div",{className:"fixed z-[9997] bg-white/10 pointer-events-auto",style:{top:l.top,left:l.left,width:l.width,height:l.height}})]}),S.jsxs(Nt,{className:"fixed z-[10000] w-[400px] shadow-2xl border-2 border-cyan-500/50 bg-background",style:x,children:[S.jsxs(bn,{className:"relative",children:[S.jsx(gn,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 h-6 w-6",onClick:a,children:S.jsx(xd,{className:"h-4 w-4"})}),S.jsx(_n,{className:"pr-8",children:u==null?void 0:u.title}),S.jsxs(oE,{children:["Step ",e+1," of ",t.steps.length]})]}),S.jsxs(Dt,{className:"space-y-4",children:[S.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.description}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[S.jsx("span",{children:"Progress"}),S.jsxs("span",{children:[Math.round(f),"%"]})]}),S.jsx(BI,{value:f,className:"h-2"})]})]}),S.jsxs(eG,{className:"flex justify-between",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(gn,{variant:"outline",size:"sm",onClick:o,disabled:d,children:[S.jsx(Noe,{className:"h-4 w-4 mr-1"}),"Previous"]}),h?S.jsxs(gn,{size:"sm",onClick:s,className:"bg-green-600 hover:bg-green-700",children:["Complete",S.jsx(IU,{className:"h-4 w-4 ml-1"})]}):S.jsxs(gn,{size:"sm",onClick:i,children:["Next",S.jsx(IU,{className:"h-4 w-4 ml-1"})]})]}),S.jsxs(gn,{variant:"ghost",size:"sm",onClick:a,children:[S.jsx(W8,{className:"h-4 w-4 mr-1"}),"Skip"]})]})]})]})}function Eae(){const{showAchievementNotification:t,dismissAchievementNotification:e}=cr();return I.useEffect(()=>{if(t){const n=new Audio("/sounds/achievement.mp3");n.volume=.3,n.play().catch(()=>{})}},[t]),t?S.jsx("div",{className:"fixed top-4 right-4 z-[10001] animate-in slide-in-from-top-5",children:S.jsxs(Nt,{className:"w-[350px] border-2 border-yellow-500 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 shadow-2xl",children:[S.jsxs(bn,{className:"relative pb-3",children:[S.jsx(gn,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 h-6 w-6",onClick:e,children:S.jsx(xd,{className:"h-4 w-4"})}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"text-4xl",children:t.icon}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"flex items-center gap-2",children:S.jsx(_n,{className:"text-lg",children:"Achievement Unlocked!"})}),S.jsxs(oE,{className:"text-xs",children:["+",t.points," points"]})]})]})]}),S.jsx(Dt,{className:"pt-0",children:S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Er,{variant:"outline",className:"capitalize",children:t.category}),S.jsx("h4",{className:"font-semibold",children:t.title})]}),S.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})})]})}):null}const m2=[{id:"getting-started",title:"Getting Started with TradeFlow 3D",description:"Learn the basics of navigating the trading platform and understanding the interface.",category:"basics",steps:[{id:"welcome",title:"Welcome to TradeFlow 3D",description:"TradeFlow 3D is an educational trading simulator that visualizes the complete trade lifecycle in 3D. Let's get started!",target:"body",position:"top"},{id:"navigation",title:"Platform Navigation",description:"Use the tabs at the top to switch between Trading, Market Overview, Risk Dashboard, and 3D Visualization.",target:'[role="tablist"]',position:"bottom"},{id:"instrument-selection",title:"Select an Instrument",description:"Click on any instrument in the watchlist to view its details and start trading.",target:'[data-tutorial="watchlist"]',position:"right"},{id:"theme-toggle",title:"Theme Toggle",description:"Toggle between light and dark mode using the theme button in the toolbar.",target:'[data-tutorial="theme-toggle"]',position:"bottom"}]},{id:"first-order",title:"Placing Your First Order",description:"Learn how to place different types of orders in the trading system.",category:"trading",prerequisites:["getting-started"],steps:[{id:"order-entry-panel",title:"Order Entry Panel",description:"This is where you create and submit orders. Let's explore the different fields.",target:'[data-tutorial="order-entry"]',position:"right"},{id:"select-side",title:"Buy or Sell",description:"Choose whether you want to BUY or SELL the selected instrument.",target:'[data-tutorial="order-side"]',position:"right"},{id:"order-type",title:"Order Type",description:"Select an order type: MARKET (immediate execution), LIMIT (specific price), STOP, or STOP_LIMIT.",target:'[data-tutorial="order-type"]',position:"right"},{id:"quantity",title:"Enter Quantity",description:"Specify how many shares or units you want to trade.",target:'[data-tutorial="quantity"]',position:"right"},{id:"price",title:"Set Price (Limit Orders)",description:"For LIMIT orders, enter your desired execution price.",target:'[data-tutorial="price"]',position:"right"},{id:"submit-order",title:"Submit Order",description:"Click the submit button to send your order to the matching engine!",target:'[data-tutorial="submit-order"]',position:"top",action:"place-order"}]},{id:"market-depth",title:"Understanding Market Depth",description:"Learn how to read the order book and market depth ladder.",category:"analysis",prerequisites:["getting-started"],steps:[{id:"depth-intro",title:"Market Depth Ladder",description:"The market depth shows all pending buy and sell orders at different price levels.",target:'[data-tutorial="market-depth"]',position:"left"},{id:"bid-side",title:"Bid Side (Buy Orders)",description:"The left side shows BID orders (buyers). Higher prices are at the top.",target:'[data-tutorial="bid-side"]',position:"right"},{id:"ask-side",title:"Ask Side (Sell Orders)",description:"The right side shows ASK orders (sellers). Lower prices are at the top.",target:'[data-tutorial="ask-side"]',position:"left"},{id:"spread",title:"Bid-Ask Spread",description:"The difference between the best bid and best ask is the spread - a key liquidity indicator.",target:'[data-tutorial="spread"]',position:"bottom"}]},{id:"order-lifecycle",title:"Order Lifecycle & Blotters",description:"Track your orders from submission to execution using the blotter panels.",category:"trading",prerequisites:["first-order"],steps:[{id:"order-blotter",title:"Order Blotter",description:"The Order Blotter shows all your orders and their current status (NEW, FILLED, CANCELLED, etc.).",target:'[data-tutorial="order-blotter"]',position:"top"},{id:"trade-blotter",title:"Trade Blotter",description:"Once orders are matched, they appear here as executed trades with fill prices and times.",target:'[data-tutorial="trade-blotter"]',position:"top"},{id:"position-blotter",title:"Position Blotter",description:"Your positions show your current holdings, average price, and real-time P&L.",target:'[data-tutorial="position-blotter"]',position:"top"},{id:"cancel-order",title:"Managing Orders",description:"You can cancel pending orders by clicking the cancel button in the Order Blotter.",target:'[data-tutorial="cancel-button"]',position:"left"}]},{id:"risk-monitoring",title:"Risk Management & P&L",description:"Monitor your trading performance and risk exposure.",category:"risk",prerequisites:["order-lifecycle"],steps:[{id:"risk-dashboard-intro",title:"Risk Dashboard",description:"Switch to the Risk tab to view your overall trading performance and risk metrics.",target:'[data-tutorial="risk-tab"]',position:"bottom"},{id:"pnl-chart",title:"P&L Chart",description:"This chart shows your profit and loss over time. Green means profit, red means loss.",target:'[data-tutorial="pnl-chart"]',position:"bottom"},{id:"exposure",title:"Position Exposure",description:"See your exposure breakdown by instrument and sector.",target:'[data-tutorial="exposure"]',position:"top"},{id:"risk-limits",title:"Risk Limits",description:"Monitor your usage against configured risk limits (max position size, daily loss limit, etc.).",target:'[data-tutorial="risk-limits"]',position:"top"}]},{id:"3d-visualization",title:"3D Trade Flow Visualization",description:"Explore the TRON-like 3D visualization of the complete trade lifecycle.",category:"advanced",prerequisites:["order-lifecycle"],steps:[{id:"3d-intro",title:"3D Visualization",description:"Enable the 3D visualization to see your orders flow through the trading infrastructure.",target:'[data-tutorial="3d-toggle"]',position:"bottom"},{id:"order-gateway",title:"Order Gateway",description:"Watch as your orders enter through the gateway (FIX protocol simulation).",target:'[data-tutorial="3d-canvas"]',position:"top"},{id:"matching-engine",title:"Matching Engine",description:"Orders flow to the matching engine where they are processed using price-time priority.",target:'[data-tutorial="3d-canvas"]',position:"top"},{id:"execution",title:"Execution & Settlement",description:"Matched orders execute and flow to the settlement system. Color indicates order side (blue=buy, red=sell).",target:'[data-tutorial="3d-canvas"]',position:"top"}]},{id:"market-analysis",title:"Market Analysis Tools",description:"Use the Market Overview to analyze market trends and find trading opportunities.",category:"analysis",prerequisites:["getting-started"],steps:[{id:"market-overview",title:"Market Overview Tab",description:"The Market Overview provides a comprehensive view of market conditions.",target:'[data-tutorial="market-tab"]',position:"bottom"},{id:"market-movers",title:"Top Movers",description:"See which stocks are moving the most (both gainers and losers).",target:'[data-tutorial="top-movers"]',position:"left"},{id:"sector-performance",title:"Sector Performance",description:"Analyze performance by sector to identify trending industries.",target:'[data-tutorial="sector-performance"]',position:"right"},{id:"watchlist-management",title:"Manage Watchlists",description:"Add instruments to your watchlist to monitor them easily.",target:'[data-tutorial="watchlist"]',position:"left"}]}],Mae=[{id:"first-steps",title:"First Steps",description:"Complete your first tutorial",icon:"",category:"learning",condition:()=>cr.getState().stats.tutorialsCompleted>=1,unlocked:!1,points:10},{id:"quick-learner",title:"Quick Learner",description:"Complete 3 tutorials",icon:"",category:"learning",condition:()=>cr.getState().stats.tutorialsCompleted>=3,unlocked:!1,points:25},{id:"master-student",title:"Master Student",description:"Complete all tutorials",icon:"",category:"learning",condition:()=>cr.getState().stats.tutorialsCompleted>=m2.length,unlocked:!1,points:100},{id:"first-trade",title:"First Trade",description:"Place your first order",icon:"",category:"trading",condition:()=>cr.getState().stats.ordersPlaced>=1,unlocked:!1,points:15},{id:"active-trader",title:"Active Trader",description:"Place 10 orders",icon:"",category:"trading",condition:()=>cr.getState().stats.ordersPlaced>=10,unlocked:!1,points:30},{id:"trading-veteran",title:"Trading Veteran",description:"Place 50 orders",icon:"",category:"trading",condition:()=>cr.getState().stats.ordersPlaced>=50,unlocked:!1,points:75},{id:"market-maker",title:"Market Maker",description:"Place 100 orders",icon:"",category:"trading",condition:()=>cr.getState().stats.ordersPlaced>=100,unlocked:!1,points:150},{id:"first-execution",title:"First Execution",description:"Execute your first trade",icon:"",category:"trading",condition:()=>cr.getState().stats.tradesExecuted>=1,unlocked:!1,points:20},{id:"diversified",title:"Diversified Portfolio",description:"Trade 5 different instruments",icon:"",category:"trading",condition:()=>cr.getState().stats.instrumentsTraded.size>=5,unlocked:!1,points:40},{id:"multi-asset",title:"Multi-Asset Trader",description:"Trade 10 different instruments",icon:"",category:"trading",condition:()=>cr.getState().stats.instrumentsTraded.size>=10,unlocked:!1,points:60},{id:"dedicated",title:"Dedicated Learner",description:"Spend 30 minutes on the platform",icon:"",category:"learning",condition:()=>cr.getState().stats.totalSessionTime>=30,unlocked:!1,points:25},{id:"committed",title:"Committed Trader",description:"Spend 2 hours on the platform",icon:"",category:"learning",condition:()=>cr.getState().stats.totalSessionTime>=120,unlocked:!1,points:50},{id:"risk-aware",title:"Risk Aware",description:"Complete the Risk Management tutorial",icon:"",category:"risk",condition:()=>cr.getState().completedTutorials.includes("risk-monitoring"),unlocked:!1,points:35},{id:"3d-explorer",title:"3D Explorer",description:"Complete the 3D Visualization tutorial",icon:"",category:"mastery",condition:()=>cr.getState().completedTutorials.includes("3d-visualization"),unlocked:!1,points:45},{id:"analyst",title:"Market Analyst",description:"Complete the Market Analysis tutorial",icon:"",category:"analysis",condition:()=>cr.getState().completedTutorials.includes("market-analysis"),unlocked:!1,points:35}];var aE="Dialog",[aG,u$e]=hs(aE),[Tae,ps]=aG(aE),sG=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=I.useRef(null),l=I.useRef(null),[c,u]=xu({prop:r,defaultProp:i??!1,onChange:o,caller:aE});return S.jsx(Tae,{scope:e,triggerRef:s,contentRef:l,contentId:pu(),titleId:pu(),descriptionId:pu(),open:c,onOpenChange:u,onOpenToggle:I.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};sG.displayName=aE;var lG="DialogTrigger",cG=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ps(lG,n),o=nn(e,i.triggerRef);return S.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":HI(i.open),...r,ref:o,onClick:xt(t.onClick,i.onOpenToggle)})});cG.displayName=lG;var $I="DialogPortal",[Aae,uG]=aG($I,{forceMount:void 0}),fG=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=ps($I,e);return S.jsx(Aae,{scope:e,forceMount:n,children:I.Children.map(r,a=>S.jsx(nl,{present:n||o.open,children:S.jsx(eE,{asChild:!0,container:i,children:a})}))})};fG.displayName=$I;var L_="DialogOverlay",dG=I.forwardRef((t,e)=>{const n=uG(L_,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ps(L_,t.__scopeDialog);return o.modal?S.jsx(nl,{present:r||o.open,children:S.jsx(Cae,{...i,ref:e})}):null});dG.displayName=L_;var Pae=qp("DialogOverlay.RemoveScroll"),Cae=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ps(L_,n);return S.jsx(kI,{as:Pae,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(Et.div,{"data-state":HI(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),bd="DialogContent",hG=I.forwardRef((t,e)=>{const n=uG(bd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ps(bd,t.__scopeDialog);return S.jsx(nl,{present:r||o.open,children:o.modal?S.jsx(Oae,{...i,ref:e}):S.jsx(Rae,{...i,ref:e})})});hG.displayName=bd;var Oae=I.forwardRef((t,e)=>{const n=ps(bd,t.__scopeDialog),r=I.useRef(null),i=nn(e,n.contentRef,r);return I.useEffect(()=>{const o=r.current;if(o)return e8(o)},[]),S.jsx(pG,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xt(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xt(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:xt(t.onFocusOutside,o=>o.preventDefault())})}),Rae=I.forwardRef((t,e)=>{const n=ps(bd,t.__scopeDialog),r=I.useRef(!1),i=I.useRef(!1);return S.jsx(pG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),pG=I.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=ps(bd,n),l=I.useRef(null),c=nn(e,l);return P6(),S.jsxs(S.Fragment,{children:[S.jsx(EI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:S.jsx(Yw,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":HI(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(Iae,{titleId:s.titleId}),S.jsx(Dae,{contentRef:l,descriptionId:s.descriptionId})]})]})}),VI="DialogTitle",mG=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ps(VI,n);return S.jsx(Et.h2,{id:i.titleId,...r,ref:e})});mG.displayName=VI;var gG="DialogDescription",vG=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ps(gG,n);return S.jsx(Et.p,{id:i.descriptionId,...r,ref:e})});vG.displayName=gG;var yG="DialogClose",xG=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ps(yG,n);return S.jsx(Et.button,{type:"button",...r,ref:e,onClick:xt(t.onClick,()=>i.onOpenChange(!1))})});xG.displayName=yG;function HI(t){return t?"open":"closed"}var bG="DialogTitleWarning",[f$e,_G]=dte(bG,{contentName:bd,titleName:VI,docsSlug:"dialog"}),Iae=({titleId:t})=>{const e=_G(bG),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Nae="DialogDescriptionWarning",Dae=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_G(Nae).contentName}}.`;return I.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Lae=sG,kae=cG,Uae=fG,SG=dG,wG=hG,EG=mG,MG=vG,Fae=xG;const TG=Lae,AG=kae,jae=Uae,PG=I.forwardRef(({className:t,...e},n)=>S.jsx(SG,{ref:n,className:kt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));PG.displayName=SG.displayName;const GI=I.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(jae,{children:[S.jsx(PG,{}),S.jsxs(wG,{ref:r,className:kt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,S.jsxs(Fae,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[S.jsx(xd,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));GI.displayName=wG.displayName;const WI=({className:t,...e})=>S.jsx("div",{className:kt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});WI.displayName="DialogHeader";const XI=I.forwardRef(({className:t,...e},n)=>S.jsx(EG,{ref:n,className:kt("text-lg font-semibold leading-none tracking-tight",t),...e}));XI.displayName=EG.displayName;const qI=I.forwardRef(({className:t,...e},n)=>S.jsx(MG,{ref:n,className:kt("text-sm text-muted-foreground",t),...e}));qI.displayName=MG.displayName;function zae(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var YI="ScrollArea",[CG,d$e]=hs(YI),[Bae,Ca]=CG(YI),OG=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=t,[s,l]=I.useState(null),[c,u]=I.useState(null),[f,d]=I.useState(null),[h,y]=I.useState(null),[x,v]=I.useState(null),[m,_]=I.useState(0),[b,w]=I.useState(0),[E,M]=I.useState(!1),[A,P]=I.useState(!1),R=nn(e,N=>l(N)),O=A0(i);return S.jsx(Bae,{scope:n,type:r,dir:O,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:M,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:P,onCornerWidthChange:_,onCornerHeightChange:w,children:S.jsx(Et.div,{dir:O,...a,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});OG.displayName=YI;var RG="ScrollAreaViewport",IG=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,a=Ca(RG,n),s=I.useRef(null),l=nn(e,s,a.onViewportChange);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),S.jsx(Et.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:S.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});IG.displayName=RG;var il="ScrollAreaScrollbar",KI=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ca(il,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=t.orientation==="horizontal";return I.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?S.jsx($ae,{...r,ref:e,forceMount:n}):i.type==="scroll"?S.jsx(Vae,{...r,ref:e,forceMount:n}):i.type==="auto"?S.jsx(NG,{...r,ref:e,forceMount:n}):i.type==="always"?S.jsx(QI,{...r,ref:e}):null});KI.displayName=il;var $ae=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ca(il,t.__scopeScrollArea),[o,a]=I.useState(!1);return I.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),S.jsx(nl,{present:n||o,children:S.jsx(NG,{"data-state":o?"visible":"hidden",...r,ref:e})})}),Vae=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ca(il,t.__scopeScrollArea),o=t.orientation==="horizontal",a=lE(()=>l("SCROLL_END"),100),[s,l]=zae("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return I.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),I.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const d=()=>{const h=c[u];f!==h&&(l("SCROLL"),a()),f=h};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,o,l,a]),S.jsx(nl,{present:n||s!=="hidden",children:S.jsx(QI,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:xt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:xt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),NG=I.forwardRef((t,e)=>{const n=Ca(il,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,a]=I.useState(!1),s=t.orientation==="horizontal",l=lE(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:u)}},10);return Kp(n.viewport,l),Kp(n.content,l),S.jsx(nl,{present:r||o,children:S.jsx(QI,{"data-state":o?"visible":"hidden",...i,ref:e})})}),QI=I.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Ca(il,t.__scopeScrollArea),o=I.useRef(null),a=I.useRef(0),[s,l]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=FG(s.viewport,s.content),u={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:d=>o.current=d,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:d=>a.current=d};function f(d,h){return Yae(d,a.current,s,h)}return n==="horizontal"?S.jsx(Hae,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollLeft,h=zU(d,s,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}}):n==="vertical"?S.jsx(Gae,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollTop,h=zU(d,s);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}}):null}),Hae=I.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Ca(il,t.__scopeScrollArea),[a,s]=I.useState(),l=I.useRef(null),c=nn(e,l,o.onScrollbarXChange);return I.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),S.jsx(LG,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sE(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const d=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(d),zG(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:U_(a.paddingLeft),paddingEnd:U_(a.paddingRight)}})}})}),Gae=I.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=Ca(il,t.__scopeScrollArea),[a,s]=I.useState(),l=I.useRef(null),c=nn(e,l,o.onScrollbarYChange);return I.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),S.jsx(LG,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sE(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const d=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(d),zG(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:U_(a.paddingTop),paddingEnd:U_(a.paddingBottom)}})}})}),[Wae,DG]=CG(il),LG=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...d}=t,h=Ca(il,n),[y,x]=I.useState(null),v=nn(e,R=>x(R)),m=I.useRef(null),_=I.useRef(""),b=h.viewport,w=r.content-r.viewport,E=Br(u),M=Br(l),A=lE(f,10);function P(R){if(m.current){const O=R.clientX-m.current.left,N=R.clientY-m.current.top;c({x:O,y:N})}}return I.useEffect(()=>{const R=O=>{const N=O.target;(y==null?void 0:y.contains(N))&&E(O,w)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[b,y,w,E]),I.useEffect(M,[r,M]),Kp(y,A),Kp(h.content,A),S.jsx(Wae,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:Br(o),onThumbPointerUp:Br(a),onThumbPositionChange:M,onThumbPointerDown:Br(s),children:S.jsx(Et.div,{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:xt(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),m.current=y.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),P(R))}),onPointerMove:xt(t.onPointerMove,P),onPointerUp:xt(t.onPointerUp,R=>{const O=R.target;O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=_.current,h.viewport&&(h.viewport.style.scrollBehavior=""),m.current=null})})})}),k_="ScrollAreaThumb",kG=I.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=DG(k_,t.__scopeScrollArea);return S.jsx(nl,{present:n||i.hasThumb,children:S.jsx(Xae,{ref:e,...r})})}),Xae=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=Ca(k_,n),a=DG(k_,n),{onThumbPositionChange:s}=a,l=nn(e,f=>a.onThumbChange(f)),c=I.useRef(void 0),u=lE(()=>{c.current&&(c.current(),c.current=void 0)},100);return I.useEffect(()=>{const f=o.viewport;if(f){const d=()=>{if(u(),!c.current){const h=Kae(f,s);c.current=h,s()}};return s(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[o.viewport,u,s]),S.jsx(Et.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:xt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),y=f.clientX-h.left,x=f.clientY-h.top;a.onThumbPointerDown({x:y,y:x})}),onPointerUp:xt(t.onPointerUp,a.onThumbPointerUp)})});kG.displayName=k_;var ZI="ScrollAreaCorner",UG=I.forwardRef((t,e)=>{const n=Ca(ZI,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.jsx(qae,{...t,ref:e}):null});UG.displayName=ZI;var qae=I.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Ca(ZI,n),[o,a]=I.useState(0),[s,l]=I.useState(0),c=!!(o&&s);return Kp(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Kp(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?S.jsx(Et.div,{...r,ref:e,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function U_(t){return t?parseInt(t,10):0}function FG(t,e){const n=t/e;return isNaN(n)?0:n}function sE(t){const e=FG(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Yae(t,e,n,r="ltr"){const i=sE(n),o=i/2,a=e||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return jG([l,c],f)(t)}function zU(t,e,n="ltr"){const r=sE(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,a=e.content-e.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=hy(t,l);return jG([0,a],[0,s])(c)}function jG(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function zG(t,e){return t>0&&t<e}var Kae=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function lE(t,e){const n=Br(t),r=I.useRef(0);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),I.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Kp(t,e){const n=Br(e);oi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var BG=OG,Qae=IG,Zae=UG;const JI=I.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(BG,{ref:r,className:kt("relative overflow-hidden",t),...n,children:[S.jsx(Qae,{className:"h-full w-full rounded-[inherit]",children:e}),S.jsx($G,{}),S.jsx(Zae,{})]}));JI.displayName=BG.displayName;const $G=I.forwardRef(({className:t,orientation:e="vertical",...n},r)=>S.jsx(KI,{ref:r,orientation:e,className:kt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:S.jsx(kG,{className:"relative flex-1 rounded-full bg-border"})}));$G.displayName=KI.displayName;function Jae(){const[t,e]=I.useState(!1),{startTutorial:n,completedTutorials:r,getAvailableTutorials:i}=cr(),o=i(m2),a=["basics","trading","analysis","risk","advanced"],s=f=>{n(f),e(!1)},l=f=>m2.filter(d=>d.category===f),c=f=>o.some(d=>d.id===f),u=f=>r.includes(f);return S.jsxs(TG,{open:t,onOpenChange:e,children:[S.jsx(AG,{asChild:!0,children:S.jsxs(gn,{variant:"outline",size:"sm",children:[S.jsx(Coe,{className:"h-4 w-4 mr-2"}),"Tutorials"]})}),S.jsxs(GI,{className:"max-w-3xl max-h-[80vh]",children:[S.jsxs(WI,{children:[S.jsx(XI,{children:"Trading Tutorials"}),S.jsx(qI,{children:"Learn how to use TradeFlow 3D with interactive, step-by-step tutorials."})]}),S.jsxs(Rm,{defaultValue:"basics",className:"w-full",children:[S.jsxs(Fd,{className:"grid w-full grid-cols-5",children:[S.jsx(Hn,{value:"basics",children:"Basics"}),S.jsx(Hn,{value:"trading",children:"Trading"}),S.jsx(Hn,{value:"analysis",children:"Analysis"}),S.jsx(Hn,{value:"risk",children:"Risk"}),S.jsx(Hn,{value:"advanced",children:"Advanced"})]}),a.map(f=>S.jsx(gi,{value:f,children:S.jsx(JI,{className:"h-[400px] pr-4",children:S.jsx("div",{className:"space-y-3",children:l(f).map(d=>{const h=u(d.id),x=!c(d.id);return S.jsxs(Nt,{className:`${h?"border-green-500/50 bg-green-500/5":""} ${x?"opacity-60":""}`,children:[S.jsx(bn,{className:"pb-3",children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(_n,{className:"text-base",children:d.title}),h&&S.jsx(Loe,{className:"h-5 w-5 text-green-500"}),x&&S.jsx(Boe,{className:"h-4 w-4 text-muted-foreground"})]}),S.jsx(oE,{className:"mt-1",children:d.description})]}),S.jsx(gn,{size:"sm",onClick:()=>s(d),disabled:x,variant:h?"outline":"default",children:h?S.jsxs(S.Fragment,{children:[S.jsx(h2,{className:"h-4 w-4 mr-1"}),"Replay"]}):S.jsxs(S.Fragment,{children:[S.jsx(h2,{className:"h-4 w-4 mr-1"}),"Start"]})})]})}),S.jsx(Dt,{className:"pt-0",children:S.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[S.jsx(Er,{variant:"outline",className:"capitalize",children:d.category}),S.jsx("span",{children:""}),S.jsxs("span",{children:[d.steps.length," steps"]}),d.prerequisites&&d.prerequisites.length>0&&S.jsxs(S.Fragment,{children:[S.jsx("span",{children:""}),S.jsx("span",{className:"text-orange-500",children:"Prerequisites required"})]})]})})]},d.id)})})})},f))]})]})]})}var ese="Label",VG=I.forwardRef((t,e)=>S.jsx(Et.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VG.displayName=ese;var HG=VG;const tse=C0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cn=I.forwardRef(({className:t,...e},n)=>S.jsx(HG,{ref:n,className:kt(tse(),t),...e}));Cn.displayName=HG.displayName;const xr=I.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:kt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));xr.displayName="Input";var cE="Switch",[nse,h$e]=hs(cE),[rse,ise]=nse(cE),GG=I.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=t,[d,h]=I.useState(null),y=nn(e,b=>h(b)),x=I.useRef(!1),v=d?u||!!d.closest("form"):!0,[m,_]=xu({prop:i,defaultProp:o??!1,onChange:c,caller:cE});return S.jsxs(rse,{scope:n,checked:m,disabled:s,children:[S.jsx(Et.button,{type:"button",role:"switch","aria-checked":m,"aria-required":a,"data-state":YG(m),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:y,onClick:xt(t.onClick,b=>{_(w=>!w),v&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),v&&S.jsx(qG,{control:d,bubbles:!x.current,name:r,value:l,checked:m,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});GG.displayName=cE;var WG="SwitchThumb",XG=I.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=ise(WG,n);return S.jsx(Et.span,{"data-state":YG(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});XG.displayName=WG;var ose="SwitchBubbleInput",qG=I.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const a=I.useRef(null),s=nn(a,o),l=DI(n),c=RI(e);return I.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&h){const y=new Event("click",{bubbles:r});h.call(u,n),u.dispatchEvent(y)}},[l,n,r]),S.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qG.displayName=ose;function YG(t){return t?"checked":"unchecked"}var KG=GG,ase=XG;const vy=I.forwardRef(({className:t,...e},n)=>S.jsx(KG,{className:kt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:S.jsx(ase,{className:kt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));vy.displayName=KG.displayName;const sse=()=>{const{settings:t,updateSettings:e}=Ta();return S.jsxs(TG,{children:[S.jsx(AG,{asChild:!0,children:S.jsx(gn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:S.jsx(qoe,{className:"h-4 w-4"})})}),S.jsxs(GI,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[S.jsxs(WI,{children:[S.jsx(XI,{children:"Settings"}),S.jsx(qI,{children:"Configure your trading platform preferences"})]}),S.jsxs("div",{className:"space-y-6 py-4",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-sm font-semibold",children:"General"}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"space-y-0.5",children:[S.jsx(Cn,{htmlFor:"notifications",children:"Notifications"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Show notifications for trades and alerts"})]}),S.jsx(vy,{id:"notifications",checked:t.showNotifications,onCheckedChange:n=>e({showNotifications:n})})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"space-y-0.5",children:[S.jsx(Cn,{htmlFor:"autoRefresh",children:"Auto Refresh"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically refresh market data"})]}),S.jsx(vy,{id:"autoRefresh",checked:t.autoRefresh,onCheckedChange:n=>e({autoRefresh:n})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Cn,{htmlFor:"refreshInterval",children:"Refresh Interval (ms)"}),S.jsx(xr,{id:"refreshInterval",type:"number",value:t.refreshInterval,onChange:n=>e({refreshInterval:parseInt(n.target.value)||1e3}),min:100,max:1e4,step:100}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"How often to refresh market data (100-10000ms)"})]})]}),S.jsx(Su,{}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-sm font-semibold",children:"Trading Defaults"}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Cn,{htmlFor:"defaultQuantity",children:"Default Quantity"}),S.jsx(xr,{id:"defaultQuantity",type:"number",value:t.defaultQuantity,onChange:n=>e({defaultQuantity:parseInt(n.target.value)||100}),min:1,step:1})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Cn,{htmlFor:"defaultOrderType",children:"Default Order Type"}),S.jsxs("select",{id:"defaultOrderType",value:t.defaultOrderType,onChange:n=>e({defaultOrderType:n.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[S.jsx("option",{value:"LIMIT",children:"Limit"}),S.jsx("option",{value:"MARKET",children:"Market"}),S.jsx("option",{value:"STOP",children:"Stop"}),S.jsx("option",{value:"STOP_LIMIT",children:"Stop Limit"})]})]})]}),S.jsx(Su,{}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-sm font-semibold",children:"Risk Limits"}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Cn,{htmlFor:"maxPositionSize",children:"Max Position Size"}),S.jsx(xr,{id:"maxPositionSize",type:"number",value:t.riskLimits.maxPositionSize,onChange:n=>e({riskLimits:{...t.riskLimits,maxPositionSize:parseInt(n.target.value)||1e4}}),min:100,step:100}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum number of shares per position"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Cn,{htmlFor:"maxDailyLoss",children:"Max Daily Loss"}),S.jsx(xr,{id:"maxDailyLoss",type:"number",value:t.riskLimits.maxDailyLoss,onChange:n=>e({riskLimits:{...t.riskLimits,maxDailyLoss:parseInt(n.target.value)||5e3}}),min:100,step:100}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum daily loss allowed in dollars"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(Cn,{htmlFor:"maxOrderSize",children:"Max Order Size"}),S.jsx(xr,{id:"maxOrderSize",type:"number",value:t.riskLimits.maxOrderSize,onChange:n=>e({riskLimits:{...t.riskLimits,maxOrderSize:parseInt(n.target.value)||1e3}}),min:1,step:10}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum number of shares per order"})]})]})]})]})]})},lse=()=>{const{isDarkMode:t,toggleTheme:e,selectedInstrument:n,setSelectedInstrument:r,instruments:i,settings:o,updateSettings:a}=Ta(),{isConnected:s,lastUpdate:l}=Ji(),{orders:c}=mi(),{totalPnL:u,getAllPositions:f}=Zf(),d=c.filter(x=>x.status==="NEW"||x.status==="PARTIALLY_FILLED").length,h=f(),y=x=>{const v=i.find(m=>m.symbol===x);r(v||null)};return S.jsxs("div",{className:"h-12 bg-card border-b border-border flex items-center px-4 gap-4 shrink-0",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(gy,{className:"h-5 w-5 text-primary"}),S.jsx("span",{className:"font-semibold text-foreground",children:"TradeFlow 3D"})]}),S.jsx(Er,{variant:"secondary",className:"text-xs",children:"v1.0.0"})]}),S.jsx(Su,{orientation:"vertical",className:"h-6"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm text-muted-foreground",children:"Instrument:"}),S.jsxs(Ws,{value:(n==null?void 0:n.symbol)||"",onValueChange:y,children:[S.jsx(es,{className:"w-32 h-8",children:S.jsx(Xs,{placeholder:"Select..."})}),S.jsx(ts,{children:i.slice(0,10).map(x=>S.jsx(en,{value:x.symbol,children:x.symbol},x.symbol))})]})]}),S.jsx(Su,{orientation:"vertical",className:"h-6"}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[s?S.jsx(Joe,{className:"h-4 w-4 text-green-500"}):S.jsx(Zoe,{className:"h-4 w-4 text-red-500"}),S.jsx("span",{className:"text-xs text-muted-foreground",children:s?"Connected":"Disconnected"})]}),S.jsx("div",{className:"flex items-center gap-1",children:S.jsxs(Er,{variant:d>0?"default":"secondary",className:"text-xs",children:[d," Orders"]})}),S.jsx("div",{className:"flex items-center gap-1",children:S.jsxs(Er,{variant:h.length>0?"default":"secondary",className:"text-xs",children:[h.length," Positions"]})}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-xs text-muted-foreground",children:"P&L:"}),S.jsx("span",{className:`text-xs font-mono ${u>0?"text-green-500":u<0?"text-red-500":"text-muted-foreground"}`,children:On(u)})]})]}),S.jsx("div",{className:"flex-1"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Jae,{}),S.jsx(gn,{variant:"ghost",size:"sm",onClick:()=>a({showNotifications:!o.showNotifications}),className:"h-8 w-8 p-0",children:o.showNotifications?S.jsx(Poe,{className:"h-4 w-4"}):S.jsx(Aoe,{className:"h-4 w-4"})}),S.jsx(gn,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0","data-tutorial":"theme-toggle",children:t?S.jsx(Koe,{className:"h-4 w-4"}):S.jsx(Voe,{className:"h-4 w-4"})}),S.jsx(sse,{})]}),S.jsxs("div",{className:"text-xs text-muted-foreground",children:["Updated: ",new Date(l).toLocaleTimeString()]})]})},uE=I.createContext(null);uE.displayName="PanelGroupContext";const dr={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},eN=10,Jf=I.useLayoutEffect,BU=CR.useId,cse=typeof BU=="function"?BU:()=>null;let use=0;function tN(t=null){const e=cse(),n=I.useRef(t||e||null);return n.current===null&&(n.current=""+use++),t??n.current}function QG({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:o,id:a,maxSize:s,minSize:l,onCollapse:c,onExpand:u,onResize:f,order:d,style:h,tagName:y="div",...x}){const v=I.useContext(uE);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:m,expandPanel:_,getPanelSize:b,getPanelStyle:w,groupId:E,isPanelCollapsed:M,reevaluatePanelConstraints:A,registerPanel:P,resizePanel:R,unregisterPanel:O}=v,N=tN(a),L=I.useRef({callbacks:{onCollapse:c,onExpand:u,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:s,minSize:l},id:N,idIsFromProps:a!==void 0,order:d});I.useRef({didLogMissingDefaultSizeWarning:!1}),Jf(()=>{const{callbacks:U,constraints:H}=L.current,z={...H};L.current.id=N,L.current.idIsFromProps=a!==void 0,L.current.order=d,U.onCollapse=c,U.onExpand=u,U.onResize=f,H.collapsedSize=n,H.collapsible=r,H.defaultSize=i,H.maxSize=s,H.minSize=l,(z.collapsedSize!==H.collapsedSize||z.collapsible!==H.collapsible||z.maxSize!==H.maxSize||z.minSize!==H.minSize)&&A(L.current,z)}),Jf(()=>{const U=L.current;return P(U),()=>{O(U)}},[d,N,P,O]),I.useImperativeHandle(o,()=>({collapse:()=>{m(L.current)},expand:U=>{_(L.current,U)},getId(){return N},getSize(){return b(L.current)},isCollapsed(){return M(L.current)},isExpanded(){return!M(L.current)},resize:U=>{R(L.current,U)}}),[m,_,b,M,N,R]);const j=w(L.current,i);return I.createElement(y,{...x,children:t,className:e,id:N,style:{...j,...h},[dr.groupId]:E,[dr.panel]:"",[dr.panelCollapsible]:r||void 0,[dr.panelId]:N,[dr.panelSize]:parseFloat(""+j.flexGrow).toFixed(1)})}const ZG=I.forwardRef((t,e)=>I.createElement(QG,{...t,forwardedRef:e}));QG.displayName="Panel";ZG.displayName="forwardRef(Panel)";let g2=null,Yb=-1,Xc=null;function fse(t,e){if(e){const n=(e&rW)!==0,r=(e&iW)!==0,i=(e&oW)!==0,o=(e&aW)!==0;if(n)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function dse(){Xc!==null&&(document.head.removeChild(Xc),g2=null,Xc=null,Yb=-1)}function xA(t,e){var n,r;const i=fse(t,e);if(g2!==i){if(g2=i,Xc===null&&(Xc=document.createElement("style"),document.head.appendChild(Xc)),Yb>=0){var o;(o=Xc.sheet)===null||o===void 0||o.removeRule(Yb)}Yb=(n=(r=Xc.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&n!==void 0?n:-1}}function JG(t){return t.type==="keydown"}function eW(t){return t.type.startsWith("pointer")}function tW(t){return t.type.startsWith("mouse")}function fE(t){if(eW(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(tW(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function hse(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function pse(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function mse(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:HU(t),b:HU(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;Zt(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:VU($U(n.a)),b:VU($U(n.b))};if(i.a===i.b){const o=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let s=o.length;for(;s--;){const l=o[s];if(l===a.a)return 1;if(l===a.b)return-1}}return Math.sign(i.a-i.b)}const gse=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function vse(t){var e;const n=getComputedStyle((e=nW(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function yse(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||vse(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||gse.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function $U(t){let e=t.length;for(;e--;){const n=t[e];if(Zt(n,"Missing node"),yse(n))return n}return null}function VU(t){return t&&Number(getComputedStyle(t).zIndex)||0}function HU(t){const e=[];for(;t;)e.push(t),t=nW(t);return e}function nW(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const rW=1,iW=2,oW=4,aW=8,xse=hse()==="coarse";let ns=[],Ap=!1,Cf=new Map,dE=new Map;const yy=new Set;function bse(t,e,n,r,i){var o;const{ownerDocument:a}=e,s={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(o=Cf.get(a))!==null&&o!==void 0?o:0;return Cf.set(a,l+1),yy.add(s),F_(),function(){var u;dE.delete(t),yy.delete(s);const f=(u=Cf.get(a))!==null&&u!==void 0?u:1;if(Cf.set(a,f-1),F_(),f===1&&Cf.delete(a),ns.includes(s)){const d=ns.indexOf(s);d>=0&&ns.splice(d,1),rN(),i("up",!0,null)}}}function _se(t){const{target:e}=t,{x:n,y:r}=fE(t);Ap=!0,nN({target:e,x:n,y:r}),F_(),ns.length>0&&(j_("down",t),t.preventDefault(),sW(e)||t.stopImmediatePropagation())}function bA(t){const{x:e,y:n}=fE(t);if(Ap&&t.buttons===0&&(Ap=!1,j_("up",t)),!Ap){const{target:r}=t;nN({target:r,x:e,y:n})}j_("move",t),rN(),ns.length>0&&t.preventDefault()}function _A(t){const{target:e}=t,{x:n,y:r}=fE(t);dE.clear(),Ap=!1,ns.length>0&&(t.preventDefault(),sW(e)||t.stopImmediatePropagation()),j_("up",t),nN({target:e,x:n,y:r}),rN(),F_()}function sW(t){let e=t;for(;e;){if(e.hasAttribute(dr.resizeHandle))return!0;e=e.parentElement}return!1}function nN({target:t,x:e,y:n}){ns.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),yy.forEach(i=>{const{element:o,hitAreaMargins:a}=i,s=o.getBoundingClientRect(),{bottom:l,left:c,right:u,top:f}=s,d=xse?a.coarse:a.fine;if(e>=c-d&&e<=u+d&&n>=f-d&&n<=l+d){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&mse(r,o)>0){let y=r,x=!1;for(;y&&!y.contains(o);){if(pse(y.getBoundingClientRect(),s)){x=!0;break}y=y.parentElement}if(x)return}ns.push(i)}})}function SA(t,e){dE.set(t,e)}function rN(){let t=!1,e=!1;ns.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;dE.forEach(r=>{n|=r}),t&&e?xA("intersection",n):t?xA("horizontal",n):e?xA("vertical",n):dse()}let wA=new AbortController;function F_(){wA.abort(),wA=new AbortController;const t={capture:!0,signal:wA.signal};yy.size&&(Ap?(ns.length>0&&Cf.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("contextmenu",_A,t),r.addEventListener("pointerleave",bA,t),r.addEventListener("pointermove",bA,t))}),window.addEventListener("pointerup",_A,t),window.addEventListener("pointercancel",_A,t)):Cf.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("pointerdown",_se,t),r.addEventListener("pointermove",bA,t))}))}function j_(t,e){yy.forEach(n=>{const{setResizeHandlerState:r}=n,i=ns.includes(n);r(t,i,e)})}function Sse(){const[t,e]=I.useState(0);return I.useCallback(()=>e(n=>n+1),[])}function Zt(t,e){if(!t)throw console.error(e),Error(e)}function _d(t,e,n=eN){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function Dl(t,e,n=eN){return _d(t,e,n)===0}function Bo(t,e,n){return _d(t,e,n)===0}function wse(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],o=e[r];if(!Bo(i,o,n))return!1}return!0}function ip({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];Zt(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:o,maxSize:a=100,minSize:s=0}=r;if(_d(n,s)<0)if(o){const l=(i+s)/2;_d(n,l)<0?n=i:n=s}else n=s;return n=Math.min(a,n),n=parseFloat(n.toFixed(eN)),n}function hv({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:o}){if(Bo(t,0))return e;const a=[...e],[s,l]=r;Zt(s!=null,"Invalid first pivot index"),Zt(l!=null,"Invalid second pivot index");let c=0;if(o==="keyboard"){{const f=t<0?l:s,d=n[f];Zt(d,`Panel constraints not found for index ${f}`);const{collapsedSize:h=0,collapsible:y,minSize:x=0}=d;if(y){const v=e[f];if(Zt(v!=null,`Previous layout not found for panel index ${f}`),Bo(v,h)){const m=x-v;_d(m,Math.abs(t))>0&&(t=t<0?0-m:m)}}}{const f=t<0?s:l,d=n[f];Zt(d,`No panel constraints found for index ${f}`);const{collapsedSize:h=0,collapsible:y,minSize:x=0}=d;if(y){const v=e[f];if(Zt(v!=null,`Previous layout not found for panel index ${f}`),Bo(v,x)){const m=v-h;_d(m,Math.abs(t))>0&&(t=t<0?0-m:m)}}}}{const f=t<0?1:-1;let d=t<0?l:s,h=0;for(;;){const x=e[d];Zt(x!=null,`Previous layout not found for panel index ${d}`);const m=ip({panelConstraints:n,panelIndex:d,size:100})-x;if(h+=m,d+=f,d<0||d>=n.length)break}const y=Math.min(Math.abs(t),Math.abs(h));t=t<0?0-y:y}{let d=t<0?s:l;for(;d>=0&&d<n.length;){const h=Math.abs(t)-Math.abs(c),y=e[d];Zt(y!=null,`Previous layout not found for panel index ${d}`);const x=y-h,v=ip({panelConstraints:n,panelIndex:d,size:x});if(!Bo(y,v)&&(c+=y-v,a[d]=v,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?d--:d++}}if(wse(i,a))return i;{const f=t<0?l:s,d=e[f];Zt(d!=null,`Previous layout not found for panel index ${f}`);const h=d+c,y=ip({panelConstraints:n,panelIndex:f,size:h});if(a[f]=y,!Bo(y,h)){let x=h-y,m=t<0?l:s;for(;m>=0&&m<n.length;){const _=a[m];Zt(_!=null,`Previous layout not found for panel index ${m}`);const b=_+x,w=ip({panelConstraints:n,panelIndex:m,size:b});if(Bo(_,w)||(x-=w-_,a[m]=w),Bo(x,0))break;t>0?m--:m++}}}const u=a.reduce((f,d)=>d+f,0);return Bo(u,100)?a:i}function Ese({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,o=0,a=0;const s=n[0];Zt(s!=null,"No pivot index found"),e.forEach((f,d)=>{const{constraints:h}=f,{maxSize:y=100,minSize:x=0}=h;d===s?(r=x,i=y):(o+=x,a+=y)});const l=Math.min(i,100-o),c=Math.max(r,100-a),u=t[s];return{valueMax:l,valueMin:c,valueNow:u}}function xy(t,e=document){return Array.from(e.querySelectorAll(`[${dr.resizeHandleId}][data-panel-group-id="${t}"]`))}function lW(t,e,n=document){const i=xy(t,n).findIndex(o=>o.getAttribute(dr.resizeHandleId)===e);return i??null}function cW(t,e,n){const r=lW(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function uW(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function hE(t,e=document){const n=e.querySelector(`[${dr.resizeHandleId}="${t}"]`);return n||null}function Mse(t,e,n,r=document){var i,o,a,s;const l=hE(e,r),c=xy(t,r),u=l?c.indexOf(l):-1,f=(i=(o=n[u])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,d=(a=(s=n[u+1])===null||s===void 0?void 0:s.id)!==null&&a!==void 0?a:null;return[f,d]}function Tse({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:a}){I.useRef({didWarnAboutMissingResizeHandle:!1}),Jf(()=>{if(!o)return;const s=xy(n,o);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:u,valueNow:f}=Ese({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),d=s[l];if(d!=null){const h=i[l];Zt(h,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",h.id),d.setAttribute("aria-valuemax",""+Math.round(c)),d.setAttribute("aria-valuemin",""+Math.round(u)),d.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{s.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,o]),I.useEffect(()=>{if(!o)return;const s=e.current;Zt(s,"Eager values not found");const{panelDataArray:l}=s,c=uW(n,o);Zt(c!=null,`No group found for id "${n}"`);const u=xy(n,o);Zt(u,`No resize handles found for group id "${n}"`);const f=u.map(d=>{const h=d.getAttribute(dr.resizeHandleId);Zt(h,"Resize handle element has no handle id attribute");const[y,x]=Mse(n,h,l,o);if(y==null||x==null)return()=>{};const v=m=>{if(!m.defaultPrevented)switch(m.key){case"Enter":{m.preventDefault();const _=l.findIndex(b=>b.id===y);if(_>=0){const b=l[_];Zt(b,`No panel data found for index ${_}`);const w=r[_],{collapsedSize:E=0,collapsible:M,minSize:A=0}=b.constraints;if(w!=null&&M){const P=hv({delta:Bo(w,E)?A-E:E-w,initialLayout:r,panelConstraints:l.map(R=>R.constraints),pivotIndices:cW(n,h,o),prevLayout:r,trigger:"keyboard"});r!==P&&a(P)}}break}}};return d.addEventListener("keydown",v),()=>{d.removeEventListener("keydown",v)}});return()=>{f.forEach(d=>d())}},[o,t,e,n,r,i,a])}function GU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function fW(t,e){const n=t==="horizontal",{x:r,y:i}=fE(e);return n?r:i}function Ase(t,e,n,r,i){const o=n==="horizontal",a=hE(e,i);Zt(a,`No resize handle element found for id "${e}"`);const s=a.getAttribute(dr.groupId);Zt(s,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=fW(n,t),u=uW(s,i);Zt(u,`No group element found for id "${s}"`);const f=u.getBoundingClientRect(),d=o?f.width:f.height;return(c-l)/d*100}function Pse(t,e,n,r,i,o){if(JG(t)){const a=n==="horizontal";let s=0;t.shiftKey?s=100:i!=null?s=i:s=10;let l=0;switch(t.key){case"ArrowDown":l=a?0:s;break;case"ArrowLeft":l=a?-s:0;break;case"ArrowRight":l=a?s:0;break;case"ArrowUp":l=a?0:-s;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Ase(t,e,n,r,o)}function Cse({panelDataArray:t}){const e=Array(t.length),n=t.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<t.length;o++){const a=n[o];Zt(a,`Panel constraints not found for index ${o}`);const{defaultSize:s}=a;s!=null&&(r++,e[o]=s,i-=s)}for(let o=0;o<t.length;o++){const a=n[o];Zt(a,`Panel constraints not found for index ${o}`);const{defaultSize:s}=a;if(s!=null)continue;const l=t.length-r,c=i/l;r++,e[o]=c,i-=c}return e}function mh(t,e,n){e.forEach((r,i)=>{const o=t[i];Zt(o,`Panel data not found for index ${i}`);const{callbacks:a,constraints:s,id:l}=o,{collapsedSize:c=0,collapsible:u}=s,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:d,onExpand:h,onResize:y}=a;y&&y(r,f),u&&(d||h)&&(h&&(f==null||Dl(f,c))&&!Dl(r,c)&&h(),d&&(f==null||!Dl(f,c))&&Dl(r,c)&&d())}})}function g1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Ose({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:o=3}){const a=n[i];let s;return a==null?s=t!=null?t.toPrecision(o):"1":r.length===1?s="1":s=a.toPrecision(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Rse(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function WU(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function dW(t){return`react-resizable-panels:${t}`}function hW(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:o}=e;return i?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function pW(t,e){try{const n=dW(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Ise(t,e,n){var r,i;const o=(r=pW(t,n))!==null&&r!==void 0?r:{},a=hW(e);return(i=o[a])!==null&&i!==void 0?i:null}function Nse(t,e,n,r,i){var o;const a=dW(t),s=hW(e),l=(o=pW(t,i))!==null&&o!==void 0?o:{};l[s]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(a,JSON.stringify(l))}catch(c){console.error(c)}}function XU({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((o,a)=>o+a,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!Bo(r,100)&&n.length>0)for(let o=0;o<e.length;o++){const a=n[o];Zt(a!=null,`No layout data found for index ${o}`);const s=100/r*a;n[o]=s}let i=0;for(let o=0;o<e.length;o++){const a=n[o];Zt(a!=null,`No layout data found for index ${o}`);const s=ip({panelConstraints:e,panelIndex:o,size:a});a!=s&&(i+=a-s,n[o]=s)}if(!Bo(i,0))for(let o=0;o<e.length;o++){const a=n[o];Zt(a!=null,`No layout data found for index ${o}`);const s=a+i,l=ip({panelConstraints:e,panelIndex:o,size:s});if(a!==l&&(i-=l-a,n[o]=l,Bo(i,0)))break}return n}const Dse=100,pv={getItem:t=>(WU(pv),pv.getItem(t)),setItem:(t,e)=>{WU(pv),pv.setItem(t,e)}},qU={};function mW({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:o=null,onLayout:a=null,keyboardResizeBy:s=null,storage:l=pv,style:c,tagName:u="div",...f}){const d=tN(o),h=I.useRef(null),[y,x]=I.useState(null),[v,m]=I.useState([]),_=Sse(),b=I.useRef({}),w=I.useRef(new Map),E=I.useRef(0),M=I.useRef({autoSaveId:t,direction:r,dragState:y,id:d,keyboardResizeBy:s,onLayout:a,storage:l}),A=I.useRef({layout:v,panelDataArray:[],panelDataArrayChanged:!1});I.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),I.useImperativeHandle(i,()=>({getId:()=>M.current.id,getLayout:()=>{const{layout:J}=A.current;return J},setLayout:J=>{const{onLayout:X}=M.current,{layout:te,panelDataArray:ie}=A.current,ee=XU({layout:J,panelConstraints:ie.map(le=>le.constraints)});GU(te,ee)||(m(ee),A.current.layout=ee,X&&X(ee),mh(ie,ee,b.current))}}),[]),Jf(()=>{M.current.autoSaveId=t,M.current.direction=r,M.current.dragState=y,M.current.id=d,M.current.onLayout=a,M.current.storage=l}),Tse({committedValuesRef:M,eagerValuesRef:A,groupId:d,layout:v,panelDataArray:A.current.panelDataArray,setLayout:m,panelGroupElement:h.current}),I.useEffect(()=>{const{panelDataArray:J}=A.current;if(t){if(v.length===0||v.length!==J.length)return;let X=qU[t];X==null&&(X=Rse(Nse,Dse),qU[t]=X);const te=[...J],ie=new Map(w.current);X(t,te,ie,v,l)}},[t,v,l]),I.useEffect(()=>{});const P=I.useCallback(J=>{const{onLayout:X}=M.current,{layout:te,panelDataArray:ie}=A.current;if(J.constraints.collapsible){const ee=ie.map(fe=>fe.constraints),{collapsedSize:le=0,panelSize:ue,pivotIndices:he}=tf(ie,J,te);if(Zt(ue!=null,`Panel size not found for panel "${J.id}"`),!Dl(ue,le)){w.current.set(J.id,ue);const K=$h(ie,J)===ie.length-1?ue-le:le-ue,de=hv({delta:K,initialLayout:te,panelConstraints:ee,pivotIndices:he,prevLayout:te,trigger:"imperative-api"});g1(te,de)||(m(de),A.current.layout=de,X&&X(de),mh(ie,de,b.current))}}},[]),R=I.useCallback((J,X)=>{const{onLayout:te}=M.current,{layout:ie,panelDataArray:ee}=A.current;if(J.constraints.collapsible){const le=ee.map(q=>q.constraints),{collapsedSize:ue=0,panelSize:he=0,minSize:fe=0,pivotIndices:K}=tf(ee,J,ie),de=X??fe;if(Dl(he,ue)){const q=w.current.get(J.id),Pe=q!=null&&q>=de?q:de,Re=$h(ee,J)===ee.length-1?he-Pe:Pe-he,me=hv({delta:Re,initialLayout:ie,panelConstraints:le,pivotIndices:K,prevLayout:ie,trigger:"imperative-api"});g1(ie,me)||(m(me),A.current.layout=me,te&&te(me),mh(ee,me,b.current))}}},[]),O=I.useCallback(J=>{const{layout:X,panelDataArray:te}=A.current,{panelSize:ie}=tf(te,J,X);return Zt(ie!=null,`Panel size not found for panel "${J.id}"`),ie},[]),N=I.useCallback((J,X)=>{const{panelDataArray:te}=A.current,ie=$h(te,J);return Ose({defaultSize:X,dragState:y,layout:v,panelData:te,panelIndex:ie})},[y,v]),L=I.useCallback(J=>{const{layout:X,panelDataArray:te}=A.current,{collapsedSize:ie=0,collapsible:ee,panelSize:le}=tf(te,J,X);return Zt(le!=null,`Panel size not found for panel "${J.id}"`),ee===!0&&Dl(le,ie)},[]),j=I.useCallback(J=>{const{layout:X,panelDataArray:te}=A.current,{collapsedSize:ie=0,collapsible:ee,panelSize:le}=tf(te,J,X);return Zt(le!=null,`Panel size not found for panel "${J.id}"`),!ee||_d(le,ie)>0},[]),U=I.useCallback(J=>{const{panelDataArray:X}=A.current;X.push(J),X.sort((te,ie)=>{const ee=te.order,le=ie.order;return ee==null&&le==null?0:ee==null?-1:le==null?1:ee-le}),A.current.panelDataArrayChanged=!0,_()},[_]);Jf(()=>{if(A.current.panelDataArrayChanged){A.current.panelDataArrayChanged=!1;const{autoSaveId:J,onLayout:X,storage:te}=M.current,{layout:ie,panelDataArray:ee}=A.current;let le=null;if(J){const he=Ise(J,ee,te);he&&(w.current=new Map(Object.entries(he.expandToSizes)),le=he.layout)}le==null&&(le=Cse({panelDataArray:ee}));const ue=XU({layout:le,panelConstraints:ee.map(he=>he.constraints)});GU(ie,ue)||(m(ue),A.current.layout=ue,X&&X(ue),mh(ee,ue,b.current))}}),Jf(()=>{const J=A.current;return()=>{J.layout=[]}},[]);const H=I.useCallback(J=>{let X=!1;const te=h.current;return te&&window.getComputedStyle(te,null).getPropertyValue("direction")==="rtl"&&(X=!0),function(ee){ee.preventDefault();const le=h.current;if(!le)return()=>null;const{direction:ue,dragState:he,id:fe,keyboardResizeBy:K,onLayout:de}=M.current,{layout:q,panelDataArray:Pe}=A.current,{initialLayout:be}=he??{},Re=cW(fe,J,le);let me=Pse(ee,J,ue,he,K,le);const Fe=ue==="horizontal";Fe&&X&&(me=-me);const Ce=Pe.map(se=>se.constraints),G=hv({delta:me,initialLayout:be??q,panelConstraints:Ce,pivotIndices:Re,prevLayout:q,trigger:JG(ee)?"keyboard":"mouse-or-touch"}),V=!g1(q,G);(eW(ee)||tW(ee))&&E.current!=me&&(E.current=me,!V&&me!==0?Fe?SA(J,me<0?rW:iW):SA(J,me<0?oW:aW):SA(J,0)),V&&(m(G),A.current.layout=G,de&&de(G),mh(Pe,G,b.current))}},[]),z=I.useCallback((J,X)=>{const{onLayout:te}=M.current,{layout:ie,panelDataArray:ee}=A.current,le=ee.map(q=>q.constraints),{panelSize:ue,pivotIndices:he}=tf(ee,J,ie);Zt(ue!=null,`Panel size not found for panel "${J.id}"`);const K=$h(ee,J)===ee.length-1?ue-X:X-ue,de=hv({delta:K,initialLayout:ie,panelConstraints:le,pivotIndices:he,prevLayout:ie,trigger:"imperative-api"});g1(ie,de)||(m(de),A.current.layout=de,te&&te(de),mh(ee,de,b.current))},[]),Q=I.useCallback((J,X)=>{const{layout:te,panelDataArray:ie}=A.current,{collapsedSize:ee=0,collapsible:le}=X,{collapsedSize:ue=0,collapsible:he,maxSize:fe=100,minSize:K=0}=J.constraints,{panelSize:de}=tf(ie,J,te);de!=null&&(le&&he&&Dl(de,ee)?Dl(ee,ue)||z(J,ue):de<K?z(J,K):de>fe&&z(J,fe))},[z]),k=I.useCallback((J,X)=>{const{direction:te}=M.current,{layout:ie}=A.current;if(!h.current)return;const ee=hE(J,h.current);Zt(ee,`Drag handle element not found for id "${J}"`);const le=fW(te,X);x({dragHandleId:J,dragHandleRect:ee.getBoundingClientRect(),initialCursorPosition:le,initialLayout:ie})},[]),B=I.useCallback(()=>{x(null)},[]),W=I.useCallback(J=>{const{panelDataArray:X}=A.current,te=$h(X,J);te>=0&&(X.splice(te,1),delete b.current[J.id],A.current.panelDataArrayChanged=!0,_())},[_]),$=I.useMemo(()=>({collapsePanel:P,direction:r,dragState:y,expandPanel:R,getPanelSize:O,getPanelStyle:N,groupId:d,isPanelCollapsed:L,isPanelExpanded:j,reevaluatePanelConstraints:Q,registerPanel:U,registerResizeHandle:H,resizePanel:z,startDragging:k,stopDragging:B,unregisterPanel:W,panelGroupElement:h.current}),[P,y,r,R,O,N,d,L,j,Q,U,H,z,k,B,W]),Y={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return I.createElement(uE.Provider,{value:$},I.createElement(u,{...f,children:e,className:n,id:o,ref:h,style:{...Y,...c},[dr.group]:"",[dr.groupDirection]:r,[dr.groupId]:d}))}const gW=I.forwardRef((t,e)=>I.createElement(mW,{...t,forwardedRef:e}));mW.displayName="PanelGroup";gW.displayName="forwardRef(PanelGroup)";function $h(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function tf(t,e,n){const r=$h(t,e),o=r===t.length-1?[r-1,r]:[r,r+1],a=n[r];return{...e.constraints,panelSize:a,pivotIndices:o}}function Lse({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){I.useEffect(()=>{if(t||n==null||r==null)return;const i=hE(e,r);if(i==null)return;const o=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const s=i.getAttribute(dr.groupId);Zt(s,`No group element found for id "${s}"`);const l=xy(s,r),c=lW(s,e,r);Zt(c!==null,`No resize element found for id "${e}"`);const u=a.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,t,e,n])}function vW({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:o,onClick:a,onDragging:s,onFocus:l,onPointerDown:c,onPointerUp:u,style:f={},tabIndex:d=0,tagName:h="div",...y}){var x,v;const m=I.useRef(null),_=I.useRef({onClick:a,onDragging:s,onPointerDown:c,onPointerUp:u});I.useEffect(()=>{_.current.onClick=a,_.current.onDragging=s,_.current.onPointerDown=c,_.current.onPointerUp=u});const b=I.useContext(uE);if(b===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:w,groupId:E,registerResizeHandle:M,startDragging:A,stopDragging:P,panelGroupElement:R}=b,O=tN(i),[N,L]=I.useState("inactive"),[j,U]=I.useState(!1),[H,z]=I.useState(null),Q=I.useRef({state:N});Jf(()=>{Q.current.state=N}),I.useEffect(()=>{if(n)z(null);else{const $=M(O);z(()=>$)}},[n,O,M]);const k=(x=r==null?void 0:r.coarse)!==null&&x!==void 0?x:15,B=(v=r==null?void 0:r.fine)!==null&&v!==void 0?v:5;I.useEffect(()=>{if(n||H==null)return;const $=m.current;Zt($,"Element ref not attached");let Y=!1;return bse(O,$,w,{coarse:k,fine:B},(X,te,ie)=>{if(!te){L("inactive");return}switch(X){case"down":{L("drag"),Y=!1,Zt(ie,'Expected event to be defined for "down" action'),A(O,ie);const{onDragging:ee,onPointerDown:le}=_.current;ee==null||ee(!0),le==null||le();break}case"move":{const{state:ee}=Q.current;Y=!0,ee!=="drag"&&L("hover"),Zt(ie,'Expected event to be defined for "move" action'),H(ie);break}case"up":{L("hover"),P();const{onClick:ee,onDragging:le,onPointerUp:ue}=_.current;le==null||le(!1),ue==null||ue(),Y||ee==null||ee();break}}})},[k,w,n,B,M,O,H,A,P]),Lse({disabled:n,handleId:O,resizeHandler:H,panelGroupElement:R});const W={touchAction:"none",userSelect:"none"};return I.createElement(h,{...y,children:t,className:e,id:i,onBlur:()=>{U(!1),o==null||o()},onFocus:()=>{U(!0),l==null||l()},ref:m,role:"separator",style:{...W,...f},tabIndex:d,[dr.groupDirection]:w,[dr.groupId]:E,[dr.resizeHandle]:"",[dr.resizeHandleActive]:N==="drag"?"pointer":j?"keyboard":void 0,[dr.resizeHandleEnabled]:!n,[dr.resizeHandleId]:O,[dr.resizeHandleState]:N})}vW.displayName="PanelResizeHandle";const YU=({className:t,...e})=>S.jsx(gW,{className:kt("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),gh=ZG,v1=({withHandle:t,className:e,...n})=>S.jsx(vW,{className:kt("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...n,children:t&&S.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:S.jsx(zoe,{className:"h-2.5 w-2.5"})})}),iN=t=>{const{marketData:e,orderBooks:n,ticks:r,isConnected:i,subscribe:o,unsubscribe:a,getMarketData:s,getOrderBook:l,getTicks:c}=Ji(),[u,f]=I.useState(!1);I.useEffect(()=>(t&&!u&&(o(t),f(!0),console.log(`Subscribed to market data for ${t}`)),()=>{t&&u&&(a(t),f(!1),console.log(`Unsubscribed from market data for ${t}`))}),[t,u,o,a]);const d=t?s(t):void 0,h=t?l(t):void 0,y=t?c(t):[];return{marketData:d,orderBook:h,ticks:y,allMarketData:e,allOrderBooks:n,isConnected:i,isSubscribed:u}},yW=t=>{const{getMarketData:e,subscribe:n,unsubscribe:r}=Ji();return I.useEffect(()=>(t.forEach(o=>{n(o)}),()=>{t.forEach(o=>{r(o)})}),[t.join(","),n,r]),t.map(o=>({symbol:o,data:e(o)})).filter(o=>o.data!==void 0)};class kse{constructor(){this.buyOrders=new Map,this.sellOrders=new Map,console.log("MatchingEngine initialized")}addOrder(e){const n=e.symbol;if(e.side==="BUY"){const r=this.buyOrders.get(n)||[];r.push(e),r.sort((i,o)=>i.price!==o.price?(o.price||0)-(i.price||0):i.timestamp-o.timestamp),this.buyOrders.set(n,r)}else{const r=this.sellOrders.get(n)||[];r.push(e),r.sort((i,o)=>i.price!==o.price?(i.price||0)-(o.price||0):i.timestamp-o.timestamp),this.sellOrders.set(n,r)}return this.matchOrders(n)}matchOrders(e){const n=this.buyOrders.get(e)||[],r=this.sellOrders.get(e)||[],i=[],o=[];let a=0,s=0;for(;a<n.length&&s<r.length;){const l=n[a],c=r[s];if(!this.canMatch(l,c))break;const u=this.determineTradePrice(l,c),f=l.quantity-l.filledQuantity,d=c.quantity-c.filledQuantity,h=Math.min(f,d);i.push({buyOrderId:l.id,sellOrderId:c.id,price:u,quantity:h,timestamp:Date.now()}),l.filledQuantity+=h,c.filledQuantity+=h,l.avgFillPrice=this.calculateAvgPrice(l,h,u),c.avgFillPrice=this.calculateAvgPrice(c,h,u),l.filledQuantity===l.quantity&&(l.status="FILLED",a++),c.filledQuantity===c.quantity&&(c.status="FILLED",s++),o.push(l,c)}return a>0&&this.buyOrders.set(e,n.slice(a)),s>0&&this.sellOrders.set(e,r.slice(s)),{trades:i,updatedOrders:o}}canMatch(e,n){return e.orderType!=="LIMIT"||n.orderType!=="LIMIT"||!e.price||!n.price?!1:e.price>=n.price}determineTradePrice(e,n){return e.timestamp<n.timestamp?e.price||0:n.price||0}calculateAvgPrice(e,n,r){const i=e.avgFillPrice*(e.filledQuantity-n),o=r*n;return(i+o)/e.filledQuantity}getOrderBook(e){const n=this.buyOrders.get(e)||[],r=this.sellOrders.get(e)||[],i=this.aggregateOrdersByPrice(n),o=this.aggregateOrdersByPrice(r);return{bids:i,asks:o}}aggregateOrdersByPrice(e){const n=new Map;return e.forEach(r=>{if(!r.price||r.status==="FILLED"||r.status==="CANCELLED")return;const i=r.quantity-r.filledQuantity,o=n.get(r.price)||{quantity:0,orderCount:0};n.set(r.price,{quantity:o.quantity+i,orderCount:o.orderCount+1})}),Array.from(n.entries()).map(([r,i])=>({price:r,quantity:i.quantity,orderCount:i.orderCount}))}cancelOrder(e,n){const r=this.buyOrders.get(n)||[],i=this.sellOrders.get(n)||[],o=r.findIndex(s=>s.id===e);if(o!==-1)return r.splice(o,1),this.buyOrders.set(n,r),!0;const a=i.findIndex(s=>s.id===e);return a!==-1?(i.splice(a,1),this.sellOrders.set(n,i),!0):!1}getOrderCount(e){const n=this.buyOrders.get(e)||[],r=this.sellOrders.get(e)||[];return{buyCount:n.length,sellCount:r.length}}getTotalVolume(e){const n=this.buyOrders.get(e)||[],r=this.sellOrders.get(e)||[],i=n.reduce((a,s)=>a+(s.quantity-s.filledQuantity),0),o=r.reduce((a,s)=>a+(s.quantity-s.filledQuantity),0);return{buyVolume:i,sellVolume:o}}}class oN{constructor(){this.orderSequence=1,this.matchingEngine=new kse}initialize(){const{loadFromStorage:e}=mi.getState();e(),console.log("OrderService initialized")}async submitOrder(e){const{createOrder:n,addExecutionReport:r}=mi.getState(),i=`CLT_${Date.now()}_${this.orderSequence++}`,o=n({clientOrderId:i,symbol:e.symbol,side:e.side,orderType:e.orderType,quantity:e.quantity,price:e.price,stopPrice:e.stopPrice,timeInForce:e.timeInForce,gatewayType:e.gatewayType||"FIX"}),a={id:`EXEC_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderId:o,execType:"NEW",execId:`EXEC_${o}`,lastQty:0,lastPx:0,cumQty:0,avgPx:0,ordStatus:"NEW",timestamp:Date.now()};r(a);const s=cr.getState();return s.incrementOrdersPlaced(),s.addInstrumentTraded(e.symbol),setTimeout(()=>{this.processOrder(o)},Math.random()*100+50),console.log(`Order submitted: ${o}`),o}async processOrder(e){const{getOrder:n,addExecutionReport:r,addTrade:i}=mi.getState(),{getMarketData:o}=Ji.getState();Zf.getState();const a=n(e);if(!a||a.status!=="NEW")return;const s=o(a.symbol);if(!s){this.rejectOrder(e,"No market data available");return}if(!this.validateOrder(a)){this.rejectOrder(e,"Order validation failed");return}switch(a.orderType){case"MARKET":this.processMarketOrder(a,s.price);break;case"LIMIT":this.processLimitOrder(a,s);break;case"STOP":this.processStopOrder(a,s);break;case"STOP_LIMIT":this.processStopLimitOrder(a,s);break;default:console.log(`Order type ${a.orderType} not fully implemented`);break}}processMarketOrder(e,n){const{addExecutionReport:r,addTrade:i}=mi.getState(),{updatePosition:o}=Zf.getState(),a=cr.getState(),s=e.side==="BUY"?n*1.001:n*.999,l=e.quantity,c={id:`EXEC_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderId:e.id,execType:"FILL",execId:`FILL_${e.id}`,lastQty:l,lastPx:Math.round(s*100)/100,cumQty:l,avgPx:Math.round(s*100)/100,ordStatus:"FILLED",timestamp:Date.now()};r(c);const u={id:`TRD_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderId:e.id,symbol:e.symbol,side:e.side,quantity:l,price:Math.round(s*100)/100,timestamp:Date.now(),tradeId:`T_${Date.now()}`};i(u),a.incrementTradesExecuted();const f=e.side==="BUY"?l:-l;o(e.symbol,f,s),console.log(`Market order filled: ${e.id} at ${s}`)}processLimitOrder(e,n){if(!e.price)return;if(e.side==="BUY"?n.ask<=e.price:n.bid>=e.price){const i=e.side==="BUY"?n.ask:n.bid;this.fillOrder(e,e.quantity,i)}else console.log(`Limit order ${e.id} added to book at ${e.price}`),setTimeout(()=>{Math.random()>.7&&this.fillOrder(e,e.quantity,e.price)},Math.random()*5e3+1e3)}processStopOrder(e,n){if(!e.stopPrice)return;(e.side==="BUY"?n.price>=e.stopPrice:n.price<=e.stopPrice)?this.processMarketOrder(e,n.price):console.log(`Stop order ${e.id} monitoring at ${e.stopPrice}`)}processStopLimitOrder(e,n){if(!e.stopPrice||!e.price)return;(e.side==="BUY"?n.price>=e.stopPrice:n.price<=e.stopPrice)?this.processLimitOrder(e,n):console.log(`Stop-limit order ${e.id} monitoring at ${e.stopPrice}`)}fillOrder(e,n,r){const{addExecutionReport:i,addTrade:o}=mi.getState(),{updatePosition:a}=Zf.getState(),s=cr.getState(),l={id:`EXEC_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderId:e.id,execType:n===e.quantity?"FILL":"PARTIAL_FILL",execId:`FILL_${e.id}_${Date.now()}`,lastQty:n,lastPx:Math.round(r*100)/100,cumQty:e.filledQuantity+n,avgPx:Math.round(r*100)/100,ordStatus:n===e.quantity?"FILLED":"PARTIALLY_FILLED",timestamp:Date.now()};i(l);const c={id:`TRD_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderId:e.id,symbol:e.symbol,side:e.side,quantity:n,price:Math.round(r*100)/100,timestamp:Date.now(),tradeId:`T_${Date.now()}`};o(c),s.incrementTradesExecuted();const u=e.side==="BUY"?n:-n;a(e.symbol,u,r),console.log(`Order filled: ${e.id} - ${n}@${r}`)}validateOrder(e){return!(e.quantity<=0||e.orderType==="LIMIT"&&!e.price||e.orderType==="STOP"&&!e.stopPrice||e.orderType==="STOP_LIMIT"&&(!e.price||!e.stopPrice))}rejectOrder(e,n){const{addExecutionReport:r}=mi.getState(),i={id:`EXEC_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderId:e,execType:"REJECTED",execId:`REJ_${e}`,lastQty:0,lastPx:0,cumQty:0,avgPx:0,ordStatus:"REJECTED",timestamp:Date.now()};r(i),console.log(`Order rejected: ${e} - ${n}`)}async cancelOrder(e){const{getOrder:n,addExecutionReport:r,cancelOrder:i}=mi.getState(),o=n(e);if(!o||o.status==="FILLED"||o.status==="CANCELLED"||o.status==="REJECTED")return!1;const a={id:`EXEC_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,orderId:e,execType:"CANCELLED",execId:`CXL_${e}`,lastQty:0,lastPx:0,cumQty:o.filledQuantity,avgPx:o.avgFillPrice,ordStatus:"CANCELLED",timestamp:Date.now()};return r(a),i(e),console.log(`Order cancelled: ${e}`),!0}}const Use=1,Fse=1e6;let EA=0;function jse(){return EA=(EA+1)%Number.MAX_SAFE_INTEGER,EA.toString()}const MA=new Map,KU=t=>{if(MA.has(t))return;const e=setTimeout(()=>{MA.delete(t),Pv({type:"REMOVE_TOAST",toastId:t})},Fse);MA.set(t,e)},zse=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Use)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?KU(n):t.toasts.forEach(r=>{KU(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Kb=[];let Qb={toasts:[]};function Pv(t){Qb=zse(Qb,t),Kb.forEach(e=>{e(Qb)})}function Bse({...t}){const e=jse(),n=i=>Pv({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Pv({type:"DISMISS_TOAST",toastId:e});return Pv({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function xW(){const[t,e]=I.useState(Qb);return I.useEffect(()=>(Kb.push(e),()=>{const n=Kb.indexOf(e);n>-1&&Kb.splice(n,1)}),[t]),{...t,toast:Bse,dismiss:n=>Pv({type:"DISMISS_TOAST",toastId:n})}}class $se{constructor(){this.activeContingentOrders=new Map,this.ocoGroups=new Map,this.monitoringInterval=null,this.startMonitoring()}createBracketOrder(e){const n=mi.getState(),r={...e.entryOrder,clientOrderId:`BRACKET_${Date.now()}`,gatewayType:"FIX"},i=n.createOrder(r),o=[e.takeProfitOrder,e.stopLossOrder];this.activeContingentOrders.set(i,o);const a=[];return n.updateOrder(i,{contingentOrders:o,childOrderIds:a}),console.log(`Bracket order created: Parent=${i}, Monitoring contingent orders`),{parentId:i,childIds:a}}createOCOOrder(e){const n=mi.getState(),r={...e.primaryOrder,clientOrderId:`OCO_PRIMARY_${Date.now()}`,gatewayType:"FIX"},i={...e.secondaryOrder,clientOrderId:`OCO_SECONDARY_${Date.now()}`,gatewayType:"FIX"},o=n.createOrder(r),a=n.createOrder(i),s=`OCO_${Date.now()}`;return this.ocoGroups.set(s,[o,a]),n.updateOrder(o,{childOrderIds:[a]}),n.updateOrder(a,{parentOrderId:o}),console.log(`OCO order created: Primary=${o}, Secondary=${a}`),{primaryId:o,secondaryId:a}}createMultiLegOrder(e,n,r,i="LIMIT"){const o=mi.getState(),a=n.reduce((u,f)=>u+f.quantity,0),s={clientOrderId:`MULTILEG_${Date.now()}`,symbol:e,side:r,orderType:"MULTI_LEG",quantity:a,timeInForce:"DAY",gatewayType:"FIX",legs:n},l=o.createOrder(s),c=n.map((u,f)=>{const d={clientOrderId:`${l}_LEG_${f}`,symbol:u.symbol,side:u.side,orderType:u.orderType,quantity:u.quantity,price:u.price,timeInForce:"DAY",gatewayType:"FIX",parentOrderId:l};return o.createOrder(d)});return o.updateOrder(l,{childOrderIds:c}),console.log(`Multi-leg order created: Parent=${l}, Legs=${c.join(", ")}`),{parentId:l,legIds:c}}startMonitoring(){this.monitoringInterval&&clearInterval(this.monitoringInterval),this.monitoringInterval=setInterval(()=>{this.monitorBracketOrders(),this.monitorOCOOrders()},500)}monitorBracketOrders(){const e=mi.getState(),n=Ji.getState();this.activeContingentOrders.forEach((r,i)=>{const o=e.getOrder(i);if(!o||o.status==="CANCELLED"||o.status==="REJECTED"){this.activeContingentOrders.delete(i);return}if(o.status!=="FILLED")return;const a=n.marketData.get(o.symbol);if(!a)return;const s=a.price;r.forEach(l=>{let c=!1;if(l.type==="TAKE_PROFIT")o.side==="BUY"?c=s>=l.triggerPrice:c=s<=l.triggerPrice;else if(l.type==="STOP_LOSS")o.side==="BUY"?c=s<=l.triggerPrice:c=s>=l.triggerPrice;else if(l.type==="TRAILING_STOP"&&l.offsetPercent){const u=l.offsetPercent/100*o.avgFillPrice;if(o.side==="BUY"){const f=s-u;c=s<=f}else{const f=s+u;c=s>=f}}if(c){const u=o.side==="BUY"?"SELL":"BUY",f={clientOrderId:`${i}_EXIT_${l.type}`,symbol:o.symbol,side:u,orderType:l.orderType,quantity:l.quantity,price:l.price,timeInForce:"IOC",gatewayType:"FIX",parentOrderId:i},d=e.createOrder(f);console.log(`Contingent order triggered: ${l.type} for parent ${i}, Exit order: ${d}`),this.activeContingentOrders.delete(i)}})})}monitorOCOOrders(){const e=mi.getState();this.ocoGroups.forEach((n,r)=>{const i=n.map(a=>e.getOrder(a)).filter(Boolean);if(i.length===0){this.ocoGroups.delete(r);return}const o=i.find(a=>a.status==="FILLED"||a.status==="PARTIALLY_FILLED");o&&(n.forEach(a=>{if(a!==o.id){const s=e.getOrder(a);s&&s.status==="NEW"&&(e.cancelOrder(a),console.log(`OCO: Cancelled order ${a} because ${o.id} was filled`))}}),this.ocoGroups.delete(r))})}stop(){this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null)}getActiveContingentOrders(){return Array.from(this.activeContingentOrders.entries())}getActiveOCOGroups(){return Array.from(this.ocoGroups.entries())}}const QU=new $se,Vse=new oN,Hse=()=>{const{selectedInstrument:t,settings:e}=Ta(),{marketData:n}=iN(t==null?void 0:t.symbol),{toast:r}=xW(),[i,o]=I.useState({side:"BUY",orderType:"LIMIT",quantity:e.defaultQuantity,price:0,stopPrice:0,timeInForce:"DAY",gatewayType:"FIX",expireDate:void 0}),[a,s]=I.useState(!1),[l,c]=I.useState("simple"),[u,f]=I.useState({takeProfitPrice:0,stopLossPrice:0,trailingStop:!1,trailingPercent:5}),[d,h]=I.useState({primaryPrice:0,secondaryPrice:0,primaryType:"LIMIT",secondaryType:"STOP"});oe.useEffect(()=>{if(n&&i.orderType==="LIMIT"){const v=i.side==="BUY"?n.bid:n.ask;o(m=>({...m,price:v}))}},[n,i.side,i.orderType]);const y=async()=>{if(!t){r({title:"Error",description:"Please select an instrument first",variant:"destructive"});return}if(i.quantity<=0){r({title:"Error",description:"Quantity must be greater than 0",variant:"destructive"});return}try{let v;if(l==="bracket"){const m=QU.createBracketOrder({entryOrder:{symbol:t.symbol,side:i.side,orderType:i.orderType,quantity:i.quantity,price:i.price,timeInForce:i.timeInForce,gatewayType:i.gatewayType},takeProfitOrder:{type:"TAKE_PROFIT",triggerPrice:u.takeProfitPrice,orderType:"LIMIT",quantity:i.quantity,price:u.takeProfitPrice},stopLossOrder:{type:u.trailingStop?"TRAILING_STOP":"STOP_LOSS",triggerPrice:u.stopLossPrice,orderType:"MARKET",quantity:i.quantity,offsetPercent:u.trailingStop?u.trailingPercent:void 0},trailingStop:u.trailingStop});v=m.parentId,r({title:"Bracket Order Submitted",description:`Parent: ${m.parentId}`})}else if(l==="oco"){const m=QU.createOCOOrder({primaryOrder:{symbol:t.symbol,side:i.side,orderType:d.primaryType,quantity:i.quantity,price:d.primaryPrice,timeInForce:i.timeInForce,gatewayType:i.gatewayType},secondaryOrder:{symbol:t.symbol,side:i.side,orderType:d.secondaryType,quantity:i.quantity,price:d.secondaryPrice,stopPrice:d.secondaryPrice,timeInForce:i.timeInForce,gatewayType:i.gatewayType}});v=m.primaryId,r({title:"OCO Order Submitted",description:`Primary: ${m.primaryId}, Secondary: ${m.secondaryId}`})}else v=await Vse.submitOrder({symbol:t.symbol,side:i.side,orderType:i.orderType,quantity:i.quantity,price:i.orderType==="MARKET"?void 0:i.price,stopPrice:i.orderType==="STOP"||i.orderType==="STOP_LIMIT"?i.stopPrice:void 0,timeInForce:i.timeInForce,gatewayType:i.gatewayType,expireDate:i.expireDate}),r({title:"Order Submitted",description:`Order ${v} submitted successfully`});o(m=>({...m,quantity:e.defaultQuantity}))}catch{r({title:"Order Failed",description:"Failed to submit order",variant:"destructive"})}},x=()=>(i.orderType==="MARKET"?(n==null?void 0:n.price)||0:i.price)*i.quantity;return t?S.jsxs(Nt,{className:"h-full","data-tutorial":"order-entry",children:[S.jsx(bn,{className:"pb-3",children:S.jsxs(_n,{className:"text-sm flex items-center justify-between",children:["Order Entry",S.jsx(Er,{variant:"outline",className:"text-xs",children:t.symbol})]})}),S.jsxs(Dt,{className:"space-y-4 p-4",children:[n&&S.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-muted/50 rounded",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-xs text-muted-foreground",children:"Bid"}),S.jsx("div",{className:"text-sm font-mono text-red-500",children:hr(n.bid)})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-xs text-muted-foreground",children:"Ask"}),S.jsx("div",{className:"text-sm font-mono text-green-500",children:hr(n.ask)})]})]}),S.jsxs("div",{"data-tutorial":"order-type",children:[S.jsx(Cn,{className:"text-xs",children:"Order Type"}),S.jsxs(Ws,{value:i.orderType,onValueChange:v=>o(m=>({...m,orderType:v})),children:[S.jsx(es,{children:S.jsx(Xs,{})}),S.jsxs(ts,{children:[S.jsx(en,{value:"MARKET",children:"Market"}),S.jsx(en,{value:"LIMIT",children:"Limit"}),S.jsx(en,{value:"STOP",children:"Stop"}),S.jsx(en,{value:"STOP_LIMIT",children:"Stop Limit"}),S.jsx(en,{value:"ICEBERG",children:"Iceberg"}),S.jsx(en,{value:"TWAP",children:"TWAP"}),S.jsx(en,{value:"VWAP",children:"VWAP"})]})]})]}),S.jsx(Rm,{value:l,onValueChange:v=>c(v),className:"w-full",children:S.jsxs(Fd,{className:"grid w-full grid-cols-4",children:[S.jsx(Hn,{value:"simple",className:"text-xs",children:"Simple"}),S.jsx(Hn,{value:"bracket",className:"text-xs",children:"Bracket"}),S.jsx(Hn,{value:"oco",className:"text-xs",children:"OCO"}),S.jsx(Hn,{value:"multileg",className:"text-xs",children:"Multi-Leg"})]})}),S.jsxs("div",{"data-tutorial":"quantity",children:[S.jsx(Cn,{className:"text-xs",children:"Quantity"}),S.jsx(xr,{type:"number",value:i.quantity,onChange:v=>o(m=>({...m,quantity:parseInt(v.target.value)||0})),min:"1"})]}),(i.orderType==="LIMIT"||i.orderType==="STOP_LIMIT")&&S.jsxs("div",{"data-tutorial":"price",children:[S.jsx(Cn,{className:"text-xs",children:"Price"}),S.jsx(xr,{type:"number",value:i.price,onChange:v=>o(m=>({...m,price:parseFloat(v.target.value)||0})),step:"0.01",min:"0"})]}),(i.orderType==="STOP"||i.orderType==="STOP_LIMIT")&&S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Stop Price"}),S.jsx(xr,{type:"number",value:i.stopPrice,onChange:v=>o(m=>({...m,stopPrice:parseFloat(v.target.value)||0})),step:"0.01",min:"0"})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(vy,{checked:a,onCheckedChange:s}),S.jsx(Cn,{className:"text-xs",children:"Advanced Options"})]}),l==="bracket"&&S.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded",children:[S.jsx(Cn,{className:"text-xs font-semibold",children:"Bracket Order Settings"}),S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Take Profit Price"}),S.jsx(xr,{type:"number",value:u.takeProfitPrice,onChange:v=>f(m=>({...m,takeProfitPrice:parseFloat(v.target.value)||0})),step:"0.01"})]}),S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Stop Loss Price"}),S.jsx(xr,{type:"number",value:u.stopLossPrice,onChange:v=>f(m=>({...m,stopLossPrice:parseFloat(v.target.value)||0})),step:"0.01"})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(vy,{checked:u.trailingStop,onCheckedChange:v=>f(m=>({...m,trailingStop:v}))}),S.jsx(Cn,{className:"text-xs",children:"Trailing Stop"})]}),u.trailingStop&&S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Trailing % Offset"}),S.jsx(xr,{type:"number",value:u.trailingPercent,onChange:v=>f(m=>({...m,trailingPercent:parseFloat(v.target.value)||0})),step:"0.1",min:"0",max:"100"})]})]}),l==="oco"&&S.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded",children:[S.jsx(Cn,{className:"text-xs font-semibold",children:"OCO Order Settings"}),S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Primary Order Price"}),S.jsx(xr,{type:"number",value:d.primaryPrice,onChange:v=>h(m=>({...m,primaryPrice:parseFloat(v.target.value)||0})),step:"0.01"})]}),S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Secondary Order Price"}),S.jsx(xr,{type:"number",value:d.secondaryPrice,onChange:v=>h(m=>({...m,secondaryPrice:parseFloat(v.target.value)||0})),step:"0.01"})]})]}),a&&S.jsxs(S.Fragment,{children:[S.jsx(Su,{}),S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Time in Force"}),S.jsxs(Ws,{value:i.timeInForce,onValueChange:v=>o(m=>({...m,timeInForce:v})),children:[S.jsx(es,{children:S.jsx(Xs,{})}),S.jsxs(ts,{children:[S.jsx(en,{value:"DAY",children:"Day"}),S.jsx(en,{value:"GTC",children:"Good Till Cancel"}),S.jsx(en,{value:"IOC",children:"Immediate or Cancel"}),S.jsx(en,{value:"FOK",children:"Fill or Kill"}),S.jsx(en,{value:"GTD",children:"Good Till Date"}),S.jsx(en,{value:"ATC",children:"At The Close"}),S.jsx(en,{value:"ATO",children:"At The Open"}),S.jsx(en,{value:"GTT",children:"Good Till Time"})]})]})]}),i.timeInForce==="GTD"&&S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Expire Date"}),S.jsx(xr,{type:"date",onChange:v=>o(m=>({...m,expireDate:v.target.value?new Date(v.target.value).getTime():void 0}))})]}),S.jsxs("div",{children:[S.jsx(Cn,{className:"text-xs",children:"Gateway"}),S.jsxs(Ws,{value:i.gatewayType,onValueChange:v=>o(m=>({...m,gatewayType:v})),children:[S.jsx(es,{children:S.jsx(Xs,{})}),S.jsxs(ts,{children:[S.jsx(en,{value:"FIX",children:"FIX Protocol"}),S.jsx(en,{value:"OUCH",children:"OUCH Protocol"})]})]})]})]}),S.jsx("div",{className:"p-3 bg-muted/30 rounded space-y-2",children:S.jsxs("div",{className:"flex justify-between text-xs",children:[S.jsx("span",{children:"Order Value:"}),S.jsx("span",{className:"font-mono",children:On(x())})]})}),S.jsxs("div",{className:"grid grid-cols-2 gap-3","data-tutorial":"order-buttons",children:[S.jsxs(gn,{onClick:()=>{o(v=>({...v,side:"BUY"})),setTimeout(y,50)},className:"bg-green-600 hover:bg-green-700 h-12",size:"lg",children:[S.jsx(nc,{className:"h-5 w-5 mr-2"}),"Buy"]}),S.jsxs(gn,{onClick:()=>{o(v=>({...v,side:"SELL"})),setTimeout(y,50)},className:"bg-red-600 hover:bg-red-700 h-12",size:"lg",children:[S.jsx(tc,{className:"h-5 w-5 mr-2"}),"Sell"]})]})]})]}):S.jsxs(Nt,{className:"h-full",children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Order Entry"})}),S.jsx(Dt,{className:"flex items-center justify-center h-full",children:S.jsx("p",{className:"text-muted-foreground text-sm",children:"Select an instrument to start trading"})})]})},Gse=()=>{var n,r;const{selectedInstrument:t}=Ta(),{orderBook:e}=iN(t==null?void 0:t.symbol);return t?e?S.jsxs(Nt,{className:"h-full","data-tutorial":"market-depth",children:[S.jsx(bn,{className:"pb-3",children:S.jsxs(_n,{className:"text-sm flex items-center justify-between",children:["Market Depth",S.jsx(Er,{variant:"outline",className:"text-xs",children:t.symbol})]})}),S.jsx(Dt,{className:"p-0",children:S.jsxs("div",{className:"h-full flex flex-col",children:[S.jsxs("div",{className:"grid grid-cols-3 gap-2 px-4 py-2 bg-muted/50 text-xs font-semibold",children:[S.jsx("div",{className:"text-left",children:"Size"}),S.jsx("div",{className:"text-center",children:"Price"}),S.jsx("div",{className:"text-right",children:"Orders"})]}),S.jsx(Su,{}),S.jsxs("div",{className:"flex-1 overflow-auto",children:[S.jsx("div",{className:"space-y-0",children:e.asks.slice(0,10).reverse().map((i,o)=>S.jsxs("div",{className:"grid grid-cols-3 gap-2 px-4 py-1 text-xs hover:bg-muted/30 border-l-2 border-red-500/20",children:[S.jsx("div",{className:"text-left font-mono text-muted-foreground",children:Fs(i.quantity)}),S.jsx("div",{className:"text-center font-mono text-red-500",children:hr(i.price)}),S.jsx("div",{className:"text-right font-mono text-muted-foreground",children:i.orderCount})]},`ask-${o}`))}),S.jsx("div",{className:"py-2 px-4 bg-muted/30 border-y",children:S.jsxs("div",{className:"text-center text-xs",children:[S.jsx("span",{className:"text-muted-foreground",children:"Spread: "}),S.jsx("span",{className:"font-mono",children:hr(((n=e.asks[0])==null?void 0:n.price)-((r=e.bids[0])==null?void 0:r.price))})]})}),S.jsx("div",{className:"space-y-0",children:e.bids.slice(0,10).map((i,o)=>S.jsxs("div",{className:"grid grid-cols-3 gap-2 px-4 py-1 text-xs hover:bg-muted/30 border-l-2 border-green-500/20",children:[S.jsx("div",{className:"text-left font-mono text-muted-foreground",children:Fs(i.quantity)}),S.jsx("div",{className:"text-center font-mono text-green-500",children:hr(i.price)}),S.jsx("div",{className:"text-right font-mono text-muted-foreground",children:i.orderCount})]},`bid-${o}`))})]}),S.jsx(Su,{}),S.jsx("div",{className:"p-3 bg-muted/30",children:S.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-muted-foreground",children:"Total Bids"}),S.jsx("div",{className:"font-mono text-green-500",children:Fs(e.bids.reduce((i,o)=>i+o.quantity,0))})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-muted-foreground",children:"Total Asks"}),S.jsx("div",{className:"font-mono text-red-500",children:Fs(e.asks.reduce((i,o)=>i+o.quantity,0))})]})]})})]})})]}):S.jsxs(Nt,{className:"h-full",children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Market Depth"})}),S.jsx(Dt,{className:"flex items-center justify-center h-full",children:S.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading order book..."})})]}):S.jsxs(Nt,{className:"h-full",children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Market Depth"})}),S.jsx(Dt,{className:"flex items-center justify-center h-full",children:S.jsx("p",{className:"text-muted-foreground text-sm",children:"Select an instrument"})})]})},Wse=new oN,Xse=()=>{const{orders:t}=mi(),[e,n]=oe.useState(""),[r,i]=oe.useState("all"),o=I.useMemo(()=>{let c=t;return e&&(c=c.filter(u=>u.symbol.toLowerCase().includes(e.toLowerCase())||u.id.toLowerCase().includes(e.toLowerCase()))),r!=="all"&&(c=c.filter(u=>u.status===r)),c.sort((u,f)=>f.timestamp-u.timestamp)},[t,e,r]),a=async c=>{try{await Wse.cancelOrder(c)}catch(u){console.error("Failed to cancel order:",u)}},s=c=>{switch(c){case"NEW":return"bg-blue-500";case"PARTIALLY_FILLED":return"bg-yellow-500";case"FILLED":return"bg-green-500";case"CANCELLED":return"bg-gray-500";case"REJECTED":return"bg-red-500";default:return"bg-gray-500"}},l=c=>c==="BUY"?"text-green-500":"text-red-500";return S.jsxs(Nt,{className:"h-full","data-tutorial":"order-blotter",children:[S.jsxs(bn,{className:"pb-3",children:[S.jsxs(_n,{className:"text-sm flex items-center justify-between",children:["Order Blotter",S.jsxs(Er,{variant:"outline",className:"text-xs",children:[o.length," orders"]})]}),S.jsxs("div",{className:"flex gap-2 pt-2",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx(Lm,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),S.jsx(xr,{placeholder:"Search orders...",value:e,onChange:c=>n(c.target.value),className:"pl-7 h-8 text-xs"})]}),S.jsxs("select",{value:r,onChange:c=>i(c.target.value),className:"h-8 px-2 text-xs border border-input bg-background rounded-md",children:[S.jsx("option",{value:"all",children:"All Status"}),S.jsx("option",{value:"NEW",children:"New"}),S.jsx("option",{value:"PARTIALLY_FILLED",children:"Partial"}),S.jsx("option",{value:"FILLED",children:"Filled"}),S.jsx("option",{value:"CANCELLED",children:"Cancelled"}),S.jsx("option",{value:"REJECTED",children:"Rejected"})]})]})]}),S.jsx(Dt,{className:"p-0",children:S.jsxs("div",{className:"h-full overflow-auto",children:[S.jsxs("div",{className:"grid grid-cols-8 gap-1 px-3 py-2 bg-muted/50 text-xs font-semibold border-b sticky top-0",children:[S.jsx("div",{children:"Symbol"}),S.jsx("div",{children:"Side"}),S.jsx("div",{children:"Type"}),S.jsx("div",{children:"Qty"}),S.jsx("div",{children:"Price"}),S.jsx("div",{children:"Status"}),S.jsx("div",{children:"Time"}),S.jsx("div",{children:"Action"})]}),S.jsx("div",{className:"space-y-0",children:o.length===0?S.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:"No orders found"}):o.map(c=>S.jsxs("div",{className:"grid grid-cols-8 gap-1 px-3 py-2 text-xs hover:bg-muted/30 border-b",children:[S.jsx("div",{className:"font-medium",children:c.symbol}),S.jsx("div",{className:`font-medium ${l(c.side)}`,children:c.side}),S.jsx("div",{className:"text-muted-foreground",children:mae(c.orderType)}),S.jsx("div",{className:"font-mono",children:c.filledQuantity>0?S.jsxs("span",{children:[c.filledQuantity,S.jsxs("span",{className:"text-muted-foreground",children:["/",c.quantity]})]}):c.quantity}),S.jsx("div",{className:"font-mono",children:c.orderType==="MARKET"?"MKT":hr(c.price||0)}),S.jsx("div",{children:S.jsx(Er,{variant:"secondary",className:`text-xs text-white ${s(c.status)}`,children:pae(c.status)})}),S.jsx("div",{className:"font-mono text-muted-foreground",children:Z8(c.timestamp)}),S.jsx("div",{children:(c.status==="NEW"||c.status==="PARTIALLY_FILLED")&&S.jsx(gn,{variant:"ghost",size:"sm",onClick:()=>a(c.id),className:"h-6 w-6 p-0",children:S.jsx(xd,{className:"h-3 w-3"})})})]},c.id))})]})})]})},qse=()=>{const{trades:t}=mi(),[e,n]=oe.useState(""),r=I.useMemo(()=>{let a=t;return e&&(a=a.filter(s=>s.symbol.toLowerCase().includes(e.toLowerCase())||s.id.toLowerCase().includes(e.toLowerCase()))),a.sort((s,l)=>l.timestamp-s.timestamp)},[t,e]),i=()=>r.reduce((a,s)=>a+s.price*s.quantity,0),o=a=>a==="BUY"?"text-green-500":"text-red-500";return S.jsxs(Nt,{className:"h-full","data-tutorial":"trade-blotter",children:[S.jsxs(bn,{className:"pb-3",children:[S.jsxs(_n,{className:"text-sm flex items-center justify-between",children:["Trade Blotter",S.jsxs(Er,{variant:"outline",className:"text-xs",children:[r.length," trades"]})]}),S.jsx("div",{className:"flex gap-2 pt-2",children:S.jsxs("div",{className:"relative flex-1",children:[S.jsx(Lm,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),S.jsx(xr,{placeholder:"Search trades...",value:e,onChange:a=>n(a.target.value),className:"pl-7 h-8 text-xs"})]})})]}),S.jsx(Dt,{className:"p-0",children:S.jsxs("div",{className:"h-full flex flex-col",children:[S.jsxs("div",{className:"grid grid-cols-6 gap-1 px-3 py-2 bg-muted/50 text-xs font-semibold border-b",children:[S.jsx("div",{children:"Symbol"}),S.jsx("div",{children:"Side"}),S.jsx("div",{children:"Qty"}),S.jsx("div",{children:"Price"}),S.jsx("div",{children:"Value"}),S.jsx("div",{children:"Time"})]}),S.jsx("div",{className:"flex-1 overflow-auto",children:r.length===0?S.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:"No trades found"}):S.jsx("div",{className:"space-y-0",children:r.map(a=>S.jsxs("div",{className:"grid grid-cols-6 gap-1 px-3 py-2 text-xs hover:bg-muted/30 border-b",children:[S.jsx("div",{className:"font-medium",children:a.symbol}),S.jsx("div",{className:`font-medium ${o(a.side)}`,children:a.side}),S.jsx("div",{className:"font-mono",children:a.quantity}),S.jsx("div",{className:"font-mono",children:hr(a.price)}),S.jsx("div",{className:"font-mono",children:On(a.price*a.quantity)}),S.jsx("div",{className:"font-mono text-muted-foreground",children:Z8(a.timestamp)})]},a.id))})}),r.length>0&&S.jsx("div",{className:"border-t p-3 bg-muted/30",children:S.jsxs("div",{className:"flex justify-between text-xs",children:[S.jsxs("span",{className:"font-medium",children:["Total Trades: ",r.length]}),S.jsxs("span",{className:"font-mono",children:["Total Value: ",On(i())]})]})})]})})]})},v2=(t,e)=>t.quantity===0?0:(e-t.averagePrice)*t.quantity,ZU=(t,e=20)=>{if(t.length<e+1)return 0;const n=[];for(let o=1;o<t.length;o++)n.push(Math.log(t[o]/t[o-1]));const r=n.reduce((o,a)=>o+a,0)/n.length,i=n.reduce((o,a)=>o+Math.pow(a-r,2),0)/n.length;return Math.sqrt(i*252)},Yse=(t,e=.02)=>{if(t.length===0)return 0;const n=t.reduce((a,s)=>a+s,0)/t.length,r=n-e/252,i=t.reduce((a,s)=>a+Math.pow(s-n,2),0)/t.length,o=Math.sqrt(i);return o>0?r/o:0},JU=(t,e=.95)=>{if(t.length===0)return 0;const n=[...t].sort((i,o)=>i-o),r=Math.floor((1-e)*n.length);return n[r]||0},Kse=t=>{if(t.length<2)return 0;let e=0,n=t[0];for(let r=1;r<t.length;r++)if(t[r]>n)n=t[r];else{const i=(n-t[r])/n;e=Math.max(e,i)}return e},Qse=()=>{const{getAllPositions:t,updatePosition:e}=Zf(),{marketData:n}=Ji(),[r,i]=oe.useState(""),o=t();I.useEffect(()=>{o.forEach(f=>{const d=n.get(f.symbol);if(d){const h=d.price*Math.abs(f.quantity),y=v2(f,d.price);(f.marketValue!==h||f.unrealizedPnL!==y)&&(f.marketValue=h,f.unrealizedPnL=y)}})},[o,n]);const a=I.useMemo(()=>{let f=o.filter(d=>d.quantity!==0);return r&&(f=f.filter(d=>d.symbol.toLowerCase().includes(r.toLowerCase()))),f.sort((d,h)=>Math.abs(h.marketValue)-Math.abs(d.marketValue))},[o,r]),s=()=>a.reduce((f,d)=>f+d.unrealizedPnL+d.realizedPnL,0),l=()=>a.reduce((f,d)=>f+Math.abs(d.marketValue),0),c=f=>{const d=n.get(f);return(d==null?void 0:d.price)||0},u=f=>{switch(f){case"LONG":return"text-green-500";case"SHORT":return"text-red-500";default:return"text-muted-foreground"}};return S.jsxs(Nt,{className:"h-full","data-tutorial":"position-blotter",children:[S.jsxs(bn,{className:"pb-3",children:[S.jsxs(_n,{className:"text-sm flex items-center justify-between",children:["Position Blotter",S.jsxs(Er,{variant:"outline",className:"text-xs",children:[a.length," positions"]})]}),S.jsx("div",{className:"flex gap-2 pt-2",children:S.jsxs("div",{className:"relative flex-1",children:[S.jsx(Lm,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),S.jsx(xr,{placeholder:"Search positions...",value:r,onChange:f=>i(f.target.value),className:"pl-7 h-8 text-xs"})]})})]}),S.jsx(Dt,{className:"p-0",children:S.jsxs("div",{className:"h-full flex flex-col",children:[S.jsxs("div",{className:"grid grid-cols-7 gap-1 px-3 py-2 bg-muted/50 text-xs font-semibold border-b",children:[S.jsx("div",{children:"Symbol"}),S.jsx("div",{children:"Side"}),S.jsx("div",{children:"Qty"}),S.jsx("div",{children:"Avg Price"}),S.jsx("div",{children:"Market Price"}),S.jsx("div",{children:"Market Value"}),S.jsx("div",{children:"Unrealized P&L"})]}),S.jsx("div",{className:"flex-1 overflow-auto",children:a.length===0?S.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:"No positions found"}):S.jsx("div",{className:"space-y-0",children:a.map(f=>{const d=c(f.symbol),h=v2(f,d);return S.jsxs("div",{className:"grid grid-cols-7 gap-1 px-3 py-2 text-xs hover:bg-muted/30 border-b",children:[S.jsx("div",{className:"font-medium",children:f.symbol}),S.jsx("div",{className:`font-medium ${u(f.side)}`,children:J8(f.side)}),S.jsx("div",{className:"font-mono",children:Math.abs(f.quantity)}),S.jsx("div",{className:"font-mono",children:hr(f.averagePrice)}),S.jsx("div",{className:"font-mono",children:hr(d)}),S.jsx("div",{className:"font-mono",children:On(Math.abs(f.quantity)*d)}),S.jsx("div",{className:`font-mono ${ba(h)}`,children:On(h)})]},f.symbol)})})}),a.length>0&&S.jsxs("div",{className:"border-t p-3 bg-muted/30 space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-xs",children:[S.jsxs("span",{className:"font-medium",children:["Total Positions: ",a.length]}),S.jsxs("span",{className:"font-mono",children:["Market Value: ",On(l())]})]}),S.jsxs("div",{className:"flex justify-between text-xs",children:[S.jsx("span",{className:"font-medium",children:"Total P&L:"}),S.jsx("span",{className:`font-mono ${ba(s())}`,children:On(s())})]})]})]})})]})};var Zse=Array.isArray,To=Zse,Jse=typeof Gx=="object"&&Gx&&Gx.Object===Object&&Gx,bW=Jse,ele=bW,tle=typeof self=="object"&&self&&self.Object===Object&&self,nle=ele||tle||Function("return this")(),ol=nle,rle=ol,ile=rle.Symbol,I0=ile,eF=I0,_W=Object.prototype,ole=_W.hasOwnProperty,ale=_W.toString,Ug=eF?eF.toStringTag:void 0;function sle(t){var e=ole.call(t,Ug),n=t[Ug];try{t[Ug]=void 0;var r=!0}catch{}var i=ale.call(t);return r&&(e?t[Ug]=n:delete t[Ug]),i}var lle=sle,cle=Object.prototype,ule=cle.toString;function fle(t){return ule.call(t)}var dle=fle,tF=I0,hle=lle,ple=dle,mle="[object Null]",gle="[object Undefined]",nF=tF?tF.toStringTag:void 0;function vle(t){return t==null?t===void 0?gle:mle:nF&&nF in Object(t)?hle(t):ple(t)}var fc=vle;function yle(t){return t!=null&&typeof t=="object"}var dc=yle,xle=fc,ble=dc,_le="[object Symbol]";function Sle(t){return typeof t=="symbol"||ble(t)&&xle(t)==_le}var Um=Sle,wle=To,Ele=Um,Mle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tle=/^\w*$/;function Ale(t,e){if(wle(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ele(t)?!0:Tle.test(t)||!Mle.test(t)||e!=null&&t in Object(e)}var aN=Ale;function Ple(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ru=Ple;const Fm=yn(Ru);var Cle=fc,Ole=Ru,Rle="[object AsyncFunction]",Ile="[object Function]",Nle="[object GeneratorFunction]",Dle="[object Proxy]";function Lle(t){if(!Ole(t))return!1;var e=Cle(t);return e==Ile||e==Nle||e==Rle||e==Dle}var sN=Lle;const Pt=yn(sN);var kle=ol,Ule=kle["__core-js_shared__"],Fle=Ule,TA=Fle,rF=function(){var t=/[^.]+$/.exec(TA&&TA.keys&&TA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jle(t){return!!rF&&rF in t}var zle=jle,Ble=Function.prototype,$le=Ble.toString;function Vle(t){if(t!=null){try{return $le.call(t)}catch{}try{return t+""}catch{}}return""}var SW=Vle,Hle=sN,Gle=zle,Wle=Ru,Xle=SW,qle=/[\\^$.*+?()[\]{}|]/g,Yle=/^\[object .+?Constructor\]$/,Kle=Function.prototype,Qle=Object.prototype,Zle=Kle.toString,Jle=Qle.hasOwnProperty,ece=RegExp("^"+Zle.call(Jle).replace(qle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tce(t){if(!Wle(t)||Gle(t))return!1;var e=Hle(t)?ece:Yle;return e.test(Xle(t))}var nce=tce;function rce(t,e){return t==null?void 0:t[e]}var ice=rce,oce=nce,ace=ice;function sce(t,e){var n=ace(t,e);return oce(n)?n:void 0}var jd=sce,lce=jd,cce=lce(Object,"create"),pE=cce,iF=pE;function uce(){this.__data__=iF?iF(null):{},this.size=0}var fce=uce;function dce(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hce=dce,pce=pE,mce="__lodash_hash_undefined__",gce=Object.prototype,vce=gce.hasOwnProperty;function yce(t){var e=this.__data__;if(pce){var n=e[t];return n===mce?void 0:n}return vce.call(e,t)?e[t]:void 0}var xce=yce,bce=pE,_ce=Object.prototype,Sce=_ce.hasOwnProperty;function wce(t){var e=this.__data__;return bce?e[t]!==void 0:Sce.call(e,t)}var Ece=wce,Mce=pE,Tce="__lodash_hash_undefined__";function Ace(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mce&&e===void 0?Tce:e,this}var Pce=Ace,Cce=fce,Oce=hce,Rce=xce,Ice=Ece,Nce=Pce;function jm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jm.prototype.clear=Cce;jm.prototype.delete=Oce;jm.prototype.get=Rce;jm.prototype.has=Ice;jm.prototype.set=Nce;var Dce=jm;function Lce(){this.__data__=[],this.size=0}var kce=Lce;function Uce(t,e){return t===e||t!==t&&e!==e}var lN=Uce,Fce=lN;function jce(t,e){for(var n=t.length;n--;)if(Fce(t[n][0],e))return n;return-1}var mE=jce,zce=mE,Bce=Array.prototype,$ce=Bce.splice;function Vce(t){var e=this.__data__,n=zce(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$ce.call(e,n,1),--this.size,!0}var Hce=Vce,Gce=mE;function Wce(t){var e=this.__data__,n=Gce(e,t);return n<0?void 0:e[n][1]}var Xce=Wce,qce=mE;function Yce(t){return qce(this.__data__,t)>-1}var Kce=Yce,Qce=mE;function Zce(t,e){var n=this.__data__,r=Qce(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Jce=Zce,eue=kce,tue=Hce,nue=Xce,rue=Kce,iue=Jce;function zm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zm.prototype.clear=eue;zm.prototype.delete=tue;zm.prototype.get=nue;zm.prototype.has=rue;zm.prototype.set=iue;var gE=zm,oue=jd,aue=ol,sue=oue(aue,"Map"),cN=sue,oF=Dce,lue=gE,cue=cN;function uue(){this.size=0,this.__data__={hash:new oF,map:new(cue||lue),string:new oF}}var fue=uue;function due(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var hue=due,pue=hue;function mue(t,e){var n=t.__data__;return pue(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vE=mue,gue=vE;function vue(t){var e=gue(this,t).delete(t);return this.size-=e?1:0,e}var yue=vue,xue=vE;function bue(t){return xue(this,t).get(t)}var _ue=bue,Sue=vE;function wue(t){return Sue(this,t).has(t)}var Eue=wue,Mue=vE;function Tue(t,e){var n=Mue(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Aue=Tue,Pue=fue,Cue=yue,Oue=_ue,Rue=Eue,Iue=Aue;function Bm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bm.prototype.clear=Pue;Bm.prototype.delete=Cue;Bm.prototype.get=Oue;Bm.prototype.has=Rue;Bm.prototype.set=Iue;var uN=Bm,wW=uN,Nue="Expected a function";function fN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Nue);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(fN.Cache||wW),n}fN.Cache=wW;var EW=fN;const Due=yn(EW);var Lue=EW,kue=500;function Uue(t){var e=Lue(t,function(r){return n.size===kue&&n.clear(),r}),n=e.cache;return e}var Fue=Uue,jue=Fue,zue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bue=/\\(\\)?/g,$ue=jue(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zue,function(n,r,i,o){e.push(i?o.replace(Bue,"$1"):r||n)}),e}),Vue=$ue;function Hue(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var dN=Hue,aF=I0,Gue=dN,Wue=To,Xue=Um,que=1/0,sF=aF?aF.prototype:void 0,lF=sF?sF.toString:void 0;function MW(t){if(typeof t=="string")return t;if(Wue(t))return Gue(t,MW)+"";if(Xue(t))return lF?lF.call(t):"";var e=t+"";return e=="0"&&1/t==-que?"-0":e}var Yue=MW,Kue=Yue;function Que(t){return t==null?"":Kue(t)}var TW=Que,Zue=To,Jue=aN,efe=Vue,tfe=TW;function nfe(t,e){return Zue(t)?t:Jue(t,e)?[t]:efe(tfe(t))}var AW=nfe,rfe=Um,ife=1/0;function ofe(t){if(typeof t=="string"||rfe(t))return t;var e=t+"";return e=="0"&&1/t==-ife?"-0":e}var yE=ofe,afe=AW,sfe=yE;function lfe(t,e){e=afe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[sfe(e[n++])];return n&&n==r?t:void 0}var hN=lfe,cfe=hN;function ufe(t,e,n){var r=t==null?void 0:cfe(t,e);return r===void 0?n:r}var PW=ufe;const Yo=yn(PW);function ffe(t){return t==null}var dfe=ffe;const It=yn(dfe);var hfe=fc,pfe=To,mfe=dc,gfe="[object String]";function vfe(t){return typeof t=="string"||!pfe(t)&&mfe(t)&&hfe(t)==gfe}var yfe=vfe;const Sd=yn(yfe);var CW={exports:{}},En={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN=Symbol.for("react.element"),mN=Symbol.for("react.portal"),xE=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),SE=Symbol.for("react.provider"),wE=Symbol.for("react.context"),xfe=Symbol.for("react.server_context"),EE=Symbol.for("react.forward_ref"),ME=Symbol.for("react.suspense"),TE=Symbol.for("react.suspense_list"),AE=Symbol.for("react.memo"),PE=Symbol.for("react.lazy"),bfe=Symbol.for("react.offscreen"),OW;OW=Symbol.for("react.module.reference");function Oa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pN:switch(t=t.type,t){case xE:case _E:case bE:case ME:case TE:return t;default:switch(t=t&&t.$$typeof,t){case xfe:case wE:case EE:case PE:case AE:case SE:return t;default:return e}}case mN:return e}}}En.ContextConsumer=wE;En.ContextProvider=SE;En.Element=pN;En.ForwardRef=EE;En.Fragment=xE;En.Lazy=PE;En.Memo=AE;En.Portal=mN;En.Profiler=_E;En.StrictMode=bE;En.Suspense=ME;En.SuspenseList=TE;En.isAsyncMode=function(){return!1};En.isConcurrentMode=function(){return!1};En.isContextConsumer=function(t){return Oa(t)===wE};En.isContextProvider=function(t){return Oa(t)===SE};En.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pN};En.isForwardRef=function(t){return Oa(t)===EE};En.isFragment=function(t){return Oa(t)===xE};En.isLazy=function(t){return Oa(t)===PE};En.isMemo=function(t){return Oa(t)===AE};En.isPortal=function(t){return Oa(t)===mN};En.isProfiler=function(t){return Oa(t)===_E};En.isStrictMode=function(t){return Oa(t)===bE};En.isSuspense=function(t){return Oa(t)===ME};En.isSuspenseList=function(t){return Oa(t)===TE};En.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xE||t===_E||t===bE||t===ME||t===TE||t===bfe||typeof t=="object"&&t!==null&&(t.$$typeof===PE||t.$$typeof===AE||t.$$typeof===SE||t.$$typeof===wE||t.$$typeof===EE||t.$$typeof===OW||t.getModuleId!==void 0)};En.typeOf=Oa;CW.exports=En;var _fe=CW.exports,Sfe=fc,wfe=dc,Efe="[object Number]";function Mfe(t){return typeof t=="number"||wfe(t)&&Sfe(t)==Efe}var RW=Mfe;const Tfe=yn(RW);var Afe=RW;function Pfe(t){return Afe(t)&&t!=+t}var Cfe=Pfe;const $m=yn(Cfe);var to=function(e){return e===0?0:e>0?1:-1},Lf=function(e){return Sd(e)&&e.indexOf("%")===e.length-1},Ke=function(e){return Tfe(e)&&!$m(e)},Ofe=function(e){return It(e)},Vr=function(e){return Ke(e)||Sd(e)},Rfe=0,zd=function(e){var n=++Rfe;return"".concat(e||"").concat(n)},no=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(e)&&!Sd(e))return r;var o;if(Lf(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return $m(o)&&(o=r),i&&o>n&&(o=n),o},qc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ife=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},zr=function(e,n){return Ke(e)&&Ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function z_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Yo(r,e))===n})}var Nfe=function(e,n){return Ke(e)&&Ke(n)?e-n:Sd(e)&&Sd(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Pp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function y2(t){"@babel/helpers - typeof";return y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y2(t)}var Dfe=["viewBox","children"],Lfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cF=["points","pathLength"],AA={svg:Dfe,polygon:cF,polyline:cF},gN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],B_=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),!Fm(r))return null;var i={};return Object.keys(r).forEach(function(o){gN.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},kfe=function(e,n,r){return function(i){return e(n,r,i),null}},wd=function(e,n,r){if(!Fm(e)||y2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];gN.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=kfe(a,n,r))}),i},Ufe=["children"],Ffe=["children"];function uF(t,e){if(t==null)return{};var n=jfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x2(t){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(t)}var fF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dF=null,PA=null,vN=function t(e){if(e===dF&&Array.isArray(PA))return PA;var n=[];return I.Children.forEach(e,function(r){It(r)||(_fe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),PA=n,dF=e,n};function Ko(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hl(i)}):r=[Hl(e)],vN(t).forEach(function(i){var o=Yo(i,"type.displayName")||Yo(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function $o(t,e){var n=Ko(t,e);return n&&n[0]}var hF=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ke(r)||r<=0||!Ke(i)||i<=0)},zfe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bfe=function(e){return e&&e.type&&Sd(e.type)&&zfe.indexOf(e.type)>=0},IW=function(e){return e&&x2(e)==="object"&&"clipDot"in e},$fe=function(e,n,r,i){var o,a=(o=AA==null?void 0:AA[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Pt(e)&&(i&&a.includes(n)||Lfe.includes(n))||r&&gN.includes(n)},bt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(I.isValidElement(e)&&(i=e.props),!Fm(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;$fe((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},b2=function t(e,n){if(e===n)return!0;var r=I.Children.count(e);if(r!==I.Children.count(n))return!1;if(r===0)return!0;if(r===1)return pF(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!pF(o,a))return!1}return!0},pF=function(e,n){if(It(e)&&It(n))return!0;if(!It(e)&&!It(n)){var r=e.props||{},i=r.children,o=uF(r,Ufe),a=n.props||{},s=a.children,l=uF(a,Ffe);return i&&s?Pp(o,l)&&b2(i,s):!i&&!s?Pp(o,l):!1}return!1},mF=function(e,n){var r=[],i={};return vN(e).forEach(function(o,a){if(Bfe(o))r.push(o);else if(o){var s=Hl(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},Vfe=function(e){var n=e&&e.type;return n&&fF[n]?fF[n]:null},Hfe=function(e,n){return vN(n).indexOf(e)},Gfe=["children","width","height","viewBox","className","style","title","desc"];function _2(){return _2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_2.apply(this,arguments)}function Wfe(t,e){if(t==null)return{};var n=Xfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=Wfe(t,Gfe),u=i||{width:n,height:r,x:0,y:0},f=Lt("recharts-surface",o);return oe.createElement("svg",_2({},bt(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),oe.createElement("title",null,s),oe.createElement("desc",null,l),e)}var qfe=["children","className"];function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(this,arguments)}function Yfe(t,e){if(t==null)return{};var n=Kfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rn=oe.forwardRef(function(t,e){var n=t.children,r=t.className,i=Yfe(t,qfe),o=Lt("recharts-layer",r);return oe.createElement("g",w2({className:o},bt(i,!0),{ref:e}),n)}),rs=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Qfe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Zfe=Qfe,Jfe=Zfe;function ede(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Jfe(t,e,n)}var tde=ede,nde="\\ud800-\\udfff",rde="\\u0300-\\u036f",ide="\\ufe20-\\ufe2f",ode="\\u20d0-\\u20ff",ade=rde+ide+ode,sde="\\ufe0e\\ufe0f",lde="\\u200d",cde=RegExp("["+lde+nde+ade+sde+"]");function ude(t){return cde.test(t)}var NW=ude;function fde(t){return t.split("")}var dde=fde,DW="\\ud800-\\udfff",hde="\\u0300-\\u036f",pde="\\ufe20-\\ufe2f",mde="\\u20d0-\\u20ff",gde=hde+pde+mde,vde="\\ufe0e\\ufe0f",yde="["+DW+"]",E2="["+gde+"]",M2="\\ud83c[\\udffb-\\udfff]",xde="(?:"+E2+"|"+M2+")",LW="[^"+DW+"]",kW="(?:\\ud83c[\\udde6-\\uddff]){2}",UW="[\\ud800-\\udbff][\\udc00-\\udfff]",bde="\\u200d",FW=xde+"?",jW="["+vde+"]?",_de="(?:"+bde+"(?:"+[LW,kW,UW].join("|")+")"+jW+FW+")*",Sde=jW+FW+_de,wde="(?:"+[LW+E2+"?",E2,kW,UW,yde].join("|")+")",Ede=RegExp(M2+"(?="+M2+")|"+wde+Sde,"g");function Mde(t){return t.match(Ede)||[]}var Tde=Mde,Ade=dde,Pde=NW,Cde=Tde;function Ode(t){return Pde(t)?Cde(t):Ade(t)}var Rde=Ode,Ide=tde,Nde=NW,Dde=Rde,Lde=TW;function kde(t){return function(e){e=Lde(e);var n=Nde(e)?Dde(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ide(n,1).join(""):e.slice(1);return r[t]()+i}}var Ude=kde,Fde=Ude,jde=Fde("toUpperCase"),zde=jde;const CE=yn(zde);function Dn(t){return function(){return t}}const zW=Math.cos,$_=Math.sin,ms=Math.sqrt,V_=Math.PI,OE=2*V_,T2=Math.PI,A2=2*T2,Sf=1e-6,Bde=A2-Sf;function BW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $de(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BW;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Vde=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BW:$de(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Sf)if(!(Math.abs(f*l-c*u)>Sf)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,y=i-s,x=l*l+c*c,v=h*h+y*y,m=Math.sqrt(x),_=Math.sqrt(d),b=o*Math.tan((T2-Math.acos((x+d-v)/(2*m*_)))/2),w=b/_,E=b/m;Math.abs(w-1)>Sf&&this._append`L${e+w*u},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*h>u*y)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Sf||Math.abs(this._y1-u)>Sf)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%A2+A2),d>Bde?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Sf&&this._append`A${r},${r},0,${+(d>=T2)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function yN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Vde(e)}function xN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $W(t){this._context=t}$W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function RE(t){return new $W(t)}function VW(t){return t[0]}function HW(t){return t[1]}function GW(t,e){var n=Dn(!0),r=null,i=RE,o=null,a=yN(s);t=typeof t=="function"?t:t===void 0?VW:Dn(t),e=typeof e=="function"?e:e===void 0?HW:Dn(e);function s(l){var c,u=(l=xN(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,c,l),+e(f,c,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Dn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Dn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Dn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function y1(t,e,n){var r=null,i=Dn(!0),o=null,a=RE,s=null,l=yN(c);t=typeof t=="function"?t:t===void 0?VW:Dn(+t),e=typeof e=="function"?e:Dn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?HW:Dn(+n);function c(f){var d,h,y,x=(f=xN(f)).length,v,m=!1,_,b=new Array(x),w=new Array(x);for(o==null&&(s=a(_=l())),d=0;d<=x;++d){if(!(d<x&&i(v=f[d],d,f))===m)if(m=!m)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=d-1;y>=h;--y)s.point(b[y],w[y]);s.lineEnd(),s.areaEnd()}m&&(b[d]=+t(v,d,f),w[d]=+e(v,d,f),s.point(r?+r(v,d,f):b[d],n?+n(v,d,f):w[d]))}if(_)return s=null,_+""||null}function u(){return GW().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Dn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Dn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Dn(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class WW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Hde(t){return new WW(t,!0)}function Gde(t){return new WW(t,!1)}const bN={draw(t,e){const n=ms(e/V_);t.moveTo(n,0),t.arc(0,0,n,0,OE)}},Wde={draw(t,e){const n=ms(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},XW=ms(1/3),Xde=XW*2,qde={draw(t,e){const n=ms(e/Xde),r=n*XW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Yde={draw(t,e){const n=ms(e),r=-n/2;t.rect(r,r,n,n)}},Kde=.8908130915292852,qW=$_(V_/10)/$_(7*V_/10),Qde=$_(OE/10)*qW,Zde=-zW(OE/10)*qW,Jde={draw(t,e){const n=ms(e*Kde),r=Qde*n,i=Zde*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=OE*o/5,s=zW(a),l=$_(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},CA=ms(3),ehe={draw(t,e){const n=-ms(e/(CA*3));t.moveTo(0,n*2),t.lineTo(-CA*n,-n),t.lineTo(CA*n,-n),t.closePath()}},fa=-.5,da=ms(3)/2,P2=1/ms(12),the=(P2/2+1)*3,nhe={draw(t,e){const n=ms(e/the),r=n/2,i=n*P2,o=r,a=n*P2+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(fa*r-da*i,da*r+fa*i),t.lineTo(fa*o-da*a,da*o+fa*a),t.lineTo(fa*s-da*l,da*s+fa*l),t.lineTo(fa*r+da*i,fa*i-da*r),t.lineTo(fa*o+da*a,fa*a-da*o),t.lineTo(fa*s+da*l,fa*l-da*s),t.closePath()}};function rhe(t,e){let n=null,r=yN(i);t=typeof t=="function"?t:Dn(t||bN),e=typeof e=="function"?e:Dn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Dn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Dn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function H_(){}function G_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function YW(t){this._context=t}YW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:G_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:G_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ihe(t){return new YW(t)}function KW(t){this._context=t}KW.prototype={areaStart:H_,areaEnd:H_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:G_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ohe(t){return new KW(t)}function QW(t){this._context=t}QW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:G_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ahe(t){return new QW(t)}function ZW(t){this._context=t}ZW.prototype={areaStart:H_,areaEnd:H_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function she(t){return new ZW(t)}function gF(t){return t<0?-1:1}function vF(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(gF(o)+gF(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function yF(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function OA(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function W_(t){this._context=t}W_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:OA(this,this._t0,yF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,OA(this,yF(this,n=vF(this,t,e)),n);break;default:OA(this,this._t0,n=vF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function JW(t){this._context=new e9(t)}(JW.prototype=Object.create(W_.prototype)).point=function(t,e){W_.prototype.point.call(this,e,t)};function e9(t){this._context=t}e9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function lhe(t){return new W_(t)}function che(t){return new JW(t)}function t9(t){this._context=t}t9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=xF(t),i=xF(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xF(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function uhe(t){return new t9(t)}function IE(t,e){this._context=t,this._t=e}IE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fhe(t){return new IE(t,.5)}function dhe(t){return new IE(t,0)}function hhe(t){return new IE(t,1)}function Qp(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function C2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function phe(t,e){return t[e]}function mhe(t){const e=[];return e.key=t,e}function ghe(){var t=Dn([]),e=C2,n=Qp,r=phe;function i(o){var a=Array.from(t.apply(this,arguments),mhe),s,l=a.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,u=xN(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Dn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Dn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?C2:typeof o=="function"?o:Dn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Qp,i):n},i}function vhe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Qp(t,e)}}function yhe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Qp(t,e)}}function xhe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,y=0;y<s;++y){var x=t[e[y]],v=x[r][1]||0,m=x[r-1][1]||0;h+=v-m}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Qp(t,e)}}function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}var bhe=["type","size","sizeType"];function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O2.apply(this,arguments)}function bF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return e=She(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=whe(t,"string");return by(e)=="symbol"?e:e+""}function whe(t,e){if(by(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ehe(t,e){if(t==null)return{};var n=Mhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var n9={symbolCircle:bN,symbolCross:Wde,symbolDiamond:qde,symbolSquare:Yde,symbolStar:Jde,symbolTriangle:ehe,symbolWye:nhe},The=Math.PI/180,Ahe=function(e){var n="symbol".concat(CE(e));return n9[n]||bN},Phe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*The;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Che=function(e,n){n9["symbol".concat(CE(e))]=n},_N=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Ehe(e,bhe),c=_F(_F({},l),{},{type:r,size:o,sizeType:s}),u=function(){var v=Ahe(r),m=rhe().type(v).size(Phe(o,s,r));return m()},f=c.className,d=c.cx,h=c.cy,y=bt(c,!0);return d===+d&&h===+h&&o===+o?oe.createElement("path",O2({},y,{className:Lt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};_N.registerSymbol=Che;function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R2.apply(this,arguments)}function SF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ohe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ihe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i9(r.key),r)}}function Nhe(t,e,n){return e&&Ihe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dhe(t,e,n){return e=X_(e),Lhe(t,r9()?Reflect.construct(e,n||[],X_(t).constructor):e.apply(t,n))}function Lhe(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return khe(t)}function khe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function X_(t){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X_(t)}function Uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I2(t,e)}function _y(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=Fhe(t,"string");return Zp(e)=="symbol"?e:e+""}function Fhe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ha=32,SN=function(t){function e(){return Rhe(this,e),Dhe(this,e,arguments)}return Uhe(e,t),Nhe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ha/2,a=ha/6,s=ha/3,l=r.inactive?i:r.color;if(r.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ha,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ha,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return oe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ha/8,"h").concat(ha,"v").concat(ha*3/4,"h").concat(-ha,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(r.legendIcon)){var c=Ohe({},r);return delete c.legendIcon,oe.cloneElement(r.legendIcon,c)}return oe.createElement(_N,{fill:l,cx:o,cy:o,size:ha,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:ha,height:ha},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,y){var x=h.formatter||l,v=Lt(_y(_y({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var m=Pt(h.value)?null:h.value;rs(!Pt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=h.inactive?c:h.color;return oe.createElement("li",R2({className:v,style:f,key:"legend-item-".concat(y)},wd(r.props,h,y)),oe.createElement(S2,{width:a,height:a,viewBox:u,style:d},r.renderIcon(h)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(m,h,y):m))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(I.PureComponent);_y(SN,"displayName","Legend");_y(SN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jhe=gE;function zhe(){this.__data__=new jhe,this.size=0}var Bhe=zhe;function $he(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Vhe=$he;function Hhe(t){return this.__data__.get(t)}var Ghe=Hhe;function Whe(t){return this.__data__.has(t)}var Xhe=Whe,qhe=gE,Yhe=cN,Khe=uN,Qhe=200;function Zhe(t,e){var n=this.__data__;if(n instanceof qhe){var r=n.__data__;if(!Yhe||r.length<Qhe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Khe(r)}return n.set(t,e),this.size=n.size,this}var Jhe=Zhe,epe=gE,tpe=Bhe,npe=Vhe,rpe=Ghe,ipe=Xhe,ope=Jhe;function Vm(t){var e=this.__data__=new epe(t);this.size=e.size}Vm.prototype.clear=tpe;Vm.prototype.delete=npe;Vm.prototype.get=rpe;Vm.prototype.has=ipe;Vm.prototype.set=ope;var o9=Vm,ape="__lodash_hash_undefined__";function spe(t){return this.__data__.set(t,ape),this}var lpe=spe;function cpe(t){return this.__data__.has(t)}var upe=cpe,fpe=uN,dpe=lpe,hpe=upe;function q_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fpe;++e<n;)this.add(t[e])}q_.prototype.add=q_.prototype.push=dpe;q_.prototype.has=hpe;var a9=q_;function ppe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var s9=ppe;function mpe(t,e){return t.has(e)}var l9=mpe,gpe=a9,vpe=s9,ype=l9,xpe=1,bpe=2;function _pe(t,e,n,r,i,o){var a=n&xpe,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&bpe?new gpe:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],x=e[f];if(r)var v=a?r(x,y,f,e,t,o):r(y,x,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!vpe(e,function(m,_){if(!ype(h,_)&&(y===m||i(y,m,n,r,o)))return h.push(_)})){d=!1;break}}else if(!(y===x||i(y,x,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var c9=_pe,Spe=ol,wpe=Spe.Uint8Array,Epe=wpe;function Mpe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Tpe=Mpe;function Ape(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wN=Ape,wF=I0,EF=Epe,Ppe=lN,Cpe=c9,Ope=Tpe,Rpe=wN,Ipe=1,Npe=2,Dpe="[object Boolean]",Lpe="[object Date]",kpe="[object Error]",Upe="[object Map]",Fpe="[object Number]",jpe="[object RegExp]",zpe="[object Set]",Bpe="[object String]",$pe="[object Symbol]",Vpe="[object ArrayBuffer]",Hpe="[object DataView]",MF=wF?wF.prototype:void 0,RA=MF?MF.valueOf:void 0;function Gpe(t,e,n,r,i,o,a){switch(n){case Hpe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Vpe:return!(t.byteLength!=e.byteLength||!o(new EF(t),new EF(e)));case Dpe:case Lpe:case Fpe:return Ppe(+t,+e);case kpe:return t.name==e.name&&t.message==e.message;case jpe:case Bpe:return t==e+"";case Upe:var s=Ope;case zpe:var l=r&Ipe;if(s||(s=Rpe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Npe,a.set(t,e);var u=Cpe(s(t),s(e),r,i,o,a);return a.delete(t),u;case $pe:if(RA)return RA.call(t)==RA.call(e)}return!1}var Wpe=Gpe;function Xpe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var u9=Xpe,qpe=u9,Ype=To;function Kpe(t,e,n){var r=e(t);return Ype(t)?r:qpe(r,n(t))}var Qpe=Kpe;function Zpe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Jpe=Zpe;function eme(){return[]}var tme=eme,nme=Jpe,rme=tme,ime=Object.prototype,ome=ime.propertyIsEnumerable,TF=Object.getOwnPropertySymbols,ame=TF?function(t){return t==null?[]:(t=Object(t),nme(TF(t),function(e){return ome.call(t,e)}))}:rme,sme=ame;function lme(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cme=lme,ume=fc,fme=dc,dme="[object Arguments]";function hme(t){return fme(t)&&ume(t)==dme}var pme=hme,AF=pme,mme=dc,f9=Object.prototype,gme=f9.hasOwnProperty,vme=f9.propertyIsEnumerable,yme=AF(function(){return arguments}())?AF:function(t){return mme(t)&&gme.call(t,"callee")&&!vme.call(t,"callee")},EN=yme,Y_={exports:{}};function xme(){return!1}var bme=xme;Y_.exports;(function(t,e){var n=ol,r=bme,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Y_,Y_.exports);var d9=Y_.exports,_me=9007199254740991,Sme=/^(?:0|[1-9]\d*)$/;function wme(t,e){var n=typeof t;return e=e??_me,!!e&&(n=="number"||n!="symbol"&&Sme.test(t))&&t>-1&&t%1==0&&t<e}var MN=wme,Eme=9007199254740991;function Mme(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Eme}var TN=Mme,Tme=fc,Ame=TN,Pme=dc,Cme="[object Arguments]",Ome="[object Array]",Rme="[object Boolean]",Ime="[object Date]",Nme="[object Error]",Dme="[object Function]",Lme="[object Map]",kme="[object Number]",Ume="[object Object]",Fme="[object RegExp]",jme="[object Set]",zme="[object String]",Bme="[object WeakMap]",$me="[object ArrayBuffer]",Vme="[object DataView]",Hme="[object Float32Array]",Gme="[object Float64Array]",Wme="[object Int8Array]",Xme="[object Int16Array]",qme="[object Int32Array]",Yme="[object Uint8Array]",Kme="[object Uint8ClampedArray]",Qme="[object Uint16Array]",Zme="[object Uint32Array]",Bn={};Bn[Hme]=Bn[Gme]=Bn[Wme]=Bn[Xme]=Bn[qme]=Bn[Yme]=Bn[Kme]=Bn[Qme]=Bn[Zme]=!0;Bn[Cme]=Bn[Ome]=Bn[$me]=Bn[Rme]=Bn[Vme]=Bn[Ime]=Bn[Nme]=Bn[Dme]=Bn[Lme]=Bn[kme]=Bn[Ume]=Bn[Fme]=Bn[jme]=Bn[zme]=Bn[Bme]=!1;function Jme(t){return Pme(t)&&Ame(t.length)&&!!Bn[Tme(t)]}var ege=Jme;function tge(t){return function(e){return t(e)}}var h9=tge,K_={exports:{}};K_.exports;(function(t,e){var n=bW,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(K_,K_.exports);var nge=K_.exports,rge=ege,ige=h9,PF=nge,CF=PF&&PF.isTypedArray,oge=CF?ige(CF):rge,p9=oge,age=cme,sge=EN,lge=To,cge=d9,uge=MN,fge=p9,dge=Object.prototype,hge=dge.hasOwnProperty;function pge(t,e){var n=lge(t),r=!n&&sge(t),i=!n&&!r&&cge(t),o=!n&&!r&&!i&&fge(t),a=n||r||i||o,s=a?age(t.length,String):[],l=s.length;for(var c in t)(e||hge.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||uge(c,l)))&&s.push(c);return s}var mge=pge,gge=Object.prototype;function vge(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||gge;return t===n}var yge=vge;function xge(t,e){return function(n){return t(e(n))}}var m9=xge,bge=m9,_ge=bge(Object.keys,Object),Sge=_ge,wge=yge,Ege=Sge,Mge=Object.prototype,Tge=Mge.hasOwnProperty;function Age(t){if(!wge(t))return Ege(t);var e=[];for(var n in Object(t))Tge.call(t,n)&&n!="constructor"&&e.push(n);return e}var Pge=Age,Cge=sN,Oge=TN;function Rge(t){return t!=null&&Oge(t.length)&&!Cge(t)}var N0=Rge,Ige=mge,Nge=Pge,Dge=N0;function Lge(t){return Dge(t)?Ige(t):Nge(t)}var NE=Lge,kge=Qpe,Uge=sme,Fge=NE;function jge(t){return kge(t,Fge,Uge)}var zge=jge,OF=zge,Bge=1,$ge=Object.prototype,Vge=$ge.hasOwnProperty;function Hge(t,e,n,r,i,o){var a=n&Bge,s=OF(t),l=s.length,c=OF(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:Vge.call(e,d)))return!1}var h=o.get(t),y=o.get(e);if(h&&y)return h==e&&y==t;var x=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){d=s[f];var m=t[d],_=e[d];if(r)var b=a?r(_,m,d,e,t,o):r(m,_,d,t,e,o);if(!(b===void 0?m===_||i(m,_,n,r,o):b)){x=!1;break}v||(v=d=="constructor")}if(x&&!v){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(x=!1)}return o.delete(t),o.delete(e),x}var Gge=Hge,Wge=jd,Xge=ol,qge=Wge(Xge,"DataView"),Yge=qge,Kge=jd,Qge=ol,Zge=Kge(Qge,"Promise"),Jge=Zge,eve=jd,tve=ol,nve=eve(tve,"Set"),g9=nve,rve=jd,ive=ol,ove=rve(ive,"WeakMap"),ave=ove,N2=Yge,D2=cN,L2=Jge,k2=g9,U2=ave,v9=fc,Hm=SW,RF="[object Map]",sve="[object Object]",IF="[object Promise]",NF="[object Set]",DF="[object WeakMap]",LF="[object DataView]",lve=Hm(N2),cve=Hm(D2),uve=Hm(L2),fve=Hm(k2),dve=Hm(U2),wf=v9;(N2&&wf(new N2(new ArrayBuffer(1)))!=LF||D2&&wf(new D2)!=RF||L2&&wf(L2.resolve())!=IF||k2&&wf(new k2)!=NF||U2&&wf(new U2)!=DF)&&(wf=function(t){var e=v9(t),n=e==sve?t.constructor:void 0,r=n?Hm(n):"";if(r)switch(r){case lve:return LF;case cve:return RF;case uve:return IF;case fve:return NF;case dve:return DF}return e});var hve=wf,IA=o9,pve=c9,mve=Wpe,gve=Gge,kF=hve,UF=To,FF=d9,vve=p9,yve=1,jF="[object Arguments]",zF="[object Array]",x1="[object Object]",xve=Object.prototype,BF=xve.hasOwnProperty;function bve(t,e,n,r,i,o){var a=UF(t),s=UF(e),l=a?zF:kF(t),c=s?zF:kF(e);l=l==jF?x1:l,c=c==jF?x1:c;var u=l==x1,f=c==x1,d=l==c;if(d&&FF(t)){if(!FF(e))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new IA),a||vve(t)?pve(t,e,n,r,i,o):mve(t,e,l,n,r,i,o);if(!(n&yve)){var h=u&&BF.call(t,"__wrapped__"),y=f&&BF.call(e,"__wrapped__");if(h||y){var x=h?t.value():t,v=y?e.value():e;return o||(o=new IA),i(x,v,n,r,o)}}return d?(o||(o=new IA),gve(t,e,n,r,i,o)):!1}var _ve=bve,Sve=_ve,$F=dc;function y9(t,e,n,r,i){return t===e?!0:t==null||e==null||!$F(t)&&!$F(e)?t!==t&&e!==e:Sve(t,e,n,r,y9,i)}var AN=y9,wve=o9,Eve=AN,Mve=1,Tve=2;function Ave(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new wve;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?Eve(u,c,Mve|Tve,r,f):d))return!1}}return!0}var Pve=Ave,Cve=Ru;function Ove(t){return t===t&&!Cve(t)}var x9=Ove,Rve=x9,Ive=NE;function Nve(t){for(var e=Ive(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rve(i)]}return e}var Dve=Nve;function Lve(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var b9=Lve,kve=Pve,Uve=Dve,Fve=b9;function jve(t){var e=Uve(t);return e.length==1&&e[0][2]?Fve(e[0][0],e[0][1]):function(n){return n===t||kve(n,t,e)}}var zve=jve;function Bve(t,e){return t!=null&&e in Object(t)}var $ve=Bve,Vve=AW,Hve=EN,Gve=To,Wve=MN,Xve=TN,qve=yE;function Yve(t,e,n){e=Vve(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=qve(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Xve(i)&&Wve(a,i)&&(Gve(t)||Hve(t)))}var Kve=Yve,Qve=$ve,Zve=Kve;function Jve(t,e){return t!=null&&Zve(t,e,Qve)}var eye=Jve,tye=AN,nye=PW,rye=eye,iye=aN,oye=x9,aye=b9,sye=yE,lye=1,cye=2;function uye(t,e){return iye(t)&&oye(e)?aye(sye(t),e):function(n){var r=nye(n,t);return r===void 0&&r===e?rye(n,t):tye(e,r,lye|cye)}}var fye=uye;function dye(t){return t}var Gm=dye;function hye(t){return function(e){return e==null?void 0:e[t]}}var pye=hye,mye=hN;function gye(t){return function(e){return mye(e,t)}}var vye=gye,yye=pye,xye=vye,bye=aN,_ye=yE;function Sye(t){return bye(t)?yye(_ye(t)):xye(t)}var wye=Sye,Eye=zve,Mye=fye,Tye=Gm,Aye=To,Pye=wye;function Cye(t){return typeof t=="function"?t:t==null?Tye:typeof t=="object"?Aye(t)?Mye(t[0],t[1]):Eye(t):Pye(t)}var al=Cye;function Oye(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var _9=Oye;function Rye(t){return t!==t}var Iye=Rye;function Nye(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Dye=Nye,Lye=_9,kye=Iye,Uye=Dye;function Fye(t,e,n){return e===e?Uye(t,e,n):Lye(t,kye,n)}var jye=Fye,zye=jye;function Bye(t,e){var n=t==null?0:t.length;return!!n&&zye(t,e,0)>-1}var $ye=Bye;function Vye(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Hye=Vye;function Gye(){}var Wye=Gye,NA=g9,Xye=Wye,qye=wN,Yye=1/0,Kye=NA&&1/qye(new NA([,-0]))[1]==Yye?function(t){return new NA(t)}:Xye,Qye=Kye,Zye=a9,Jye=$ye,e0e=Hye,t0e=l9,n0e=Qye,r0e=wN,i0e=200;function o0e(t,e,n){var r=-1,i=Jye,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=e0e;else if(o>=i0e){var c=e?null:n0e(t);if(c)return r0e(c);a=!1,i=t0e,l=new Zye}else l=e?[]:s;e:for(;++r<o;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,n)||(l!==s&&l.push(f),s.push(u))}return s}var a0e=o0e,s0e=al,l0e=a0e;function c0e(t,e){return t&&t.length?l0e(t,s0e(e)):[]}var u0e=c0e;const VF=yn(u0e);function S9(t,e,n){return e===!0?VF(t,n):Pt(e)?VF(t,e):t}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var f0e=["ref"];function HF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(n),!0).forEach(function(r){DE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E9(r.key),r)}}function h0e(t,e,n){return e&&GF(t.prototype,e),n&&GF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p0e(t,e,n){return e=Q_(e),m0e(t,w9()?Reflect.construct(e,n||[],Q_(t).constructor):e.apply(t,n))}function m0e(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g0e(t)}function g0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function Q_(t){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q_(t)}function v0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F2(t,e)}function F2(t,e){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F2(t,e)}function DE(t,e,n){return e=E9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E9(t){var e=y0e(t,"string");return Jp(e)=="symbol"?e:e+""}function y0e(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x0e(t,e){if(t==null)return{};var n=b0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _0e(t){return t.value}function S0e(t,e){if(oe.isValidElement(t))return oe.cloneElement(t,e);if(typeof t=="function")return oe.createElement(t,e);e.ref;var n=x0e(e,f0e);return oe.createElement(SN,n)}var WF=1,Cp=function(t){function e(){var n;d0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=p0e(this,e,[].concat(i)),DE(n,"lastBoundingBox",{width:-1,height:-1}),n}return v0e(e,t),h0e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>WF||Math.abs(i.height-this.lastBoundingBox.height)>WF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_l({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();d={top:((u||0)-y.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _l(_l({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=_l(_l({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return oe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},S0e(o,_l(_l({},this.props),{},{payload:S9(u,c,_0e)})))}}],[{key:"getWithHeight",value:function(r,i){var o=_l(_l({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Ke(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(I.PureComponent);DE(Cp,"displayName","Legend");DE(Cp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XF=I0,w0e=EN,E0e=To,qF=XF?XF.isConcatSpreadable:void 0;function M0e(t){return E0e(t)||w0e(t)||!!(qF&&t&&t[qF])}var T0e=M0e,A0e=u9,P0e=T0e;function M9(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=P0e),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?M9(s,e-1,n,r,i):A0e(i,s):r||(i[i.length]=s)}return i}var T9=M9;function C0e(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var O0e=C0e,R0e=O0e,I0e=R0e(),N0e=I0e,D0e=N0e,L0e=NE;function k0e(t,e){return t&&D0e(t,e,L0e)}var A9=k0e,U0e=N0;function F0e(t,e){return function(n,r){if(n==null)return n;if(!U0e(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var j0e=F0e,z0e=A9,B0e=j0e,$0e=B0e(z0e),PN=$0e,V0e=PN,H0e=N0;function G0e(t,e){var n=-1,r=H0e(t)?Array(t.length):[];return V0e(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var P9=G0e;function W0e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var X0e=W0e,YF=Um;function q0e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=YF(t),a=e!==void 0,s=e===null,l=e===e,c=YF(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Y0e=q0e,K0e=Y0e;function Q0e(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=K0e(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Z0e=Q0e,DA=dN,J0e=hN,exe=al,txe=P9,nxe=X0e,rxe=h9,ixe=Z0e,oxe=Gm,axe=To;function sxe(t,e,n){e.length?e=DA(e,function(o){return axe(o)?function(a){return J0e(a,o.length===1?o[0]:o)}:o}):e=[oxe];var r=-1;e=DA(e,rxe(exe));var i=txe(t,function(o,a,s){var l=DA(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return nxe(i,function(o,a){return ixe(o,a,n)})}var lxe=sxe;function cxe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var uxe=cxe,fxe=uxe,KF=Math.max;function dxe(t,e,n){return e=KF(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=KF(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),fxe(t,this,s)}}var hxe=dxe;function pxe(t){return function(){return t}}var mxe=pxe,gxe=jd,vxe=function(){try{var t=gxe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),C9=vxe,yxe=mxe,QF=C9,xxe=Gm,bxe=QF?function(t,e){return QF(t,"toString",{configurable:!0,enumerable:!1,value:yxe(e),writable:!0})}:xxe,_xe=bxe,Sxe=800,wxe=16,Exe=Date.now;function Mxe(t){var e=0,n=0;return function(){var r=Exe(),i=wxe-(r-n);if(n=r,i>0){if(++e>=Sxe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Txe=Mxe,Axe=_xe,Pxe=Txe,Cxe=Pxe(Axe),Oxe=Cxe,Rxe=Gm,Ixe=hxe,Nxe=Oxe;function Dxe(t,e){return Nxe(Ixe(t,e,Rxe),t+"")}var Lxe=Dxe,kxe=lN,Uxe=N0,Fxe=MN,jxe=Ru;function zxe(t,e,n){if(!jxe(n))return!1;var r=typeof e;return(r=="number"?Uxe(n)&&Fxe(e,n.length):r=="string"&&e in n)?kxe(n[e],t):!1}var LE=zxe,Bxe=T9,$xe=lxe,Vxe=Lxe,ZF=LE,Hxe=Vxe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ZF(t,e[0],e[1])?e=[]:n>2&&ZF(e[0],e[1],e[2])&&(e=[e[0]]),$xe(t,Bxe(e,1),[])}),Gxe=Hxe;const CN=yn(Gxe);function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(this,arguments)}function Wxe(t,e){return Kxe(t)||Yxe(t,e)||qxe(t,e)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return JF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JF(t,e)}}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Kxe(t){if(Array.isArray(t))return t}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){Qxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qxe(t,e,n){return e=Zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zxe(t){var e=Jxe(t,"string");return Sy(e)=="symbol"?e:e+""}function Jxe(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t){return Array.isArray(t)&&Vr(t[0])&&Vr(t[1])?t.join(" ~ "):t}var t1e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,y=e.labelClassName,x=e.label,v=e.labelFormatter,m=e.accessibilityLayer,_=m===void 0?!1:m,b=function(){if(u&&u.length){var L={padding:0,margin:0},j=(d?CN(u,d):u).map(function(U,H){if(U.type==="none")return null;var z=LA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),Q=U.formatter||f||e1e,k=U.value,B=U.name,W=k,$=B;if(Q&&W!=null&&$!=null){var Y=Q(k,B,U,H,u);if(Array.isArray(Y)){var J=Wxe(Y,2);W=J[0],$=J[1]}else W=Y}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:z},Vr($)?oe.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Vr($)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},W),oe.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:L},j)}return null},w=LA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=LA({margin:0},c),M=!It(x),A=M?x:"",P=Lt("recharts-default-tooltip",h),R=Lt("recharts-tooltip-label",y);M&&v&&u!==void 0&&u!==null&&(A=v(x,u));var O=_?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",j2({className:P,style:w},O),oe.createElement("p",{className:R,style:E},oe.isValidElement(A)?A:"".concat(A)),b())};function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function b1(t,e,n){return e=n1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n1e(t){var e=r1e(t,"string");return wy(e)=="symbol"?e:e+""}function r1e(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fg="recharts-tooltip-wrapper",i1e={visibility:"hidden"};function o1e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Lt(Fg,b1(b1(b1(b1({},"".concat(Fg,"-right"),Ke(n)&&e&&Ke(e.x)&&n>=e.x),"".concat(Fg,"-left"),Ke(n)&&e&&Ke(e.x)&&n<e.x),"".concat(Fg,"-bottom"),Ke(r)&&e&&Ke(e.y)&&r>=e.y),"".concat(Fg,"-top"),Ke(r)&&e&&Ke(e.y)&&r<e.y))}function tj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Ke(o[r]))return o[r];var u=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?u:f;if(a[r]){var d=u,h=l[r];return d<h?Math.max(f,l[r]):Math.max(u,l[r])}var y=f+s,x=l[r]+c;return y>x?Math.max(u,l[r]):Math.max(f,l[r])}function a1e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function s1e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return a.height>0&&a.width>0&&n?(u=tj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=tj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=a1e({translateX:u,translateY:f,useTranslate3d:s})):c=i1e,{cssProperties:c,cssClasses:o1e({translateX:u,translateY:f,coordinate:n})}}function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){B2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R9(r.key),r)}}function u1e(t,e,n){return e&&c1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f1e(t,e,n){return e=Z_(e),d1e(t,O9()?Reflect.construct(e,n||[],Z_(t).constructor):e.apply(t,n))}function d1e(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(t)}function h1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O9=function(){return!!t})()}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z_(t)}function p1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z2(t,e)}function z2(t,e){return z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z2(t,e)}function B2(t,e,n){return e=R9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9(t){var e=m1e(t,"string");return em(e)=="symbol"?e:e+""}function m1e(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ij=1,g1e=function(t){function e(){var n;l1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=f1e(this,e,[].concat(i)),B2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),B2(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return p1e(e,t),u1e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>ij||Math.abs(r.height-this.state.lastBoundingBox.height)>ij)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,y=i.position,x=i.reverseDirection,v=i.useTranslate3d,m=i.viewBox,_=i.wrapperStyle,b=s1e({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:h,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:m}),w=b.cssClasses,E=b.cssProperties,M=rj(rj({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return oe.createElement("div",{tabIndex:-1,className:w,style:M,ref:function(P){r.wrapperNode=P}},c)}}])}(I.PureComponent),v1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},is={isSsr:v1e(),get:function(e){return is[e]},set:function(e,n){if(typeof e=="string")is[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){is[i]=e[i]})}}};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){ON(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N9(r.key),r)}}function b1e(t,e,n){return e&&x1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _1e(t,e,n){return e=J_(e),S1e(t,I9()?Reflect.construct(e,n||[],J_(t).constructor):e.apply(t,n))}function S1e(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w1e(t)}function w1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!t})()}function J_(t){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J_(t)}function E1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$2(t,e)}function $2(t,e){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$2(t,e)}function ON(t,e,n){return e=N9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N9(t){var e=M1e(t,"string");return tm(e)=="symbol"?e:e+""}function M1e(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1e(t){return t.dataKey}function A1e(t,e){return oe.isValidElement(t)?oe.cloneElement(t,e):typeof t=="function"?oe.createElement(t,e):oe.createElement(t1e,e)}var ni=function(t){function e(){return y1e(this,e),_1e(this,e,arguments)}return E1e(e,t),b1e(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,y=i.payload,x=i.payloadUniqBy,v=i.position,m=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,E=y??[];f&&E.length&&(E=S9(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),x,T1e));var M=E.length>0;return oe.createElement(g1e,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:u,hasPayload:M,offset:h,position:v,reverseDirection:m,useTranslate3d:_,viewBox:b,wrapperStyle:w},A1e(c,aj(aj({},this.props),{},{payload:E})))}}])}(I.PureComponent);ON(ni,"displayName","Tooltip");ON(ni,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!is.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var P1e=ol,C1e=function(){return P1e.Date.now()},O1e=C1e,R1e=/\s/;function I1e(t){for(var e=t.length;e--&&R1e.test(t.charAt(e)););return e}var N1e=I1e,D1e=N1e,L1e=/^\s+/;function k1e(t){return t&&t.slice(0,D1e(t)+1).replace(L1e,"")}var U1e=k1e,F1e=U1e,sj=Ru,j1e=Um,lj=NaN,z1e=/^[-+]0x[0-9a-f]+$/i,B1e=/^0b[01]+$/i,$1e=/^0o[0-7]+$/i,V1e=parseInt;function H1e(t){if(typeof t=="number")return t;if(j1e(t))return lj;if(sj(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sj(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=F1e(t);var n=B1e.test(t);return n||$1e.test(t)?V1e(t.slice(2),n?2:8):z1e.test(t)?lj:+t}var D9=H1e,G1e=Ru,kA=O1e,cj=D9,W1e="Expected a function",X1e=Math.max,q1e=Math.min;function Y1e(t,e,n){var r,i,o,a,s,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(W1e);e=cj(e)||0,G1e(n)&&(u=!!n.leading,f="maxWait"in n,o=f?X1e(cj(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(M){var A=r,P=i;return r=i=void 0,c=M,a=t.apply(P,A),a}function y(M){return c=M,s=setTimeout(m,e),u?h(M):a}function x(M){var A=M-l,P=M-c,R=e-A;return f?q1e(R,o-P):R}function v(M){var A=M-l,P=M-c;return l===void 0||A>=e||A<0||f&&P>=o}function m(){var M=kA();if(v(M))return _(M);s=setTimeout(m,x(M))}function _(M){return s=void 0,d&&r?h(M):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function w(){return s===void 0?a:_(kA())}function E(){var M=kA(),A=v(M);if(r=arguments,i=this,l=M,A){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(m,e),h(l)}return s===void 0&&(s=setTimeout(m,e)),a}return E.cancel=b,E.flush=w,E}var K1e=Y1e,Q1e=K1e,Z1e=Ru,J1e="Expected a function";function ebe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(J1e);return Z1e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Q1e(t,e,{leading:r,maxWait:e,trailing:i})}var tbe=ebe;const L9=yn(tbe);function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(n),!0).forEach(function(r){nbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nbe(t,e,n){return e=rbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rbe(t){var e=ibe(t,"string");return Ey(e)=="symbol"?e:e+""}function ibe(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function obe(t,e){return cbe(t)||lbe(t,e)||sbe(t,e)||abe()}function abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){if(t){if(typeof t=="string")return fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(t,e)}}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function cbe(t){if(Array.isArray(t))return t}var Gl=I.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,h=t.children,y=t.debounce,x=y===void 0?0:y,v=t.id,m=t.className,_=t.onResize,b=t.style,w=b===void 0?{}:b,E=I.useRef(null),M=I.useRef();M.current=_,I.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var A=I.useState({containerWidth:i.width,containerHeight:i.height}),P=obe(A,2),R=P[0],O=P[1],N=I.useCallback(function(j,U){O(function(H){var z=Math.round(j),Q=Math.round(U);return H.containerWidth===z&&H.containerHeight===Q?H:{containerWidth:z,containerHeight:Q}})},[]);I.useEffect(function(){var j=function(B){var W,$=B[0].contentRect,Y=$.width,J=$.height;N(Y,J),(W=M.current)===null||W===void 0||W.call(M,Y,J)};x>0&&(j=L9(j,x,{trailing:!0,leading:!1}));var U=new ResizeObserver(j),H=E.current.getBoundingClientRect(),z=H.width,Q=H.height;return N(z,Q),U.observe(E.current),function(){U.disconnect()}},[N,x]);var L=I.useMemo(function(){var j=R.containerWidth,U=R.containerHeight;if(j<0||U<0)return null;rs(Lf(a)||Lf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),rs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Lf(a)?j:a,z=Lf(l)?U:l;n&&n>0&&(H?z=H/n:z&&(H=z*n),d&&z>d&&(z=d)),rs(H>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,z,a,l,u,f,n);var Q=!Array.isArray(h)&&Hl(h.type).endsWith("Chart");return oe.Children.map(h,function(k){return oe.isValidElement(k)?I.cloneElement(k,_1({width:H,height:z},Q?{style:_1({height:"100%",width:"100%",maxHeight:z,maxWidth:H},k.props.style)}:{})):k})},[n,h,l,d,f,u,R,a]);return oe.createElement("div",{id:v?"".concat(v):void 0,className:Lt("recharts-responsive-container",m),style:_1(_1({},w),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:E},L)}),wu=function(e){return null};wu.displayName="Cell";function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){ube(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ube(t,e,n){return e=fbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fbe(t){var e=dbe(t,"string");return My(e)=="symbol"?e:e+""}function dbe(t,e){if(My(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(My(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vh={widthCache:{},cacheCount:0},hbe=2e3,pbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hj="recharts_measurement_span";function mbe(t){var e=V2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Cv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||is.isSsr)return{width:0,height:0};var r=mbe(n),i=JSON.stringify({text:e,copyStyle:r});if(vh.widthCache[i])return vh.widthCache[i];try{var o=document.getElementById(hj);o||(o=document.createElement("span"),o.setAttribute("id",hj),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=V2(V2({},pbe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return vh.widthCache[i]=l,++vh.cacheCount>hbe&&(vh.cacheCount=0,vh.widthCache={}),l}catch{return{width:0,height:0}}},gbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function eS(t,e){return bbe(t)||xbe(t,e)||ybe(t,e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(t,e){if(t){if(typeof t=="string")return pj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pj(t,e)}}function pj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function bbe(t){if(Array.isArray(t))return t}function _be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wbe(r.key),r)}}function Sbe(t,e,n){return e&&mj(t.prototype,e),n&&mj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wbe(t){var e=Ebe(t,"string");return Ty(e)=="symbol"?e:e+""}function Ebe(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,k9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Abe=Object.keys(k9),op="NaN";function Pbe(t,e){return t*k9[e]}var S1=function(){function t(e,n){_be(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mbe.test(n)&&(this.num=NaN,this.unit=""),Abe.includes(n)&&(this.num=Pbe(e,n),this.unit="px")}return Sbe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Tbe.exec(n))!==null&&r!==void 0?r:[],o=eS(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function U9(t){if(t.includes(op))return op;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=gj.exec(e))!==null&&n!==void 0?n:[],i=eS(r,4),o=i[1],a=i[2],s=i[3],l=S1.parse(o??""),c=S1.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return op;e=e.replace(gj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=vj.exec(e))!==null&&f!==void 0?f:[],h=eS(d,4),y=h[1],x=h[2],v=h[3],m=S1.parse(y??""),_=S1.parse(v??""),b=x==="+"?m.add(_):m.subtract(_);if(b.isNaN())return op;e=e.replace(vj,b.toString())}return e}var yj=/\(([^()]*)\)/;function Cbe(t){for(var e=t;e.includes("(");){var n=yj.exec(e),r=eS(n,2),i=r[1];e=e.replace(yj,U9(i))}return e}function Obe(t){var e=t.replace(/\s+/g,"");return e=Cbe(e),e=U9(e),e}function Rbe(t){try{return Obe(t)}catch{return op}}function UA(t){var e=Rbe(t.slice(5,-1));return e===op?"":e}var Ibe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nbe=["dx","dy","angle","className","breakAll"];function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(this,arguments)}function xj(t,e){if(t==null)return{};var n=Dbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bj(t,e){return Fbe(t)||Ube(t,e)||kbe(t,e)||Lbe()}function Lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kbe(t,e){if(t){if(typeof t=="string")return _j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _j(t,e)}}function _j(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ube(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Fbe(t){if(Array.isArray(t))return t}var F9=/[ \f\n\r\t\v\u2028\u2029]+/,j9=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];It(n)||(r?o=n.toString().split(""):o=n.toString().split(F9));var a=o.map(function(l){return{word:l,width:Cv(l,i).width}}),s=r?0:Cv("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},jbe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=Ke(a),f=s,d=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(z,Q){var k=Q.word,B=Q.width,W=z[z.length-1];if(W&&(i==null||o||W.width+B+r<Number(i)))W.words.push(k),W.width+=B+r;else{var $={words:[k],width:B};z.push($)}return z},[])},h=d(n),y=function(H){return H.reduce(function(z,Q){return z.width>Q.width?z:Q})};if(!u)return h;for(var x="",v=function(H){var z=f.slice(0,H),Q=j9({breakAll:c,style:l,children:z+x}).wordsWithComputedWidth,k=d(Q),B=k.length>a||y(k).width>Number(i);return[B,k]},m=0,_=f.length-1,b=0,w;m<=_&&b<=f.length-1;){var E=Math.floor((m+_)/2),M=E-1,A=v(M),P=bj(A,2),R=P[0],O=P[1],N=v(E),L=bj(N,1),j=L[0];if(!R&&!j&&(m=E+1),R&&j&&(_=E-1),!R&&j){w=O;break}b++}return w||h},Sj=function(e){var n=It(e)?[]:e.toString().split(F9);return[{words:n}]},zbe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!is.isSsr){var l,c,u=j9({breakAll:a,children:i,style:o});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return Sj(i);return jbe({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return Sj(i)},wj="#808080",Ed=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,h=d===void 0?"start":d,y=e.verticalAnchor,x=y===void 0?"end":y,v=e.fill,m=v===void 0?wj:v,_=xj(e,Ibe),b=I.useMemo(function(){return zbe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),w=_.dx,E=_.dy,M=_.angle,A=_.className,P=_.breakAll,R=xj(_,Nbe);if(!Vr(r)||!Vr(o))return null;var O=r+(Ke(w)?w:0),N=o+(Ke(E)?E:0),L;switch(x){case"start":L=UA("calc(".concat(c,")"));break;case"middle":L=UA("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:L=UA("calc(".concat(b.length-1," * -").concat(s,")"));break}var j=[];if(f){var U=b[0].width,H=_.width;j.push("scale(".concat((Ke(H)?H/U:1)/U,")"))}return M&&j.push("rotate(".concat(M,", ").concat(O,", ").concat(N,")")),j.length&&(R.transform=j.join(" ")),oe.createElement("text",H2({},bt(R,!0),{x:O,y:N,className:Lt("recharts-text",A),textAnchor:h,fill:m.includes("url")?wj:m}),b.map(function(z,Q){var k=z.words.join(P?"":" ");return oe.createElement("tspan",{x:O,dy:Q===0?L:s,key:"".concat(k,"-").concat(Q)},k)}))};function mu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bbe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RN(t){let e,n,r;t.length!==2?(e=mu,n=(s,l)=>mu(t(s),l),r=(s,l)=>t(s)-l):(e=t===mu||t===Bbe?t:$be,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function $be(){return 0}function z9(t){return t===null?NaN:+t}function*Vbe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hbe=RN(mu),D0=Hbe.right;RN(z9).center;class Ej extends Map{constructor(e,n=Xbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Mj(this,e))}has(e){return super.has(Mj(this,e))}set(e,n){return super.set(Gbe(this,e),n)}delete(e){return super.delete(Wbe(this,e))}}function Mj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Gbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Wbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Xbe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qbe(t=mu){if(t===mu)return B9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function B9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ybe=Math.sqrt(50),Kbe=Math.sqrt(10),Qbe=Math.sqrt(2);function tS(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ybe?10:o>=Kbe?5:o>=Qbe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?tS(t,e,n*2):[s,l,c]}function G2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?tS(e,t,n):tS(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function W2(t,e,n){return e=+e,t=+t,n=+n,tS(t,e,n)[2]}function X2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?W2(e,t,n):W2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Tj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Aj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $9(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?B9:qbe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*f/l+d)),y=Math.min(r,Math.floor(e+(l-c)*f/l+d));$9(t,e,h,y,i)}const o=t[e];let a=n,s=r;for(jg(t,n,e),i(t[r],o)>0&&jg(t,n,r);a<s;){for(jg(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?jg(t,n,s):(++s,jg(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function jg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Zbe(t,e,n){if(t=Float64Array.from(Vbe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Aj(t);if(e>=1)return Tj(t);var r,i=(r-1)*e,o=Math.floor(i),a=Tj($9(t,o).subarray(0,o+1)),s=Aj(t.subarray(o+1));return a+(s-a)*(i-o)}}function Jbe(t,e,n=z9){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function e_e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ra(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function hc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const q2=Symbol("implicit");function IN(){var t=new Ej,e=[],n=[],r=q2;function i(o){let a=t.get(o);if(a===void 0){if(r!==q2)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ej;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return IN(e,n).unknown(r)},Ra.apply(i,arguments),i}function Ay(){var t=IN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<r,y=h?i:r,x=h?r:i;o=(x-y)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),y+=(x-y-o*(d-l))*u,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var v=e_e(d).map(function(m){return y+o*m});return n(h?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return Ay(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ra.apply(f(),arguments)}function V9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return V9(e())},t}function Ov(){return V9(Ay.apply(null,arguments).paddingInner(1))}function NN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function H9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function L0(){}var Py=.7,nS=1/Py,Op="\\s*([+-]?\\d+)\\s*",Cy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t_e=/^#([0-9a-f]{3,8})$/,n_e=new RegExp(`^rgb\\(${Op},${Op},${Op}\\)$`),r_e=new RegExp(`^rgb\\(${qs},${qs},${qs}\\)$`),i_e=new RegExp(`^rgba\\(${Op},${Op},${Op},${Cy}\\)$`),o_e=new RegExp(`^rgba\\(${qs},${qs},${qs},${Cy}\\)$`),a_e=new RegExp(`^hsl\\(${Cy},${qs},${qs}\\)$`),s_e=new RegExp(`^hsla\\(${Cy},${qs},${qs},${Cy}\\)$`),Pj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NN(L0,Oy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Cj,formatHex:Cj,formatHex8:l_e,formatHsl:c_e,formatRgb:Oj,toString:Oj});function Cj(){return this.rgb().formatHex()}function l_e(){return this.rgb().formatHex8()}function c_e(){return G9(this).formatHsl()}function Oj(){return this.rgb().formatRgb()}function Oy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=t_e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Rj(e):n===3?new _o(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?w1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?w1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=n_e.exec(t))?new _o(e[1],e[2],e[3],1):(e=r_e.exec(t))?new _o(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=i_e.exec(t))?w1(e[1],e[2],e[3],e[4]):(e=o_e.exec(t))?w1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=a_e.exec(t))?Dj(e[1],e[2]/100,e[3]/100,1):(e=s_e.exec(t))?Dj(e[1],e[2]/100,e[3]/100,e[4]):Pj.hasOwnProperty(t)?Rj(Pj[t]):t==="transparent"?new _o(NaN,NaN,NaN,0):null}function Rj(t){return new _o(t>>16&255,t>>8&255,t&255,1)}function w1(t,e,n,r){return r<=0&&(t=e=n=NaN),new _o(t,e,n,r)}function u_e(t){return t instanceof L0||(t=Oy(t)),t?(t=t.rgb(),new _o(t.r,t.g,t.b,t.opacity)):new _o}function Y2(t,e,n,r){return arguments.length===1?u_e(t):new _o(t,e,n,r??1)}function _o(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}NN(_o,Y2,H9(L0,{brighter(t){return t=t==null?nS:Math.pow(nS,t),new _o(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Py:Math.pow(Py,t),new _o(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _o(ed(this.r),ed(this.g),ed(this.b),rS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ij,formatHex:Ij,formatHex8:f_e,formatRgb:Nj,toString:Nj}));function Ij(){return`#${kf(this.r)}${kf(this.g)}${kf(this.b)}`}function f_e(){return`#${kf(this.r)}${kf(this.g)}${kf(this.b)}${kf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nj(){const t=rS(this.opacity);return`${t===1?"rgb(":"rgba("}${ed(this.r)}, ${ed(this.g)}, ${ed(this.b)}${t===1?")":`, ${t})`}`}function rS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ed(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kf(t){return t=ed(t),(t<16?"0":"")+t.toString(16)}function Dj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ka(t,e,n,r)}function G9(t){if(t instanceof Ka)return new Ka(t.h,t.s,t.l,t.opacity);if(t instanceof L0||(t=Oy(t)),!t)return new Ka;if(t instanceof Ka)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ka(a,s,l,t.opacity)}function d_e(t,e,n,r){return arguments.length===1?G9(t):new Ka(t,e,n,r??1)}function Ka(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}NN(Ka,d_e,H9(L0,{brighter(t){return t=t==null?nS:Math.pow(nS,t),new Ka(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Py:Math.pow(Py,t),new Ka(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _o(FA(t>=240?t-240:t+120,i,r),FA(t,i,r),FA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ka(Lj(this.h),E1(this.s),E1(this.l),rS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rS(this.opacity);return`${t===1?"hsl(":"hsla("}${Lj(this.h)}, ${E1(this.s)*100}%, ${E1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Lj(t){return t=(t||0)%360,t<0?t+360:t}function E1(t){return Math.max(0,Math.min(1,t||0))}function FA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const DN=t=>()=>t;function h_e(t,e){return function(n){return t+n*e}}function p_e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function m_e(t){return(t=+t)==1?W9:function(e,n){return n-e?p_e(e,n,t):DN(isNaN(e)?n:e)}}function W9(t,e){var n=e-t;return n?h_e(t,n):DN(isNaN(t)?e:t)}const kj=function t(e){var n=m_e(e);function r(i,o){var a=n((i=Y2(i)).r,(o=Y2(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=W9(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function g_e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function v_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function y_e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Wm(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function x_e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function iS(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function b_e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Wm(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var K2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jA=new RegExp(K2.source,"g");function __e(t){return function(){return t}}function S_e(t){return function(e){return t(e)+""}}function w_e(t,e){var n=K2.lastIndex=jA.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=K2.exec(t))&&(i=jA.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:iS(r,i)})),n=jA.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?S_e(l[0].x):__e(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Wm(t,e){var n=typeof e,r;return e==null||n==="boolean"?DN(e):(n==="number"?iS:n==="string"?(r=Oy(e))?(e=r,kj):w_e:e instanceof Oy?kj:e instanceof Date?x_e:v_e(e)?g_e:Array.isArray(e)?y_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?b_e:iS)(t,e)}function LN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function E_e(t,e){e===void 0&&(e=t,t=Wm);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function M_e(t){return function(){return t}}function oS(t){return+t}var Uj=[0,1];function ro(t){return t}function Q2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:M_e(isNaN(e)?NaN:.5)}function T_e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function A_e(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Q2(i,r),o=n(a,o)):(r=Q2(r,i),o=n(o,a)),function(s){return o(r(s))}}function P_e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Q2(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=D0(t,s,1,r)-1;return o[l](i[l](s))}}function k0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kE(){var t=Uj,e=Uj,n=Wm,r,i,o,a=ro,s,l,c;function u(){var d=Math.min(t.length,e.length);return a!==ro&&(a=T_e(t[0],t[d-1])),s=d>2?P_e:A_e,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((c||(c=s(e,t.map(r),iS)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,oS),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=LN,u()},f.clamp=function(d){return arguments.length?(a=d?!0:ro,u()):a!==ro},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,u()}}function kN(){return kE()(ro,ro)}function C_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function aS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nm(t){return t=aS(Math.abs(t)),t?t[1]:NaN}function O_e(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function R_e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var I_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ry(t){if(!(e=I_e.exec(t)))throw new Error("invalid format: "+t);var e;return new UN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ry.prototype=UN.prototype;function UN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}UN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N_e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var X9;function D_e(t,e){var n=aS(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(X9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+aS(t,Math.max(0,e+o-1))[0]}function Fj(t,e){var n=aS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:C_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Fj(t*100,e),r:Fj,s:D_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zj(t){return t}var Bj=Array.prototype.map,$j=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function L_e(t){var e=t.grouping===void 0||t.thousands===void 0?zj:O_e(Bj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?zj:R_e(Bj.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ry(f);var d=f.fill,h=f.align,y=f.sign,x=f.symbol,v=f.zero,m=f.width,_=f.comma,b=f.precision,w=f.trim,E=f.type;E==="n"?(_=!0,E="g"):jj[E]||(b===void 0&&(b=12),w=!0,E="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var M=x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",A=x==="$"?r:/[%p]/.test(E)?a:"",P=jj[E],R=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(N){var L=M,j=A,U,H,z;if(E==="c")j=P(N)+j,N="";else{N=+N;var Q=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),b),w&&(N=N_e(N)),Q&&+N==0&&y!=="+"&&(Q=!1),L=(Q?y==="("?y:s:y==="-"||y==="("?"":y)+L,j=(E==="s"?$j[8+X9/3]:"")+j+(Q&&y==="("?")":""),R){for(U=-1,H=N.length;++U<H;)if(z=N.charCodeAt(U),48>z||z>57){j=(z===46?i+N.slice(U+1):N.slice(U))+j,N=N.slice(0,U);break}}}_&&!v&&(N=e(N,1/0));var k=L.length+N.length+j.length,B=k<m?new Array(m-k+1).join(d):"";switch(_&&v&&(N=e(B+N,B.length?m-j.length:1/0),B=""),h){case"<":N=L+N+j+B;break;case"=":N=L+B+N+j;break;case"^":N=B.slice(0,k=B.length>>1)+L+N+j+B.slice(k);break;default:N=B+L+N+j;break}return o(N)}return O.toString=function(){return f+""},O}function u(f,d){var h=c((f=Ry(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(nm(d)/3)))*3,x=Math.pow(10,-y),v=$j[8+y/3];return function(m){return h(x*m)+v}}return{format:c,formatPrefix:u}}var M1,FN,q9;k_e({thousands:",",grouping:[3],currency:["$",""]});function k_e(t){return M1=L_e(t),FN=M1.format,q9=M1.formatPrefix,M1}function U_e(t){return Math.max(0,-nm(Math.abs(t)))}function F_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nm(e)/3)))*3-nm(Math.abs(t)))}function j_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nm(e)-nm(t))+1}function Y9(t,e,n,r){var i=X2(t,e,n),o;switch(r=Ry(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=F_e(i,a))&&(r.precision=o),q9(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=j_e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=U_e(i))&&(r.precision=o-(r.type==="%")*2);break}}return FN(r)}function Iu(t){var e=t.domain;return t.ticks=function(n){var r=e();return G2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Y9(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=W2(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function sS(){var t=kN();return t.copy=function(){return k0(t,sS())},Ra.apply(t,arguments),Iu(t)}function K9(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,oS),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return K9(t).unknown(e)},t=arguments.length?Array.from(t,oS):[0,1],Iu(n)}function Q9(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Vj(t){return Math.log(t)}function Hj(t){return Math.exp(t)}function z_e(t){return-Math.log(-t)}function B_e(t){return-Math.exp(-t)}function $_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function V_e(t){return t===10?$_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function H_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Gj(t){return(e,n)=>-t(-e,n)}function jN(t){const e=t(Vj,Hj),n=e.domain;let r=10,i,o;function a(){return i=H_e(r),o=V_e(r),n()[0]<0?(i=Gj(i),o=Gj(o),t(z_e,B_e)):t(Vj,Hj),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),y,x;const v=s==null?10:+s;let m=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(y=1;y<r;++y)if(x=d<0?y/o(-d):y*o(d),!(x<c)){if(x>u)break;m.push(x)}}else for(;d<=h;++d)for(y=r-1;y>=1;--y)if(x=d>0?y/o(-d):y*o(d),!(x<c)){if(x>u)break;m.push(x)}m.length*2<v&&(m=G2(c,u,v))}else m=G2(d,h,Math.min(h-d,v)).map(o);return f?m.reverse():m},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ry(l)).precision==null&&(l.trim=!0),l=FN(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(Q9(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Z9(){const t=jN(kE()).domain([1,10]);return t.copy=()=>k0(t,Z9()).base(t.base()),Ra.apply(t,arguments),t}function Wj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Xj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zN(t){var e=1,n=t(Wj(e),Xj(e));return n.constant=function(r){return arguments.length?t(Wj(e=+r),Xj(e)):e},Iu(n)}function J9(){var t=zN(kE());return t.copy=function(){return k0(t,J9()).constant(t.constant())},Ra.apply(t,arguments)}function qj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function G_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function W_e(t){return t<0?-t*t:t*t}function BN(t){var e=t(ro,ro),n=1;function r(){return n===1?t(ro,ro):n===.5?t(G_e,W_e):t(qj(n),qj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Iu(e)}function $N(){var t=BN(kE());return t.copy=function(){return k0(t,$N()).exponent(t.exponent())},Ra.apply(t,arguments),t}function X_e(){return $N.apply(null,arguments).exponent(.5)}function Yj(t){return Math.sign(t)*t*t}function q_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function e7(){var t=kN(),e=[0,1],n=!1,r;function i(o){var a=q_e(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(Yj(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,oS)).map(Yj)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return e7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ra.apply(i,arguments),Iu(i)}function t7(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Jbe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[D0(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(mu),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return t7().domain(t).range(e).unknown(r)},Ra.apply(o,arguments)}function n7(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[D0(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return n7().domain([t,e]).range(i).unknown(o)},Ra.apply(Iu(a),arguments)}function r7(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[D0(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return r7().domain(t).range(e).unknown(n)},Ra.apply(i,arguments)}const zA=new Date,BA=new Date;function Xr(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>Xr(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(zA.setTime(+o),BA.setTime(+a),t(zA),t(BA),Math.floor(n(zA,BA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const lS=Xr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):lS);lS.range;const jl=1e3,_a=jl*60,zl=_a*60,rc=zl*24,VN=rc*7,Kj=rc*30,$A=rc*365,Uf=Xr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*jl)},(t,e)=>(e-t)/jl,t=>t.getUTCSeconds());Uf.range;const HN=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jl)},(t,e)=>{t.setTime(+t+e*_a)},(t,e)=>(e-t)/_a,t=>t.getMinutes());HN.range;const GN=Xr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_a)},(t,e)=>(e-t)/_a,t=>t.getUTCMinutes());GN.range;const WN=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jl-t.getMinutes()*_a)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getHours());WN.range;const XN=Xr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getUTCHours());XN.range;const U0=Xr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_a)/rc,t=>t.getDate()-1);U0.range;const UE=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rc,t=>t.getUTCDate()-1);UE.range;const i7=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rc,t=>Math.floor(t/rc));i7.range;function Bd(t){return Xr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_a)/VN)}const FE=Bd(0),cS=Bd(1),Y_e=Bd(2),K_e=Bd(3),rm=Bd(4),Q_e=Bd(5),Z_e=Bd(6);FE.range;cS.range;Y_e.range;K_e.range;rm.range;Q_e.range;Z_e.range;function $d(t){return Xr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/VN)}const jE=$d(0),uS=$d(1),J_e=$d(2),eSe=$d(3),im=$d(4),tSe=$d(5),nSe=$d(6);jE.range;uS.range;J_e.range;eSe.range;im.range;tSe.range;nSe.range;const qN=Xr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());qN.range;const YN=Xr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YN.range;const ic=Xr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ic.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ic.range;const oc=Xr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oc.range;function o7(t,e,n,r,i,o){const a=[[Uf,1,jl],[Uf,5,5*jl],[Uf,15,15*jl],[Uf,30,30*jl],[o,1,_a],[o,5,5*_a],[o,15,15*_a],[o,30,30*_a],[i,1,zl],[i,3,3*zl],[i,6,6*zl],[i,12,12*zl],[r,1,rc],[r,2,2*rc],[n,1,VN],[e,1,Kj],[e,3,3*Kj],[t,1,$A]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),y=h?h.range(c,+u+1):[];return d?y.reverse():y}function l(c,u,f){const d=Math.abs(u-c)/f,h=RN(([,,v])=>v).right(a,d);if(h===a.length)return t.every(X2(c/$A,u/$A,f));if(h===0)return lS.every(Math.max(X2(c,u,f),1));const[y,x]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return y.every(x)}return[s,l]}const[rSe,iSe]=o7(oc,YN,jE,i7,XN,GN),[oSe,aSe]=o7(ic,qN,FE,U0,WN,HN);function VA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function HA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sSe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Bg(i),u=$g(i),f=Bg(o),d=$g(o),h=Bg(a),y=$g(a),x=Bg(s),v=$g(s),m=Bg(l),_=$g(l),b={a:Q,A:k,b:B,B:W,c:null,d:nz,e:nz,f:OSe,g:zSe,G:$Se,H:ASe,I:PSe,j:CSe,L:a7,m:RSe,M:ISe,p:$,q:Y,Q:oz,s:az,S:NSe,u:DSe,U:LSe,V:kSe,w:USe,W:FSe,x:null,X:null,y:jSe,Y:BSe,Z:VSe,"%":iz},w={a:J,A:X,b:te,B:ie,c:null,d:rz,e:rz,f:XSe,g:rwe,G:owe,H:HSe,I:GSe,j:WSe,L:l7,m:qSe,M:YSe,p:ee,q:le,Q:oz,s:az,S:KSe,u:QSe,U:ZSe,V:JSe,w:ewe,W:twe,x:null,X:null,y:nwe,Y:iwe,Z:awe,"%":iz},E={a:O,A:N,b:L,B:j,c:U,d:ez,e:ez,f:wSe,g:Jj,G:Zj,H:tz,I:tz,j:xSe,L:SSe,m:ySe,M:bSe,p:R,q:vSe,Q:MSe,s:TSe,S:_Se,u:dSe,U:hSe,V:pSe,w:fSe,W:mSe,x:H,X:z,y:Jj,Y:Zj,Z:gSe,"%":ESe};b.x=M(n,b),b.X=M(r,b),b.c=M(e,b),w.x=M(n,w),w.X=M(r,w),w.c=M(e,w);function M(ue,he){return function(fe){var K=[],de=-1,q=0,Pe=ue.length,be,Re,me;for(fe instanceof Date||(fe=new Date(+fe));++de<Pe;)ue.charCodeAt(de)===37&&(K.push(ue.slice(q,de)),(Re=Qj[be=ue.charAt(++de)])!=null?be=ue.charAt(++de):Re=be==="e"?" ":"0",(me=he[be])&&(be=me(fe,Re)),K.push(be),q=de+1);return K.push(ue.slice(q,de)),K.join("")}}function A(ue,he){return function(fe){var K=zg(1900,void 0,1),de=P(K,ue,fe+="",0),q,Pe;if(de!=fe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(he&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(q=HA(zg(K.y,0,1)),Pe=q.getUTCDay(),q=Pe>4||Pe===0?uS.ceil(q):uS(q),q=UE.offset(q,(K.V-1)*7),K.y=q.getUTCFullYear(),K.m=q.getUTCMonth(),K.d=q.getUTCDate()+(K.w+6)%7):(q=VA(zg(K.y,0,1)),Pe=q.getDay(),q=Pe>4||Pe===0?cS.ceil(q):cS(q),q=U0.offset(q,(K.V-1)*7),K.y=q.getFullYear(),K.m=q.getMonth(),K.d=q.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Pe="Z"in K?HA(zg(K.y,0,1)).getUTCDay():VA(zg(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Pe+5)%7:K.w+K.U*7-(Pe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,HA(K)):VA(K)}}function P(ue,he,fe,K){for(var de=0,q=he.length,Pe=fe.length,be,Re;de<q;){if(K>=Pe)return-1;if(be=he.charCodeAt(de++),be===37){if(be=he.charAt(de++),Re=E[be in Qj?he.charAt(de++):be],!Re||(K=Re(ue,fe,K))<0)return-1}else if(be!=fe.charCodeAt(K++))return-1}return K}function R(ue,he,fe){var K=c.exec(he.slice(fe));return K?(ue.p=u.get(K[0].toLowerCase()),fe+K[0].length):-1}function O(ue,he,fe){var K=h.exec(he.slice(fe));return K?(ue.w=y.get(K[0].toLowerCase()),fe+K[0].length):-1}function N(ue,he,fe){var K=f.exec(he.slice(fe));return K?(ue.w=d.get(K[0].toLowerCase()),fe+K[0].length):-1}function L(ue,he,fe){var K=m.exec(he.slice(fe));return K?(ue.m=_.get(K[0].toLowerCase()),fe+K[0].length):-1}function j(ue,he,fe){var K=x.exec(he.slice(fe));return K?(ue.m=v.get(K[0].toLowerCase()),fe+K[0].length):-1}function U(ue,he,fe){return P(ue,e,he,fe)}function H(ue,he,fe){return P(ue,n,he,fe)}function z(ue,he,fe){return P(ue,r,he,fe)}function Q(ue){return a[ue.getDay()]}function k(ue){return o[ue.getDay()]}function B(ue){return l[ue.getMonth()]}function W(ue){return s[ue.getMonth()]}function $(ue){return i[+(ue.getHours()>=12)]}function Y(ue){return 1+~~(ue.getMonth()/3)}function J(ue){return a[ue.getUTCDay()]}function X(ue){return o[ue.getUTCDay()]}function te(ue){return l[ue.getUTCMonth()]}function ie(ue){return s[ue.getUTCMonth()]}function ee(ue){return i[+(ue.getUTCHours()>=12)]}function le(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var he=M(ue+="",b);return he.toString=function(){return ue},he},parse:function(ue){var he=A(ue+="",!1);return he.toString=function(){return ue},he},utcFormat:function(ue){var he=M(ue+="",w);return he.toString=function(){return ue},he},utcParse:function(ue){var he=A(ue+="",!0);return he.toString=function(){return ue},he}}}var Qj={"-":"",_:" ",0:"0"},ai=/^\s*\d+/,lSe=/^%/,cSe=/[\\^$*+?|[\]().{}]/g;function vn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function uSe(t){return t.replace(cSe,"\\$&")}function Bg(t){return new RegExp("^(?:"+t.map(uSe).join("|")+")","i")}function $g(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fSe(t,e,n){var r=ai.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dSe(t,e,n){var r=ai.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hSe(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pSe(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mSe(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Zj(t,e,n){var r=ai.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jj(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gSe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vSe(t,e,n){var r=ai.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ySe(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ez(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xSe(t,e,n){var r=ai.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tz(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bSe(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _Se(t,e,n){var r=ai.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function SSe(t,e,n){var r=ai.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wSe(t,e,n){var r=ai.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ESe(t,e,n){var r=lSe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function MSe(t,e,n){var r=ai.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function TSe(t,e,n){var r=ai.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nz(t,e){return vn(t.getDate(),e,2)}function ASe(t,e){return vn(t.getHours(),e,2)}function PSe(t,e){return vn(t.getHours()%12||12,e,2)}function CSe(t,e){return vn(1+U0.count(ic(t),t),e,3)}function a7(t,e){return vn(t.getMilliseconds(),e,3)}function OSe(t,e){return a7(t,e)+"000"}function RSe(t,e){return vn(t.getMonth()+1,e,2)}function ISe(t,e){return vn(t.getMinutes(),e,2)}function NSe(t,e){return vn(t.getSeconds(),e,2)}function DSe(t){var e=t.getDay();return e===0?7:e}function LSe(t,e){return vn(FE.count(ic(t)-1,t),e,2)}function s7(t){var e=t.getDay();return e>=4||e===0?rm(t):rm.ceil(t)}function kSe(t,e){return t=s7(t),vn(rm.count(ic(t),t)+(ic(t).getDay()===4),e,2)}function USe(t){return t.getDay()}function FSe(t,e){return vn(cS.count(ic(t)-1,t),e,2)}function jSe(t,e){return vn(t.getFullYear()%100,e,2)}function zSe(t,e){return t=s7(t),vn(t.getFullYear()%100,e,2)}function BSe(t,e){return vn(t.getFullYear()%1e4,e,4)}function $Se(t,e){var n=t.getDay();return t=n>=4||n===0?rm(t):rm.ceil(t),vn(t.getFullYear()%1e4,e,4)}function VSe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vn(e/60|0,"0",2)+vn(e%60,"0",2)}function rz(t,e){return vn(t.getUTCDate(),e,2)}function HSe(t,e){return vn(t.getUTCHours(),e,2)}function GSe(t,e){return vn(t.getUTCHours()%12||12,e,2)}function WSe(t,e){return vn(1+UE.count(oc(t),t),e,3)}function l7(t,e){return vn(t.getUTCMilliseconds(),e,3)}function XSe(t,e){return l7(t,e)+"000"}function qSe(t,e){return vn(t.getUTCMonth()+1,e,2)}function YSe(t,e){return vn(t.getUTCMinutes(),e,2)}function KSe(t,e){return vn(t.getUTCSeconds(),e,2)}function QSe(t){var e=t.getUTCDay();return e===0?7:e}function ZSe(t,e){return vn(jE.count(oc(t)-1,t),e,2)}function c7(t){var e=t.getUTCDay();return e>=4||e===0?im(t):im.ceil(t)}function JSe(t,e){return t=c7(t),vn(im.count(oc(t),t)+(oc(t).getUTCDay()===4),e,2)}function ewe(t){return t.getUTCDay()}function twe(t,e){return vn(uS.count(oc(t)-1,t),e,2)}function nwe(t,e){return vn(t.getUTCFullYear()%100,e,2)}function rwe(t,e){return t=c7(t),vn(t.getUTCFullYear()%100,e,2)}function iwe(t,e){return vn(t.getUTCFullYear()%1e4,e,4)}function owe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?im(t):im.ceil(t),vn(t.getUTCFullYear()%1e4,e,4)}function awe(){return"+0000"}function iz(){return"%"}function oz(t){return+t}function az(t){return Math.floor(+t/1e3)}var yh,u7,f7;swe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function swe(t){return yh=sSe(t),u7=yh.format,yh.parse,f7=yh.utcFormat,yh.utcParse,yh}function lwe(t){return new Date(t)}function cwe(t){return t instanceof Date?+t:+new Date(+t)}function KN(t,e,n,r,i,o,a,s,l,c){var u=kN(),f=u.invert,d=u.domain,h=c(".%L"),y=c(":%S"),x=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),_=c("%b %d"),b=c("%B"),w=c("%Y");function E(M){return(l(M)<M?h:s(M)<M?y:a(M)<M?x:o(M)<M?v:r(M)<M?i(M)<M?m:_:n(M)<M?b:w)(M)}return u.invert=function(M){return new Date(f(M))},u.domain=function(M){return arguments.length?d(Array.from(M,cwe)):d().map(lwe)},u.ticks=function(M){var A=d();return t(A[0],A[A.length-1],M??10)},u.tickFormat=function(M,A){return A==null?E:c(A)},u.nice=function(M){var A=d();return(!M||typeof M.range!="function")&&(M=e(A[0],A[A.length-1],M??10)),M?d(Q9(A,M)):u},u.copy=function(){return k0(u,KN(t,e,n,r,i,o,a,s,l,c))},u}function uwe(){return Ra.apply(KN(oSe,aSe,ic,qN,FE,U0,WN,HN,Uf,u7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fwe(){return Ra.apply(KN(rSe,iSe,oc,YN,jE,UE,XN,GN,Uf,f7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zE(){var t=0,e=1,n,r,i,o,a=ro,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(d){var h,y;return arguments.length?([h,y]=d,a=f(h,y),c):[a(0),a(1)]}}return c.range=u(Wm),c.rangeRound=u(LN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Nu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function d7(){var t=Iu(zE()(ro));return t.copy=function(){return Nu(t,d7())},hc.apply(t,arguments)}function h7(){var t=jN(zE()).domain([1,10]);return t.copy=function(){return Nu(t,h7()).base(t.base())},hc.apply(t,arguments)}function p7(){var t=zN(zE());return t.copy=function(){return Nu(t,p7()).constant(t.constant())},hc.apply(t,arguments)}function QN(){var t=BN(zE());return t.copy=function(){return Nu(t,QN()).exponent(t.exponent())},hc.apply(t,arguments)}function dwe(){return QN.apply(null,arguments).exponent(.5)}function m7(){var t=[],e=ro;function n(r){if(r!=null&&!isNaN(r=+r))return e((D0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(mu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Zbe(t,o/r))},n.copy=function(){return m7(e).domain(t)},hc.apply(n,arguments)}function BE(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=ro,u,f=!1,d;function h(x){return isNaN(x=+x)?d:(x=.5+((x=+u(x))-o)*(r*x<r*o?s:l),c(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(c=x,h):c};function y(x){return function(v){var m,_,b;return arguments.length?([m,_,b]=v,c=E_e(x,[m,_,b]),h):[c(0),c(.5),c(1)]}}return h.range=y(Wm),h.rangeRound=y(LN),h.unknown=function(x){return arguments.length?(d=x,h):d},function(x){return u=x,i=x(t),o=x(e),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function g7(){var t=Iu(BE()(ro));return t.copy=function(){return Nu(t,g7())},hc.apply(t,arguments)}function v7(){var t=jN(BE()).domain([.1,1,10]);return t.copy=function(){return Nu(t,v7()).base(t.base())},hc.apply(t,arguments)}function y7(){var t=zN(BE());return t.copy=function(){return Nu(t,y7()).constant(t.constant())},hc.apply(t,arguments)}function ZN(){var t=BN(BE());return t.copy=function(){return Nu(t,ZN()).exponent(t.exponent())},hc.apply(t,arguments)}function hwe(){return ZN.apply(null,arguments).exponent(.5)}const sz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ay,scaleDiverging:g7,scaleDivergingLog:v7,scaleDivergingPow:ZN,scaleDivergingSqrt:hwe,scaleDivergingSymlog:y7,scaleIdentity:K9,scaleImplicit:q2,scaleLinear:sS,scaleLog:Z9,scaleOrdinal:IN,scalePoint:Ov,scalePow:$N,scaleQuantile:t7,scaleQuantize:n7,scaleRadial:e7,scaleSequential:d7,scaleSequentialLog:h7,scaleSequentialPow:QN,scaleSequentialQuantile:m7,scaleSequentialSqrt:dwe,scaleSequentialSymlog:p7,scaleSqrt:X_e,scaleSymlog:J9,scaleThreshold:r7,scaleTime:uwe,scaleUtc:fwe,tickFormat:Y9},Symbol.toStringTag,{value:"Module"}));var pwe=Um;function mwe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!pwe(a):n(a,s)))var s=a,l=o}return l}var $E=mwe;function gwe(t,e){return t>e}var x7=gwe,vwe=$E,ywe=x7,xwe=Gm;function bwe(t){return t&&t.length?vwe(t,xwe,ywe):void 0}var _we=bwe;const iu=yn(_we);function Swe(t,e){return t<e}var b7=Swe,wwe=$E,Ewe=b7,Mwe=Gm;function Twe(t){return t&&t.length?wwe(t,Mwe,Ewe):void 0}var Awe=Twe;const VE=yn(Awe);var Pwe=dN,Cwe=al,Owe=P9,Rwe=To;function Iwe(t,e){var n=Rwe(t)?Pwe:Owe;return n(t,Cwe(e))}var Nwe=Iwe,Dwe=T9,Lwe=Nwe;function kwe(t,e){return Dwe(Lwe(t,e),1)}var Uwe=kwe;const Fwe=yn(Uwe);var jwe=AN;function zwe(t,e){return jwe(t,e)}var Bwe=zwe;const Md=yn(Bwe);var Xm=1e9,$we={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eD,Kn=!0,Aa="[DecimalError] ",td=Aa+"Invalid argument: ",JN=Aa+"Exponent out of range: ",qm=Math.floor,Ef=Math.pow,Vwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ho,ei=1e7,Vn=7,_7=9007199254740991,fS=qm(_7/Vn),ft={};ft.absoluteValue=ft.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ft.comparedTo=ft.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Vn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(t){return Wl(this,new this.constructor(t))};ft.dividedToIntegerBy=ft.idiv=function(t){var e=this,n=e.constructor;return Rn(Wl(e,new n(t),0,1),n.precision)};ft.equals=ft.eq=function(t){return!this.cmp(t)};ft.exponent=function(){return Rr(this)};ft.greaterThan=ft.gt=function(t){return this.cmp(t)>0};ft.greaterThanOrEqualTo=ft.gte=function(t){return this.cmp(t)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(t){return this.cmp(t)<0};ft.lessThanOrEqualTo=ft.lte=function(t){return this.cmp(t)<1};ft.logarithm=ft.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ho))throw Error(Aa+"NaN");if(n.s<1)throw Error(Aa+(n.s?"NaN":"-Infinity"));return n.eq(Ho)?new r(0):(Kn=!1,e=Wl(Iy(n,o),Iy(t,o),o),Kn=!0,Rn(e,i))};ft.minus=ft.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E7(e,t):S7(e,(t.s=-t.s,t))};ft.modulo=ft.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Aa+"NaN");return n.s?(Kn=!1,e=Wl(n,t,0,1).times(t),Kn=!0,n.minus(e)):Rn(new r(n),i)};ft.naturalExponential=ft.exp=function(){return w7(this)};ft.naturalLogarithm=ft.ln=function(){return Iy(this)};ft.negated=ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ft.plus=ft.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S7(e,t):E7(e,(t.s=-t.s,t))};ft.precision=ft.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(td+t);if(e=Rr(i)+1,r=i.d.length-1,n=r*Vn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ft.squareRoot=ft.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Aa+"NaN")}for(t=Rr(s),Kn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=js(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Wl(s,o,a+2)).times(.5),js(o.d).slice(0,a)===(e=js(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Rn(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Kn=!0,Rn(r,n)};ft.times=ft.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=h.length,l<c&&(o=d,d=h,h=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+e,o[i--]=s%ei|0,e=s/ei|0;o[i]=(o[i]+e)%ei|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Kn?Rn(t,f.precision):t};ft.toDecimalPlaces=ft.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(tl(t,0,Xm),e===void 0?e=r.rounding:tl(e,0,8),Rn(n,t+Rr(n)+1,e))};ft.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Td(r,!0):(tl(t,0,Xm),e===void 0?e=i.rounding:tl(e,0,8),r=Rn(new i(r),t+1,e),n=Td(r,!0,t+1)),n};ft.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Td(i):(tl(t,0,Xm),e===void 0?e=o.rounding:tl(e,0,8),r=Rn(new o(i),t+Rr(i)+1,e),n=Td(r.abs(),!1,t+Rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var t=this,e=t.constructor;return Rn(new e(t),Rr(t)+1,e.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ho);if(s=new l(s),!s.s){if(t.s<1)throw Error(Aa+"Infinity");return s}if(s.eq(Ho))return s;if(r=l.precision,t.eq(Ho))return Rn(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=_7){for(i=new l(Ho),e=Math.ceil(r/Vn+4),Kn=!1;n%2&&(i=i.times(s),cz(i.d,e)),n=qm(n/2),n!==0;)s=s.times(s),cz(s.d,e);return Kn=!0,t.s<0?new l(Ho).div(i):Rn(i,r)}}else if(o<0)throw Error(Aa+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Kn=!1,i=t.times(Iy(s,r+c)),Kn=!0,i=w7(i),i.s=o,i};ft.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Rr(i),r=Td(i,n<=o.toExpNeg||n>=o.toExpPos)):(tl(t,1,Xm),e===void 0?e=o.rounding:tl(e,0,8),i=Rn(new o(i),t,e),n=Rr(i),r=Td(i,t<=n||n<=o.toExpNeg,t)),r};ft.toSignificantDigits=ft.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(tl(t,1,Xm),e===void 0?e=r.rounding:tl(e,0,8)),Rn(new r(n),t,e)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rr(t),n=t.constructor;return Td(t,e<=n.toExpNeg||e>=n.toExpPos)};function S7(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Kn?Rn(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/Vn),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/ei|0,l[o]%=ei;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Kn?Rn(e,f):e}function tl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(td+t)}function js(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Vn-r.length,n&&(o+=Hc(n)),o+=r;a=t[e],r=a+"",n=Vn-r.length,n&&(o+=Hc(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Wl=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%ei|0,a=o/ei|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*ei+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,f,d,h,y,x,v,m,_,b,w,E,M,A,P,R=r.constructor,O=r.s==i.s?1:-1,N=r.d,L=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Aa+"Division by zero");for(l=r.e-i.e,A=L.length,E=N.length,h=new R(O),y=h.d=[],c=0;L[c]==(N[c]||0);)++c;if(L[c]>(N[c]||0)&&--l,o==null?_=o=R.precision:a?_=o+(Rr(r)-Rr(i))+1:_=o,_<0)return new R(0);if(_=_/Vn+2|0,c=0,A==1)for(u=0,L=L[0],_++;(c<E||u)&&_--;c++)b=u*ei+(N[c]||0),y[c]=b/L|0,u=b%L|0;else{for(u=ei/(L[0]+1)|0,u>1&&(L=t(L,u),N=t(N,u),A=L.length,E=N.length),w=A,x=N.slice(0,A),v=x.length;v<A;)x[v++]=0;P=L.slice(),P.unshift(0),M=L[0],L[1]>=ei/2&&++M;do u=0,s=e(L,x,A,v),s<0?(m=x[0],A!=v&&(m=m*ei+(x[1]||0)),u=m/M|0,u>1?(u>=ei&&(u=ei-1),f=t(L,u),d=f.length,v=x.length,s=e(f,x,d,v),s==1&&(u--,n(f,A<d?P:L,d))):(u==0&&(s=u=1),f=L.slice()),d=f.length,d<v&&f.unshift(0),n(x,f,v),s==-1&&(v=x.length,s=e(L,x,A,v),s<1&&(u++,n(x,A<v?P:L,v))),v=x.length):s===0&&(u++,x=[0]),y[c++]=u,s&&x[0]?x[v++]=N[w]||0:(x=[N[w]],v=1);while((w++<E||x[0]!==void 0)&&_--)}return y[0]||y.shift(),h.e=l,Rn(h,a?o+Rr(h)+1:o)}}();function w7(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,f=u.precision;if(Rr(t)>16)throw Error(JN+Rr(t));if(!t.s)return new u(Ho);for(e==null?(Kn=!1,s=f):s=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Ef(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(Ho),u.precision=s;;){if(i=Rn(i.times(t),s),n=n.times(++l),a=o.plus(Wl(i,n,s)),js(a.d).slice(0,s)===js(o.d).slice(0,s)){for(;c--;)o=Rn(o.times(o),s);return u.precision=f,e==null?(Kn=!0,Rn(o,f)):o}o=a}}function Rr(t){for(var e=t.e*Vn,n=t.d[0];n>=10;n/=10)e++;return e}function GA(t,e,n){if(e>t.LN10.sd())throw Kn=!0,n&&(t.precision=n),Error(Aa+"LN10 precision limit exceeded");return Rn(new t(t.LN10),e)}function Hc(t){for(var e="";t--;)e+="0";return e}function Iy(t,e){var n,r,i,o,a,s,l,c,u,f=1,d=10,h=t,y=h.d,x=h.constructor,v=x.precision;if(h.s<1)throw Error(Aa+(h.s?"NaN":"-Infinity"));if(h.eq(Ho))return new x(0);if(e==null?(Kn=!1,c=v):c=e,h.eq(10))return e==null&&(Kn=!0),GA(x,c);if(c+=d,x.precision=c,n=js(y),r=n.charAt(0),o=Rr(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=js(h.d),r=n.charAt(0),f++;o=Rr(h),r>1?(h=new x("0."+n),o++):h=new x(r+"."+n.slice(1))}else return l=GA(x,c+2,v).times(o+""),h=Iy(new x(r+"."+n.slice(1)),c-d).plus(l),x.precision=v,e==null?(Kn=!0,Rn(h,v)):h;for(s=a=h=Wl(h.minus(Ho),h.plus(Ho),c),u=Rn(h.times(h),c),i=3;;){if(a=Rn(a.times(u),c),l=s.plus(Wl(a,new x(i),c)),js(l.d).slice(0,c)===js(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(GA(x,c+2,v).times(o+""))),s=Wl(s,new x(f),c),x.precision=v,e==null?(Kn=!0,Rn(s,v)):s;s=l,i+=2}}function lz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=qm(n/Vn),t.d=[],r=(n+1)%Vn,n<0&&(r+=Vn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Vn;r<i;)t.d.push(+e.slice(r,r+=Vn));e=e.slice(r),r=Vn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Kn&&(t.e>fS||t.e<-fS))throw Error(JN+n)}else t.s=0,t.e=0,t.d=[0];return t}function Rn(t,e,n){var r,i,o,a,s,l,c,u,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Vn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Vn),o=f.length,u>=o)return t;for(c=o=f[u],a=1;o>=10;o/=10)a++;r%=Vn,i=r-Vn+a}if(n!==void 0&&(o=Ef(10,a-i-1),s=c/o%10|0,l=e<0||f[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Ef(10,a-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Rr(t),f.length=1,e=e-o-1,f[0]=Ef(10,(Vn-e%Vn)%Vn),t.e=qm(-e/Vn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,o=1,u--):(f.length=u+1,o=Ef(10,Vn-r),f[u]=i>0?(c/Ef(10,a-i)%Ef(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==ei&&(f[0]=1,++t.e);break}else{if(f[u]+=o,f[u]!=ei)break;f[u--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Kn&&(t.e>fS||t.e<-fS))throw Error(JN+Rr(t));return t}function E7(t,e){var n,r,i,o,a,s,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Kn?Rn(e,h):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(h/Vn),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ei-1;--l[o],l[i]+=ei}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Kn?Rn(e,h):e):new d(0)}function Td(t,e,n){var r,i=Rr(t),o=js(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Hc(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Hc(-i-1)+o,n&&(r=n-a)>0&&(o+=Hc(r))):i>=a?(o+=Hc(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Hc(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Hc(r))),t.s<0?"-"+o:o}function cz(t,e){if(t.length>e)return t.length=e,!0}function M7(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(td+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return lz(a,o.toString())}else if(typeof o!="string")throw Error(td+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Vwe.test(o))lz(a,o);else throw Error(td+o)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=M7,i.config=i.set=Hwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Hwe(t){if(!t||typeof t!="object")throw Error(Aa+"Object expected");var e,n,r,i=["precision",1,Xm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(qm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(td+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(td+n+": "+r);return this}var eD=M7($we);Ho=new eD(1);const Tn=eD;function Gwe(t){return Ywe(t)||qwe(t)||Xwe(t)||Wwe()}function Wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function qwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ywe(t){if(Array.isArray(t))return Z2(t)}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kwe=function(e){return e},T7={"@@functional/placeholder":!0},A7=function(e){return e===T7},uz=function(e){return function n(){return arguments.length===0||arguments.length===1&&A7(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Qwe=function t(e,n){return e===1?n:uz(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==T7}).length;return a>=e?n.apply(void 0,i):t(e-a,uz(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return A7(f)?l.shift():f});return n.apply(void 0,Gwe(u).concat(l))}))})},HE=function(e){return Qwe(e.length,e)},J2=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Zwe=HE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Jwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Kwe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},eO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},P7=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function eEe(t){var e;return t===0?e=1:e=Math.floor(new Tn(t).abs().log(10).toNumber())+1,e}function tEe(t,e,n){for(var r=new Tn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var nEe=HE(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),rEe=HE(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),iEe=HE(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const GE={rangeStep:tEe,getDigitCount:eEe,interpolateNumber:nEe,uninterpolateNumber:rEe,uninterpolateTruncation:iEe};function tO(t){return sEe(t)||aEe(t)||C7(t)||oEe()}function oEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sEe(t){if(Array.isArray(t))return nO(t)}function Ny(t,e){return uEe(t)||cEe(t,e)||C7(t,e)||lEe()}function lEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(t,e){if(t){if(typeof t=="string")return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cEe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function uEe(t){if(Array.isArray(t))return t}function O7(t){var e=Ny(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function R7(t,e,n){if(t.lte(0))return new Tn(0);var r=GE.getDigitCount(t.toNumber()),i=new Tn(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Tn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Tn(Math.ceil(l))}function fEe(t,e,n){var r=1,i=new Tn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Tn(10).pow(GE.getDigitCount(t)-1),i=new Tn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Tn(Math.floor(t)))}else t===0?i=new Tn(Math.floor((e-1)/2)):n||(i=new Tn(Math.floor(t)));var a=Math.floor((e-1)/2),s=Jwe(Zwe(function(l){return i.add(new Tn(l-a).mul(r)).toNumber()}),J2);return s(0,e)}function I7(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Tn(0),tickMin:new Tn(0),tickMax:new Tn(0)};var o=R7(new Tn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Tn(0):(a=new Tn(t).add(e).div(2),a=a.sub(new Tn(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Tn(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?I7(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Tn(s).mul(o)),tickMax:a.add(new Tn(l).mul(o))})}function dEe(t){var e=Ny(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=O7([n,r]),l=Ny(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(tO(J2(0,i-1).map(function(){return 1/0}))):[].concat(tO(J2(0,i-1).map(function(){return-1/0})),[u]);return n>r?eO(f):f}if(c===u)return fEe(c,i,o);var d=I7(c,u,a,o),h=d.step,y=d.tickMin,x=d.tickMax,v=GE.rangeStep(y,x.add(new Tn(.1).mul(h)),h);return n>r?eO(v):v}function hEe(t,e){var n=Ny(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=O7([r,i]),s=Ny(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=R7(new Tn(c).sub(l).div(u-1),o,0),d=[].concat(tO(GE.rangeStep(new Tn(l),new Tn(c).sub(new Tn(.99).mul(f)),f)),[c]);return r>i?eO(d):d}var pEe=P7(dEe),mEe=P7(hEe),gEe="Invariant failed";function Ad(t,e){throw new Error(gEe)}var vEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}function yEe(t,e){return SEe(t)||_Ee(t,e)||bEe(t,e)||xEe()}function xEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bEe(t,e){if(t){if(typeof t=="string")return fz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fz(t,e)}}function fz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function SEe(t){if(Array.isArray(t))return t}function wEe(t,e){if(t==null)return{};var n=EEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L7(r.key),r)}}function AEe(t,e,n){return e&&TEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PEe(t,e,n){return e=hS(e),CEe(t,N7()?Reflect.construct(e,n||[],hS(t).constructor):e.apply(t,n))}function CEe(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OEe(t)}function OEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!t})()}function hS(t){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hS(t)}function REe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rO(t,e)}function D7(t,e,n){return e=L7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L7(t){var e=IEe(t,"string");return om(e)=="symbol"?e:e+""}function IEe(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F0=function(t){function e(){return MEe(this,e),PEe(this,e,arguments)}return REe(e,t),AEe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,d=wEe(r,vEe),h=bt(d,!1);this.props.direction==="x"&&u.type!=="number"&&Ad();var y=l.map(function(x){var v=c(x,s),m=v.x,_=v.y,b=v.value,w=v.errorVal;if(!w)return null;var E=[],M,A;if(Array.isArray(w)){var P=yEe(w,2);M=P[0],A=P[1]}else M=A=w;if(o==="vertical"){var R=u.scale,O=_+i,N=O+a,L=O-a,j=R(b-M),U=R(b+A);E.push({x1:U,y1:N,x2:U,y2:L}),E.push({x1:j,y1:O,x2:U,y2:O}),E.push({x1:j,y1:N,x2:j,y2:L})}else if(o==="horizontal"){var H=f.scale,z=m+i,Q=z-a,k=z+a,B=H(b-M),W=H(b+A);E.push({x1:Q,y1:W,x2:k,y2:W}),E.push({x1:z,y1:B,x2:z,y2:W}),E.push({x1:Q,y1:B,x2:k,y2:B})}return oe.createElement(rn,dS({className:"recharts-errorBar",key:"bar-".concat(E.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},h),E.map(function($){return oe.createElement("line",dS({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return oe.createElement(rn,{className:"recharts-errorBars"},y)}}])}(oe.Component);D7(F0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});D7(F0,"displayName","ErrorBar");function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(n),!0).forEach(function(r){NEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NEe(t,e,n){return e=DEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DEe(t){var e=LEe(t,"string");return Dy(e)=="symbol"?e:e+""}function LEe(t,e){if(Dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k7=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=$o(n,Cp);if(!a)return null;var s=Cp.defaultProps,l=s!==void 0?nf(nf({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,f){var d=f.item,h=f.props,y=h.sectors||h.data||[];return u.concat(y.map(function(x){return{type:a.props.iconType||d.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var f=u.item,d=f.type.defaultProps,h=d!==void 0?nf(nf({},d),f.props):{},y=h.dataKey,x=h.name,v=h.legendType,m=h.hide;return{inactive:m,dataKey:y,type:l.iconType||v||"square",color:tD(f),value:x||y,payload:h}}),nf(nf(nf({},l),Cp.getWithHeight(a,i)),{},{payload:c,item:a})};function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function hz(t){return jEe(t)||FEe(t)||UEe(t)||kEe()}function kEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(t,e){if(t){if(typeof t=="string")return iO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(t,e)}}function FEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jEe(t){if(Array.isArray(t))return iO(t)}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(n),!0).forEach(function(r){Rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rp(t,e,n){return e=zEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zEe(t){var e=BEe(t,"string");return Ly(e)=="symbol"?e:e+""}function BEe(t,e){if(Ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e,n){return It(t)||It(e)?n:Vr(e)?Yo(t,e,n):Pt(e)?e(t):n}function Rv(t,e,n,r){var i=Fwe(t,function(s){return Sr(s,e)});if(n==="number"){var o=i.filter(function(s){return Ke(s)||parseFloat(s)});return o.length?[VE(o),iu(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!It(s)}):i;return a.map(function(s){return Vr(s)||s instanceof Date?s:""})}var $Ee=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,d=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(to(f-u)!==to(d-f)){var y=[];if(to(d-f)===to(l[1]-l[0])){h=d;var x=f+l[1]-l[0];y[0]=Math.min(x,(x+u)/2),y[1]=Math.max(x,(x+u)/2)}else{h=u;var v=d+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var m=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>m[0]&&e<=m[1]||e>=y[0]&&e<=y[1]){a=i[c].index;break}}else{var _=Math.min(u,d),b=Math.max(u,d);if(e>(_+f)/2&&e<=(b+f)/2){a=i[c].index;break}}}else for(var w=0;w<s;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<s-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===s-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){a=r[w].index;break}return a},tD=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?fr(fr({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},VEe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),d=0,h=f.length;d<h;d++){var y=u[f[d]],x=y.items,v=y.cateAxisId,m=x.filter(function(A){return Hl(A.type).indexOf("Bar")>=0});if(m&&m.length){var _=m[0].type.defaultProps,b=_!==void 0?fr(fr({},_),m[0].props):m[0].props,w=b.barSize,E=b[v];a[E]||(a[E]=[]);var M=It(w)?n:w;a[E].push({item:m[0],stackList:m.slice(1),barSize:It(M)?void 0:no(M,r,0)})}}return a},HEe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=no(n,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,h=i/l,y=a.reduce(function(w,E){return w+E.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&h>0&&(d=!0,h*=.9,y=l*h);var x=(i-y)/2>>0,v={offset:x-c,size:0};u=a.reduce(function(w,E){var M={item:E.item,position:{offset:v.offset+v.size+c,size:d?h:E.barSize}},A=[].concat(hz(w),[M]);return v=A[A.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){A.push({item:P,position:v})}),A},f)}else{var m=no(r,i,0,!0);i-2*m-(l-1)*c<=0&&(c=0);var _=(i-2*m-(l-1)*c)/l;_>1&&(_>>=0);var b=s===+s?Math.min(_,s):_;u=a.reduce(function(w,E,M){var A=[].concat(hz(w),[{item:E.item,position:{offset:m+(_+c)*M+(_-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},f)}return u},GEe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=k7({children:o,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,h=c.align,y=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&h!=="center"&&Ke(e[h]))return fr(fr({},e),{},Rp({},h,e[h]+(f||0)));if((x==="horizontal"||x==="vertical"&&h==="center")&&y!=="middle"&&Ke(e[y]))return fr(fr({},e),{},Rp({},y,e[y]+(d||0)))}return e},WEe=function(e,n,r){return It(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},U7=function(e,n,r,i,o){var a=n.props.children,s=Ko(a,F0).filter(function(c){return WEe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Sr(u,r);if(It(f))return c;var d=Array.isArray(f)?[VE(f),iu(f)]:[f,f],h=l.reduce(function(y,x){var v=Sr(u,x,0),m=d[0]-Math.abs(Array.isArray(v)?v[0]:v),_=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(m,y[0]),Math.max(_,y[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},XEe=function(e,n,r,i,o){var a=n.map(function(s){return U7(e,s,r,o,i)}).filter(function(s){return!It(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},F7=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&U7(e,l,c,i)||Rv(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},j7=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},z7=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Bl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?to(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!$m(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:o?o[f]:f,index:d,offset:c}})},WA=new WeakMap,T1=function(e,n){if(typeof n!="function")return e;WA.has(e)||WA.set(e,new WeakMap);var r=WA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},B7=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Ay(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:sS(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ov(),realScaleType:"point"}:o==="category"?{scale:Ay(),realScaleType:"band"}:{scale:sS(),realScaleType:"linear"};if(Sd(i)){var l="scale".concat(CE(i));return{scale:(sz[l]||Ov)(),realScaleType:sz[l]?l:"point"}}return Pt(i)?{scale:i}:{scale:Ov(),realScaleType:"point"}},mz=1e-4,$7=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-mz,a=Math.max(i[0],i[1])+mz,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},qEe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},YEe=function(e,n){if(!n||n.length!==2||!Ke(n[0])||!Ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ke(e[0])||e[0]<r)&&(o[0]=r),(!Ke(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},KEe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=$m(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},QEe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=$m(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},ZEe={sign:KEe,expand:vhe,none:Qp,silhouette:yhe,wiggle:xhe,positive:QEe},JEe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=ZEe[r],a=ghe().keys(i).value(function(s,l){return+Sr(s,l,0)}).order(C2).offset(o);return a(e)},eMe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(f,d){var h,y=(h=d.type)!==null&&h!==void 0&&h.defaultProps?fr(fr({},d.type.defaultProps),d.props):d.props,x=y.stackId,v=y.hide;if(v)return f;var m=y[r],_=f[m]||{hasStack:!1,stackGroups:{}};if(Vr(x)){var b=_.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),_.hasStack=!0,_.stackGroups[x]=b}else _.stackGroups[zd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return fr(fr({},f),{},Rp({},m,_))},l),u={};return Object.keys(c).reduce(function(f,d){var h=c[d];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(x,v){var m=h.stackGroups[v];return fr(fr({},x),{},Rp({},v,{numericAxisId:r,cateAxisId:i,items:m.items,stackedData:JEe(e,m.items,o)}))},y)}return fr(fr({},f),{},Rp({},d,h))},u)},V7=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=pEe(c,o,s);return e.domain([VE(u),iu(u)]),{niceTicks:u}}if(o&&i==="number"){var f=e.domain(),d=mEe(f,o,s);return{niceTicks:d}}return null};function pS(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!It(i[e.dataKey])){var s=z_(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Sr(i,It(a)?e.dataKey:a);return It(l)?null:e.scale(l)}var gz=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Sr(a,n.dataKey,n.domain[s]);return It(l)?null:n.scale(l)-o/2+i},tMe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},nMe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?fr(fr({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Vr(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},rMe=function(e){return e.reduce(function(n,r){return[VE(r.concat([n[0]]).filter(Ke)),iu(r.concat([n[1]]).filter(Ke))]},[1/0,-1/0])},H7=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var f=rMe(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},vz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oO=function(e,n,r){if(Pt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(vz.test(e[0])){var o=+vz.exec(e[0])[1];i[0]=n[0]-o}else Pt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(yz.test(e[1])){var a=+yz.exec(e[1])[1];i[1]=n[1]+a}else Pt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},mS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=CN(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},xz=function(e,n,r){return!e||!e.length||Md(e,Yo(r,"type.defaultProps.domain"))?n:e},G7=function(e,n){var r=e.type.defaultProps?fr(fr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return fr(fr({},bt(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:tD(e),value:Sr(n,i),type:l,payload:n,chartType:c,hide:u})};function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){W7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W7(t,e,n){return e=iMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iMe(t){var e=oMe(t,"string");return ky(e)=="symbol"?e:e+""}function oMe(t,e){if(ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aMe(t,e){return uMe(t)||cMe(t,e)||lMe(t,e)||sMe()}function sMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lMe(t,e){if(t){if(typeof t=="string")return _z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _z(t,e)}}function _z(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function uMe(t){if(Array.isArray(t))return t}var gS=Math.PI/180,fMe=function(e){return e*180/Math.PI},kn=function(e,n,r,i){return{x:e+Math.cos(-gS*i)*r,y:n+Math.sin(-gS*i)*r}},X7=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dMe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=no(e.cx,a,a/2),f=no(e.cy,s,s/2),d=X7(a,s,r),h=no(e.innerRadius,d,0),y=no(e.outerRadius,d,d*.8),x=Object.keys(n);return x.reduce(function(v,m){var _=n[m],b=_.domain,w=_.reversed,E;if(It(_.range))i==="angleAxis"?E=[l,c]:i==="radiusAxis"&&(E=[h,y]),w&&(E=[E[1],E[0]]);else{E=_.range;var M=E,A=aMe(M,2);l=A[0],c=A[1]}var P=B7(_,o),R=P.realScaleType,O=P.scale;O.domain(b).range(E),$7(O);var N=V7(O,Ol(Ol({},_),{},{realScaleType:R})),L=Ol(Ol(Ol({},_),N),{},{range:E,radius:y,realScaleType:R,scale:O,cx:u,cy:f,innerRadius:h,outerRadius:y,startAngle:l,endAngle:c});return Ol(Ol({},v),{},W7({},m,L))},{})},hMe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},pMe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=hMe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:fMe(c),angleInRadian:c}},mMe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},gMe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},Sz=function(e,n){var r=e.x,i=e.y,o=pMe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=mMe(n),f=u.startAngle,d=u.endAngle,h=s,y;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;y=h>=d&&h<=f}return y?Ol(Ol({},n),{},{radius:a,angle:gMe(h,n)}):null},q7=function(e){return!I.isValidElement(e)&&!Pt(e)&&typeof e!="boolean"?e.className:""};function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}var vMe=["offset"];function yMe(t){return SMe(t)||_Me(t)||bMe(t)||xMe()}function xMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bMe(t,e){if(t){if(typeof t=="string")return aO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(t,e)}}function _Me(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SMe(t){if(Array.isArray(t))return aO(t)}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wMe(t,e){if(t==null)return{};var n=EMe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){MMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MMe(t,e,n){return e=TMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TMe(t){var e=AMe(t,"string");return Uy(e)=="symbol"?e:e+""}function AMe(t,e){if(Uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(this,arguments)}var PMe=function(e){var n=e.value,r=e.formatter,i=It(e.children)?n:e.children;return Pt(r)?r(i):i},CMe=function(e,n){var r=to(n-e),i=Math.min(Math.abs(n-e),360);return r*i},OMe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,y=l.endAngle,x=l.clockWise,v=(f+d)/2,m=CMe(h,y),_=m>=0?1:-1,b,w;i==="insideStart"?(b=h+_*a,w=x):i==="insideEnd"?(b=y-_*a,w=!x):i==="end"&&(b=y+_*a,w=x),w=m<=0?w:!w;var E=kn(c,u,v,b),M=kn(c,u,v,b+(w?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(M.x,",").concat(M.y),P=It(e.id)?zd("recharts-radial-line-"):e.id;return oe.createElement("text",Fy({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",s)}),oe.createElement("defs",null,oe.createElement("path",{id:P,d:A})),oe.createElement("textPath",{xlinkHref:"#".concat(P)},n))},RMe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,d=(u+f)/2;if(i==="outside"){var h=kn(a,s,c+r,d),y=h.x,x=h.y;return{x:y,y:x,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,m=kn(a,s,v,d),_=m.x,b=m.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},IMe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,d=f*i,h=f>0?"end":"start",y=f>0?"start":"end",x=c>=0?1:-1,v=x*i,m=x>0?"end":"start",_=x>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return Fr(Fr({},b),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var w={x:s+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:y};return Fr(Fr({},w),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var E={x:s-v,y:l+u/2,textAnchor:m,verticalAnchor:"middle"};return Fr(Fr({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(o==="right"){var M={x:s+c+v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return Fr(Fr({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:u}:{})}var A=r?{width:c,height:u}:{};return o==="insideLeft"?Fr({x:s+v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},A):o==="insideRight"?Fr({x:s+c-v,y:l+u/2,textAnchor:m,verticalAnchor:"middle"},A):o==="insideTop"?Fr({x:s+c/2,y:l+d,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?Fr({x:s+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:h},A):o==="insideTopLeft"?Fr({x:s+v,y:l+d,textAnchor:_,verticalAnchor:y},A):o==="insideTopRight"?Fr({x:s+c-v,y:l+d,textAnchor:m,verticalAnchor:y},A):o==="insideBottomLeft"?Fr({x:s+v,y:l+u-d,textAnchor:_,verticalAnchor:h},A):o==="insideBottomRight"?Fr({x:s+c-v,y:l+u-d,textAnchor:m,verticalAnchor:h},A):Fm(o)&&(Ke(o.x)||Lf(o.x))&&(Ke(o.y)||Lf(o.y))?Fr({x:s+no(o.x,c),y:l+no(o.y,u),textAnchor:"end",verticalAnchor:"end"},A):Fr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},NMe=function(e){return"cx"in e&&Ke(e.cx)};function ri(t){var e=t.offset,n=e===void 0?5:e,r=wMe(t,vMe),i=Fr({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!o||It(s)&&It(l)&&!I.isValidElement(c)&&!Pt(c))return null;if(I.isValidElement(c))return I.cloneElement(c,i);var h;if(Pt(c)){if(h=I.createElement(c,i),I.isValidElement(h))return h}else h=PMe(i);var y=NMe(o),x=bt(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return OMe(i,h,x);var v=y?RMe(i):IMe(i);return oe.createElement(Ed,Fy({className:Lt("recharts-label",f)},x,v,{breakAll:d}),h)}ri.displayName="Label";var Y7=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,h=e.top,y=e.left,x=e.width,v=e.height,m=e.clockWise,_=e.labelViewBox;if(_)return _;if(Ke(x)&&Ke(v)){if(Ke(f)&&Ke(d))return{x:f,y:d,width:x,height:v};if(Ke(h)&&Ke(y))return{x:h,y,width:x,height:v}}return Ke(f)&&Ke(d)?{x:f,y:d,width:0,height:0}:Ke(n)&&Ke(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:m}:e.viewBox?e.viewBox:{}},DMe=function(e,n){return e?e===!0?oe.createElement(ri,{key:"label-implicit",viewBox:n}):Vr(e)?oe.createElement(ri,{key:"label-implicit",viewBox:n,value:e}):I.isValidElement(e)?e.type===ri?I.cloneElement(e,{key:"label-implicit",viewBox:n}):oe.createElement(ri,{key:"label-implicit",content:e,viewBox:n}):Pt(e)?oe.createElement(ri,{key:"label-implicit",content:e,viewBox:n}):Fm(e)?oe.createElement(ri,Fy({viewBox:n},e,{key:"label-implicit"})):null:null},LMe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Y7(e),a=Ko(i,ri).map(function(l,c){return I.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=DMe(e.label,n||o);return[s].concat(yMe(a))};ri.parseViewBox=Y7;ri.renderCallByParent=LMe;function kMe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var UMe=kMe;const FMe=yn(UMe);function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}var jMe=["valueAccessor"],zMe=["data","dataKey","clockWise","id","textBreakAll"];function BMe(t){return GMe(t)||HMe(t)||VMe(t)||$Me()}function $Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VMe(t,e){if(t){if(typeof t=="string")return sO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sO(t,e)}}function HMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GMe(t){if(Array.isArray(t))return sO(t)}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(this,arguments)}function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(r){WMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WMe(t,e,n){return e=XMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XMe(t){var e=qMe(t,"string");return jy(e)=="symbol"?e:e+""}function qMe(t,e){if(jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tz(t,e){if(t==null)return{};var n=YMe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var KMe=function(e){return Array.isArray(e.value)?FMe(e.value):e.value};function Ys(t){var e=t.valueAccessor,n=e===void 0?KMe:e,r=Tz(t,jMe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=Tz(r,zMe);return!i||!i.length?null:oe.createElement(rn,{className:"recharts-label-list"},i.map(function(u,f){var d=It(o)?n(u,f):Sr(u&&u.payload,o),h=It(s)?{}:{id:"".concat(s,"-").concat(f)};return oe.createElement(ri,vS({},bt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:ri.parseViewBox(It(a)?u:Mz(Mz({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Ys.displayName="LabelList";function QMe(t,e){return t?t===!0?oe.createElement(Ys,{key:"labelList-implicit",data:e}):oe.isValidElement(t)||Pt(t)?oe.createElement(Ys,{key:"labelList-implicit",data:e,content:t}):Fm(t)?oe.createElement(Ys,vS({data:e},t,{key:"labelList-implicit"})):null:null}function ZMe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ko(r,Ys).map(function(a,s){return I.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=QMe(t.label,e);return[o].concat(BMe(i))}Ys.renderCallByParent=ZMe;function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function lO(){return lO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lO.apply(this,arguments)}function Az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(n),!0).forEach(function(r){JMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JMe(t,e,n){return e=eTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eTe(t){var e=tTe(t,"string");return zy(e)=="symbol"?e:e+""}function tTe(t,e){if(zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nTe=function(e,n){var r=to(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},A1=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/gS,d=c?o:o+a*f,h=kn(n,r,u,d),y=kn(n,r,i,d),x=c?o-a*f:o,v=kn(n,r,u*Math.cos(f*gS),x);return{center:h,circleTangency:y,lineTangency:v,theta:f}},K7=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=nTe(a,s),c=a+l,u=kn(n,r,o,a),f=kn(n,r,o,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=kn(n,r,i,a),y=kn(n,r,i,c);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},rTe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=to(u-c),d=A1({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),h=d.circleTangency,y=d.lineTangency,x=d.theta,v=A1({cx:n,cy:r,radius:o,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),m=v.circleTangency,_=v.lineTangency,b=v.theta,w=l?Math.abs(c-u):Math.abs(c-u)-x-b;if(w<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):K7({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var M=A1({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=M.circleTangency,P=M.lineTangency,R=M.theta,O=A1({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=O.circleTangency,L=O.lineTangency,j=O.theta,U=l?Math.abs(c-u):Math.abs(c-u)-R-j;if(U<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},iTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Q7=function(e){var n=Pz(Pz({},iTe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,d=n.className;if(a<o||u===f)return null;var h=Lt("recharts-sector",d),y=a-o,x=no(s,y,0,!0),v;return x>0&&Math.abs(u-f)<360?v=rTe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=K7({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:f}),oe.createElement("path",lO({},bt(n,!0),{className:h,d:v,role:"img"}))};function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function cO(){return cO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cO.apply(this,arguments)}function Cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(n),!0).forEach(function(r){oTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oTe(t,e,n){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=sTe(t,"string");return By(e)=="symbol"?e:e+""}function sTe(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rz={curveBasisClosed:ohe,curveBasisOpen:ahe,curveBasis:ihe,curveBumpX:Hde,curveBumpY:Gde,curveLinearClosed:she,curveLinear:RE,curveMonotoneX:lhe,curveMonotoneY:che,curveNatural:uhe,curveStep:fhe,curveStepAfter:hhe,curveStepBefore:dhe},P1=function(e){return e.x===+e.x&&e.y===+e.y},Vg=function(e){return e.x},Hg=function(e){return e.y},lTe=function(e,n){if(Pt(e))return e;var r="curve".concat(CE(e));return(r==="curveMonotone"||r==="curveBump")&&n?Rz["".concat(r).concat(n==="vertical"?"Y":"X")]:Rz[r]||RE},cTe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=lTe(r,s),f=c?o.filter(function(x){return P1(x)}):o,d;if(Array.isArray(a)){var h=c?a.filter(function(x){return P1(x)}):a,y=f.map(function(x,v){return Oz(Oz({},x),{},{base:h[v]})});return s==="vertical"?d=y1().y(Hg).x1(Vg).x0(function(x){return x.base.x}):d=y1().x(Vg).y1(Hg).y0(function(x){return x.base.y}),d.defined(P1).curve(u),d(y)}return s==="vertical"&&Ke(a)?d=y1().y(Hg).x1(Vg).x0(a):Ke(a)?d=y1().x(Vg).y1(Hg).y0(a):d=GW().x(Vg).y(Hg),d.defined(P1).curve(u),d(f)},nd=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?cTe(e):i;return I.createElement("path",cO({},bt(e,!1),B_(e),{className:Lt("recharts-curve",n),d:a,ref:o}))},Z7={exports:{}},uTe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fTe=uTe,dTe=fTe;function J7(){}function eX(){}eX.resetWarningCache=J7;var hTe=function(){function t(r,i,o,a,s,l){if(l!==dTe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eX,resetWarningCache:J7};return n.PropTypes=n,n};Z7.exports=hTe();var pTe=Z7.exports;const xn=yn(pTe);var mTe=Object.getOwnPropertyNames,gTe=Object.getOwnPropertySymbols,vTe=Object.prototype.hasOwnProperty;function Iz(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function C1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function yTe(t){return t!=null?t[Symbol.toStringTag]:void 0}function Nz(t){return mTe(t).concat(gTe(t))}var xTe=Object.hasOwn||function(t,e){return vTe.call(t,e)};function Vd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var bTe="__v",_Te="__o",STe="_owner",Dz=Object.getOwnPropertyDescriptor,Lz=Object.keys;function wTe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ETe(t,e){return Vd(t.getTime(),e.getTime())}function MTe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function TTe(t,e){return t===e}function kz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=e.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var d=a.value,h=s.value;if(n.equals(d[0],h[0],l,f,t,e,n)&&n.equals(d[1],h[1],d[0],h[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var ATe=Vd;function PTe(t,e,n){var r=Lz(t),i=r.length;if(Lz(e).length!==i)return!1;for(;i-- >0;)if(!tX(t,e,n,r[i]))return!1;return!0}function Gg(t,e,n){var r=Nz(t),i=r.length;if(Nz(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!tX(t,e,n,o)||(a=Dz(t,o),s=Dz(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function CTe(t,e){return Vd(t.valueOf(),e.valueOf())}function OTe(t,e){return t.source===e.source&&t.flags===e.flags}function Uz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function RTe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ITe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function tX(t,e,n,r){return(r===STe||r===_Te||r===bTe)&&(t.$$typeof||e.$$typeof)?!0:xTe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var NTe="[object Arguments]",DTe="[object Boolean]",LTe="[object Date]",kTe="[object Error]",UTe="[object Map]",FTe="[object Number]",jTe="[object Object]",zTe="[object RegExp]",BTe="[object Set]",$Te="[object String]",VTe="[object URL]",HTe=Array.isArray,Fz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jz=Object.assign,GTe=Object.prototype.toString.call.bind(Object.prototype.toString);function WTe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,h=t.unknownTagComparators;return function(x,v,m){if(x===v)return!0;if(x==null||v==null)return!1;var _=typeof x;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?a(x,v,m):_==="function"?i(x,v,m):!1;var b=x.constructor;if(b!==v.constructor)return!1;if(b===Object)return s(x,v,m);if(HTe(x))return e(x,v,m);if(Fz!=null&&Fz(x))return f(x,v,m);if(b===Date)return n(x,v,m);if(b===RegExp)return c(x,v,m);if(b===Map)return o(x,v,m);if(b===Set)return u(x,v,m);var w=GTe(x);if(w===LTe)return n(x,v,m);if(w===zTe)return c(x,v,m);if(w===UTe)return o(x,v,m);if(w===BTe)return u(x,v,m);if(w===jTe)return typeof x.then!="function"&&typeof v.then!="function"&&s(x,v,m);if(w===VTe)return d(x,v,m);if(w===kTe)return r(x,v,m);if(w===NTe)return s(x,v,m);if(w===DTe||w===FTe||w===$Te)return l(x,v,m);if(h){var E=h[w];if(!E){var M=yTe(x);M&&(E=h[M])}if(E)return E(x,v,m)}return!1}}function XTe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Gg:wTe,areDatesEqual:ETe,areErrorsEqual:MTe,areFunctionsEqual:TTe,areMapsEqual:r?Iz(kz,Gg):kz,areNumbersEqual:ATe,areObjectsEqual:r?Gg:PTe,arePrimitiveWrappersEqual:CTe,areRegExpsEqual:OTe,areSetsEqual:r?Iz(Uz,Gg):Uz,areTypedArraysEqual:r?Gg:RTe,areUrlsEqual:ITe,unknownTagComparators:void 0};if(n&&(i=jz({},i,n(i))),e){var o=C1(i.areArraysEqual),a=C1(i.areMapsEqual),s=C1(i.areObjectsEqual),l=C1(i.areSetsEqual);i=jz({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function qTe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function YTe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,d=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return n(l,c,{cache:d,equals:i,meta:h,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var KTe=Du();Du({strict:!0});Du({circular:!0});Du({circular:!0,strict:!0});Du({createInternalComparator:function(){return Vd}});Du({strict:!0,createInternalComparator:function(){return Vd}});Du({circular:!0,createInternalComparator:function(){return Vd}});Du({circular:!0,createInternalComparator:function(){return Vd},strict:!0});function Du(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=XTe(t),l=WTe(s),c=r?r(l):qTe(l);return YTe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function QTe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):QTe(i)};requestAnimationFrame(r)}function uO(t){"@babel/helpers - typeof";return uO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uO(t)}function ZTe(t){return nAe(t)||tAe(t)||eAe(t)||JTe()}function JTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(t,e){if(t){if(typeof t=="string")return Bz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bz(t,e)}}function Bz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nAe(t){if(Array.isArray(t))return t}function rAe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=ZTe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){zz(i.bind(null,c),l);return}i(l),zz(i.bind(null,c));return}uO(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function $z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return e=iAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iAe(t){var e=oAe(t,"string");return $y(e)==="symbol"?e:String(e)}function oAe(t,e){if($y(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($y(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aAe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},sAe=function(e){return e},lAe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Iv=function(e,n){return Object.keys(n).reduce(function(r,i){return Vz(Vz({},r),{},nX({},i,e(i,n[i])))},{})},Hz=function(e,n,r){return e.map(function(i){return"".concat(lAe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function cAe(t,e){return dAe(t)||fAe(t,e)||rX(t,e)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function dAe(t){if(Array.isArray(t))return t}function hAe(t){return gAe(t)||mAe(t)||rX(t)||pAe()}function pAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(t,e){if(t){if(typeof t=="string")return fO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fO(t,e)}}function mAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gAe(t){if(Array.isArray(t))return fO(t)}function fO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yS=1e-4,iX=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},oX=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Gz=function(e,n){return function(r){var i=iX(e,n);return oX(i,r)}},vAe=function(e,n){return function(r){var i=iX(e,n),o=[].concat(hAe(i.map(function(a,s){return a*s}).slice(1)),[0]);return oX(o,r)}},Wz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=cAe(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var f=Gz(i,a),d=Gz(o,s),h=vAe(i,a),y=function(m){return m>1?1:m<0?0:m},x=function(m){for(var _=m>1?1:m,b=_,w=0;w<8;++w){var E=f(b)-_,M=h(b);if(Math.abs(E-_)<yS||M<yS)return d(b);b=y(b-E/M)}return d(b)};return x.isStepper=!1,x},yAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,f,d){var h=-(u-f)*r,y=d*o,x=d+(h-y)*s/1e3,v=d*s/1e3+u;return Math.abs(v-f)<yS&&Math.abs(x)<yS?[f,0]:[v,x]};return l.isStepper=!0,l.dt=s,l},xAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Wz(i);case"spring":return yAe();default:if(i.split("(")[0]==="cubic-bezier")return Wz(i)}return typeof i=="function"?i:null};function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function Xz(t){return SAe(t)||_Ae(t)||aX(t)||bAe()}function bAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SAe(t){if(Array.isArray(t))return hO(t)}function qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(n),!0).forEach(function(r){dO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dO(t,e,n){return e=wAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wAe(t){var e=EAe(t,"string");return Vy(e)==="symbol"?e:String(e)}function EAe(t,e){if(Vy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MAe(t,e){return PAe(t)||AAe(t,e)||aX(t,e)||TAe()}function TAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return hO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hO(t,e)}}function hO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function PAe(t){if(Array.isArray(t))return t}var xS=function(e,n,r){return e+(n-e)*r},pO=function(e){var n=e.from,r=e.to;return n!==r},CAe=function t(e,n,r){var i=Iv(function(o,a){if(pO(a)){var s=e(a.from,a.to,a.velocity),l=MAe(s,2),c=l[0],u=l[1];return di(di({},a),{},{from:c,velocity:u})}return a},n);return r<1?Iv(function(o,a){return pO(a)?di(di({},a),{},{velocity:xS(a.velocity,i[o].velocity,r),from:xS(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const OAe=function(t,e,n,r,i){var o=aAe(t,e),a=o.reduce(function(v,m){return di(di({},v),{},dO({},m,[t[m],e[m]]))},{}),s=o.reduce(function(v,m){return di(di({},v),{},dO({},m,{from:t[m],velocity:0,to:e[m]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return Iv(function(m,_){return _.from},s)},h=function(){return!Object.values(s).filter(pO).length},y=function(m){c||(c=m);var _=m-c,b=_/n.dt;s=CAe(n,s,b),i(di(di(di({},t),e),d())),c=m,h()||(l=requestAnimationFrame(f))},x=function(m){u||(u=m);var _=(m-u)/r,b=Iv(function(E,M){return xS.apply(void 0,Xz(M).concat([n(_)]))},a);if(i(di(di(di({},t),e),b)),_<1)l=requestAnimationFrame(f);else{var w=Iv(function(E,M){return xS.apply(void 0,Xz(M).concat([n(1)]))},a);i(di(di(di({},t),e),w))}};return f=n.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}var RAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function IAe(t,e){if(t==null)return{};var n=NAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XA(t){return UAe(t)||kAe(t)||LAe(t)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(t,e){if(t){if(typeof t=="string")return mO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mO(t,e)}}function kAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UAe(t){if(Array.isArray(t))return mO(t)}function mO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(n),!0).forEach(function(r){mv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mv(t,e,n){return e=sX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sX(r.key),r)}}function zAe(t,e,n){return e&&jAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sX(t){var e=BAe(t,"string");return am(e)==="symbol"?e:String(e)}function BAe(t,e){if(am(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(am(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gO(t,e)}function gO(t,e){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gO(t,e)}function VAe(t){var e=HAe();return function(){var r=bS(t),i;if(e){var o=bS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vO(this,i)}}function vO(t,e){if(e&&(am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yO(t)}function yO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bS(t){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bS(t)}var us=function(t){$Ae(n,t);var e=VAe(n);function n(r,i){var o;FAe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,d=a.children,h=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(yO(o)),o.changeStyle=o.changeStyle.bind(yO(o)),!s||h<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:u}),vO(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof d=="function")return o.state={style:c},vO(o);o.state={style:l?mv({},l,c):c}}else o.state={style:{}};return o}return zAe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,d=this.state.style;if(s){if(!a){var h={style:l?mv({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(h);return}if(!(KTe(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||c?f:i.to;if(this.state&&d){var v={style:l?mv({},l,x):x};(l&&d[l]!==x||!l&&d!==x)&&this.setState(v)}this.runAnimation(La(La({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=OAe(a,s,xAe(c),l,this.changeStyle),y=function(){o.stopJSAnimation=h()};this.manager.start([d,u,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,d=f===void 0?0:f,h=function(x,v,m){if(m===0)return x;var _=v.duration,b=v.easing,w=b===void 0?"ease":b,E=v.style,M=v.properties,A=v.onAnimationEnd,P=m>0?a[m-1]:v,R=M||Object.keys(E);if(typeof w=="function"||w==="spring")return[].concat(XA(x),[o.runJSAnimation.bind(o,{from:P.style,to:E,duration:_,easing:w}),_]);var O=Hz(R,_,w),N=La(La(La({},P.style),E),{},{transition:O});return[].concat(XA(x),[N,_,A]).filter(sAe)};return this.manager.start([l].concat(XA(a.reduce(h,[u,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=rAe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var x=s?mv({},s,l):l,v=Hz(Object.keys(x),a,c);y.start([u,o,La(La({},x),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=IAe(i,RAe),c=I.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var f=function(h){var y=h.props,x=y.style,v=x===void 0?{}:x,m=y.className,_=I.cloneElement(h,La(La({},l),{},{style:La(La({},v),u),className:m}));return _};return c===1?f(I.Children.only(o)):oe.createElement("div",null,I.Children.map(o,function(d){return f(d)}))}}]),n}(I.PureComponent);us.displayName="Animate";us.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};us.propTypes={from:xn.oneOfType([xn.object,xn.string]),to:xn.oneOfType([xn.object,xn.string]),attributeName:xn.string,duration:xn.number,begin:xn.number,easing:xn.oneOfType([xn.string,xn.func]),steps:xn.arrayOf(xn.shape({duration:xn.number.isRequired,style:xn.object.isRequired,easing:xn.oneOfType([xn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xn.func]),properties:xn.arrayOf("string"),onAnimationEnd:xn.func})),children:xn.oneOfType([xn.node,xn.func]),isActive:xn.bool,canBegin:xn.bool,onAnimationEnd:xn.func,shouldReAnimate:xn.bool,onAnimationStart:xn.func,onAnimationReStart:xn.func};function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(null,arguments)}function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function GAe(t,e){return YAe(t)||qAe(t,e)||XAe(t,e)||WAe()}function WAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XAe(t,e){if(t){if(typeof t=="string")return Kz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kz(t,e)}}function Kz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function YAe(t){if(Array.isArray(t))return t}function Qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(n),!0).forEach(function(r){KAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KAe(t,e,n){return e=QAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QAe(t){var e=ZAe(t,"string");return Hy(e)=="symbol"?e:e+""}function ZAe(t,e){if(Hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jz=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=o[d]>a?a:o[d];u="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),u+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);u="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*y," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},JAe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=d}return!1},ePe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nD=function(e){var n=Zz(Zz({},ePe),e),r=I.useRef(),i=I.useState(-1),o=GAe(i,2),a=o[0],s=o[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,d=n.radius,h=n.className,y=n.animationEasing,x=n.animationDuration,v=n.animationBegin,m=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var b=Lt("recharts-rectangle",h);return _?oe.createElement(us,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:x,animationEasing:y,isActive:_},function(w){var E=w.width,M=w.height,A=w.x,P=w.y;return oe.createElement(us,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:m,easing:y},oe.createElement("path",_S({},bt(n,!0),{className:b,d:Jz(A,P,E,M,d),ref:r})))}):oe.createElement("path",_S({},bt(n,!0),{className:b,d:Jz(l,c,u,f,d)}))},tPe=["points","className","baseLinePoints","connectNulls"];function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function nPe(t,e){if(t==null)return{};var n=rPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eB(t){return sPe(t)||aPe(t)||oPe(t)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(t,e){if(t){if(typeof t=="string")return xO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xO(t,e)}}function aPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sPe(t){if(Array.isArray(t))return xO(t)}function xO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tB=function(e){return e&&e.x===+e.x&&e.y===+e.y},lPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){tB(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),tB(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Nv=function(e,n){var r=lPe(e);n&&(r=[r.reduce(function(o,a){return[].concat(eB(o),eB(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},cPe=function(e,n,r){var i=Nv(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Nv(n.reverse(),r).slice(1))},uPe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=nPe(e,tPe);if(!n||!n.length)return null;var s=Lt("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=cPe(n,i,o);return oe.createElement("g",{className:s},oe.createElement("path",ap({},bt(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?oe.createElement("path",ap({},bt(a,!0),{fill:"none",d:Nv(n,o)})):null,l?oe.createElement("path",ap({},bt(a,!0),{fill:"none",d:Nv(i,o)})):null)}var u=Nv(n,o);return oe.createElement("path",ap({},bt(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:s,d:u}))};function bO(){return bO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bO.apply(this,arguments)}var j0=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Lt("recharts-dot",o);return n===+n&&r===+r&&i===+i?I.createElement("circle",bO({},bt(e,!1),B_(e),{className:a,cx:n,cy:r,r:i})):null};function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}var fPe=["x","y","top","left","width","height","className"];function _O(){return _O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_O.apply(this,arguments)}function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){hPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hPe(t,e,n){return e=pPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pPe(t){var e=mPe(t,"string");return Gy(e)=="symbol"?e:e+""}function mPe(t,e){if(Gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gPe(t,e){if(t==null)return{};var n=vPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yPe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},xPe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,h=d===void 0?0:d,y=e.className,x=gPe(e,fPe),v=dPe({x:r,y:o,top:s,left:c,width:f,height:h},x);return!Ke(r)||!Ke(o)||!Ke(f)||!Ke(h)||!Ke(s)||!Ke(c)?null:oe.createElement("path",_O({},bt(v,!0),{className:Lt("recharts-cross",y),d:yPe(r,o,f,h,s,c)}))},bPe=$E,_Pe=x7,SPe=al;function wPe(t,e){return t&&t.length?bPe(t,SPe(e),_Pe):void 0}var EPe=wPe;const MPe=yn(EPe);var TPe=$E,APe=al,PPe=b7;function CPe(t,e){return t&&t.length?TPe(t,APe(e),PPe):void 0}var OPe=CPe;const RPe=yn(OPe);var IPe=["cx","cy","angle","ticks","axisLine"],NPe=["ticks","tick","angle","tickFormatter","stroke"];function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){WE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iB(t,e){if(t==null)return{};var n=DPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cX(r.key),r)}}function kPe(t,e,n){return e&&oB(t.prototype,e),n&&oB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UPe(t,e,n){return e=SS(e),FPe(t,lX()?Reflect.construct(e,n||[],SS(t).constructor):e.apply(t,n))}function FPe(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(t)}function jPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lX=function(){return!!t})()}function SS(t){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(t)}function zPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SO(t,e)}function SO(t,e){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SO(t,e)}function WE(t,e,n){return e=cX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=BPe(t,"string");return sm(e)=="symbol"?e:e+""}function BPe(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XE=function(t){function e(){return LPe(this,e),UPe(this,e,arguments)}return zPe(e,t),kPe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return kn(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=MPe(s,function(u){return u.coordinate||0}),c=RPe(s,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=iB(r,IPe),u=s.reduce(function(y,x){return[Math.min(y[0],x.coordinate),Math.max(y[1],x.coordinate)]},[1/0,-1/0]),f=kn(i,o,u[0],a),d=kn(i,o,u[1],a),h=rf(rf(rf({},bt(c,!1)),{},{fill:"none"},bt(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return oe.createElement("line",Dv({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=iB(i,NPe),f=this.getTickTextAnchor(),d=bt(u,!1),h=bt(a,!1),y=o.map(function(x,v){var m=r.getTickValueCoord(x),_=rf(rf(rf(rf({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(m.x,", ").concat(m.y,")")},d),{},{stroke:"none",fill:c},h),{},{index:v},m),{},{payload:x});return oe.createElement(rn,Dv({className:Lt("recharts-polar-radius-axis-tick",q7(a)),key:"tick-".concat(x.coordinate)},wd(r.props,x,v)),e.renderTickItem(a,_,l?l(x.value,v):x.value))});return oe.createElement(rn,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:oe.createElement(rn,{className:Lt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),ri.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return oe.isValidElement(r)?a=oe.cloneElement(r,i):Pt(r)?a=r(i):a=oe.createElement(Ed,Dv({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(I.PureComponent);WE(XE,"displayName","PolarRadiusAxis");WE(XE,"axisType","radiusAxis");WE(XE,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function aB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(n),!0).forEach(function(r){qE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fX(r.key),r)}}function VPe(t,e,n){return e&&sB(t.prototype,e),n&&sB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HPe(t,e,n){return e=wS(e),GPe(t,uX()?Reflect.construct(e,n||[],wS(t).constructor):e.apply(t,n))}function GPe(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WPe(t)}function WPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!t})()}function wS(t){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wS(t)}function XPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wO(t,e)}function wO(t,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wO(t,e)}function qE(t,e,n){return e=fX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=qPe(t,"string");return lm(e)=="symbol"?e:e+""}function qPe(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YPe=Math.PI/180,lB=1e-5,YE=function(t){function e(){return $Pe(this,e),HPe(this,e,arguments)}return XPe(e,t),VPe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=kn(o,a,s,r.coordinate),d=kn(o,a,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*YPe),a;return o>lB?a=i==="outer"?"start":"end":o<-lB?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=of(of({},bt(this.props,!1)),{},{fill:"none"},bt(s,!1));if(l==="circle")return oe.createElement(j0,Of({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var u=this.props.ticks,f=u.map(function(d){return kn(i,o,a,d.coordinate)});return oe.createElement(uPe,Of({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=bt(this.props,!1),f=bt(a,!1),d=of(of({},u),{},{fill:"none"},bt(s,!1)),h=o.map(function(y,x){var v=r.getTickLineCoord(y),m=r.getTickTextAnchor(y),_=of(of(of({textAnchor:m},u),{},{stroke:"none",fill:c},f),{},{index:x,payload:y,x:v.x2,y:v.y2});return oe.createElement(rn,Of({className:Lt("recharts-polar-angle-axis-tick",q7(a)),key:"tick-".concat(y.coordinate)},wd(r.props,y,x)),s&&oe.createElement("line",Of({className:"recharts-polar-angle-axis-tick-line"},d,v)),a&&e.renderTickItem(a,_,l?l(y.value,x):y.value))});return oe.createElement(rn,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:oe.createElement(rn,{className:Lt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return oe.isValidElement(r)?a=oe.cloneElement(r,i):Pt(r)?a=r(i):a=oe.createElement(Ed,Of({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(I.PureComponent);qE(YE,"displayName","PolarAngleAxis");qE(YE,"axisType","angleAxis");qE(YE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var KPe=m9,QPe=KPe(Object.getPrototypeOf,Object),ZPe=QPe,JPe=fc,eCe=ZPe,tCe=dc,nCe="[object Object]",rCe=Function.prototype,iCe=Object.prototype,dX=rCe.toString,oCe=iCe.hasOwnProperty,aCe=dX.call(Object);function sCe(t){if(!tCe(t)||JPe(t)!=nCe)return!1;var e=eCe(t);if(e===null)return!0;var n=oCe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&dX.call(n)==aCe}var lCe=sCe;const cCe=yn(lCe);var uCe=fc,fCe=dc,dCe="[object Boolean]";function hCe(t){return t===!0||t===!1||fCe(t)&&uCe(t)==dCe}var pCe=hCe;const mCe=yn(pCe);function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}function gCe(t,e){return bCe(t)||xCe(t,e)||yCe(t,e)||vCe()}function vCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(t,e){if(t){if(typeof t=="string")return cB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cB(t,e)}}function cB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function bCe(t){if(Array.isArray(t))return t}function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){_Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ce(t,e,n){return e=SCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SCe(t){var e=wCe(t,"string");return Wy(e)=="symbol"?e:e+""}function wCe(t,e){if(Wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dB=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},ECe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MCe=function(e){var n=fB(fB({},ECe),e),r=I.useRef(),i=I.useState(-1),o=gCe(i,2),a=o[0],s=o[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,d=n.height,h=n.className,y=n.animationEasing,x=n.animationDuration,v=n.animationBegin,m=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var _=Lt("recharts-trapezoid",h);return m?oe.createElement(us,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:x,animationEasing:y,isActive:m},function(b){var w=b.upperWidth,E=b.lowerWidth,M=b.height,A=b.x,P=b.y;return oe.createElement(us,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:y},oe.createElement("path",ES({},bt(n,!0),{className:_,d:dB(A,P,w,E,M),ref:r})))}):oe.createElement("g",null,oe.createElement("path",ES({},bt(n,!0),{className:_,d:dB(l,c,u,f,d)})))},TCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function ACe(t,e){if(t==null)return{};var n=PCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(n),!0).forEach(function(r){CCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CCe(t,e,n){return e=OCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OCe(t){var e=RCe(t,"string");return Xy(e)=="symbol"?e:e+""}function RCe(t,e){if(Xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ICe(t,e){return MS(MS({},e),t)}function NCe(t,e){return t==="symbols"}function pB(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return oe.createElement(nD,n);case"trapezoid":return oe.createElement(MCe,n);case"sector":return oe.createElement(Q7,n);case"symbols":if(NCe(e))return oe.createElement(_N,n);break;default:return null}}function DCe(t){return I.isValidElement(t)?t.props:t}function hX(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ICe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=ACe(t,TCe),c;if(I.isValidElement(e))c=I.cloneElement(e,MS(MS({},l),DCe(e)));else if(Pt(e))c=e(l);else if(cCe(e)&&!mCe(e)){var u=i(e,l);c=oe.createElement(pB,{shapeType:n,elementProps:u})}else{var f=l;c=oe.createElement(pB,{shapeType:n,elementProps:f})}return s?oe.createElement(rn,{className:a},c):c}function KE(t,e){return e!=null&&"trapezoids"in t.props}function QE(t,e){return e!=null&&"sectors"in t.props}function qy(t,e){return e!=null&&"points"in t.props}function LCe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function kCe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function UCe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function FCe(t,e){var n;return KE(t,e)?n=LCe:QE(t,e)?n=kCe:qy(t,e)&&(n=UCe),n}function jCe(t,e){var n;return KE(t,e)?n="trapezoids":QE(t,e)?n="sectors":qy(t,e)&&(n="points"),n}function zCe(t,e){if(KE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(QE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return qy(t,e)?e.payload:{}}function BCe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jCe(n,e),o=zCe(n,e),a=r.filter(function(l,c){var u=Md(o,l),f=n.props[i].filter(function(y){var x=FCe(n,e);return x(y,e)}),d=n.props[i].indexOf(f[f.length-1]),h=c===d;return u&&h}),s=r.indexOf(a[a.length-1]);return s}var Zb;function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(this,arguments)}function mB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(n),!0).forEach(function(r){ya(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mX(r.key),r)}}function VCe(t,e,n){return e&&gB(t.prototype,e),n&&gB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HCe(t,e,n){return e=TS(e),GCe(t,pX()?Reflect.construct(e,n||[],TS(t).constructor):e.apply(t,n))}function GCe(t,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WCe(t)}function WCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function TS(t){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TS(t)}function XCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EO(t,e)}function ya(t,e,n){return e=mX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=qCe(t,"string");return cm(e)=="symbol"?e:e+""}function qCe(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gs=function(t){function e(n){var r;return $Ce(this,e),r=HCe(this,e,[n]),ya(r,"pieRef",null),ya(r,"sectorRefs",[]),ya(r,"id",zd("recharts-pie-")),ya(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pt(i)&&i()}),ya(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return XCe(e,t),VCe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,u=bt(this.props,!1),f=bt(a,!1),d=bt(s,!1),h=a&&a.offsetRadius||20,y=r.map(function(x,v){var m=(x.startAngle+x.endAngle)/2,_=kn(x.cx,x.cy,x.outerRadius+h,m),b=Nn(Nn(Nn(Nn({},u),x),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,x.cx)},_),w=Nn(Nn(Nn(Nn({},u),x),{},{fill:"none",stroke:x.fill},d),{},{index:v,points:[kn(x.cx,x.cy,x.outerRadius,m),_]}),E=l;return It(l)&&It(c)?E="value":It(l)&&(E=c),oe.createElement(rn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,w,"line"),e.renderLabelItem(a,b,Sr(x,E)))});return oe.createElement(rn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(u),d=l&&i.hasActiveIndex()?l:null,h=f?a:d,y=Nn(Nn({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return oe.createElement(rn,sp({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},wd(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),oe.createElement(hX,sp({option:h,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,d=f.prevSectors,h=f.prevIsAnimationActive;return oe.createElement(us,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,v=[],m=o&&o[0],_=m.startAngle;return o.forEach(function(b,w){var E=d&&d[w],M=w>0?Yo(b,"paddingAngle",0):0;if(E){var A=zr(E.endAngle-E.startAngle,b.endAngle-b.startAngle),P=Nn(Nn({},b),{},{startAngle:_+M,endAngle:_+A(x)+M});v.push(P),_=P.endAngle}else{var R=b.endAngle,O=b.startAngle,N=zr(0,R-O),L=N(x),j=Nn(Nn({},b),{},{startAngle:_+M,endAngle:_+L+M});v.push(j),_=j.endAngle}}),oe.createElement(rn,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Md(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,d=i.outerRadius,h=i.isAnimationActive,y=this.state.isAnimationFinished;if(o||!a||!a.length||!Ke(c)||!Ke(u)||!Ke(f)||!Ke(d))return null;var x=Lt("recharts-pie",s);return oe.createElement(rn,{tabIndex:this.props.rootTabIndex,className:x,ref:function(m){r.pieRef=m}},this.renderSectors(),l&&this.renderLabels(a),ri.renderCallByParent(this.props,null,!1),(!h||y)&&Ys.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(oe.isValidElement(r))return oe.cloneElement(r,i);if(Pt(r))return r(i);var a=Lt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return oe.createElement(nd,sp({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(oe.isValidElement(r))return oe.cloneElement(r,i);var a=o;if(Pt(r)&&(a=r(i),oe.isValidElement(a)))return a;var s=Lt("recharts-pie-label-text",typeof r!="boolean"&&!Pt(r)?r.className:"");return oe.createElement(Ed,sp({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(I.PureComponent);Zb=gs;ya(gs,"displayName","Pie");ya(gs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!is.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ya(gs,"parseDeltaAngle",function(t,e){var n=to(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ya(gs,"getRealPieData",function(t){var e=t.data,n=t.children,r=bt(t,!1),i=Ko(n,wu);return e&&e.length?e.map(function(o,a){return Nn(Nn(Nn({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Nn(Nn({},r),o.props)}):[]});ya(gs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=X7(i,o),s=r+no(t.cx,i,i/2),l=n+no(t.cy,o,o/2),c=no(t.innerRadius,a,0),u=no(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});ya(gs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Nn(Nn({},e.type.defaultProps),e.props):e.props,i=Zb.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,f=r.valueKey,d=r.tooltipType,h=Math.abs(r.minAngle),y=Zb.parseCoordinateOfPie(r,n),x=Zb.parseDeltaAngle(a,s),v=Math.abs(x),m=c;It(c)&&It(f)?(rs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m="value"):It(c)&&(rs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m=f);var _=i.filter(function(P){return Sr(P,m,0)!==0}).length,b=(v>=360?_:_-1)*l,w=v-_*h-b,E=i.reduce(function(P,R){var O=Sr(R,m,0);return P+(Ke(O)?O:0)},0),M;if(E>0){var A;M=i.map(function(P,R){var O=Sr(P,m,0),N=Sr(P,u,R),L=(Ke(O)?O:0)/E,j;R?j=A.endAngle+to(x)*l*(O!==0?1:0):j=a;var U=j+to(x)*((O!==0?h:0)+L*w),H=(j+U)/2,z=(y.innerRadius+y.outerRadius)/2,Q=[{name:N,value:O,payload:P,dataKey:m,type:d}],k=kn(y.cx,y.cy,z,H);return A=Nn(Nn(Nn({percent:L,cornerRadius:o,name:N,tooltipPayload:Q,midAngle:H,middleRadius:z,tooltipPosition:k},P),y),{},{value:Sr(P,m),startAngle:j,endAngle:U,payload:P,paddingAngle:to(x)*l}),A})}return Nn(Nn({},y),{},{sectors:M,data:i})});var YCe=Math.ceil,KCe=Math.max;function QCe(t,e,n,r){for(var i=-1,o=KCe(YCe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ZCe=QCe,JCe=D9,vB=1/0,e2e=17976931348623157e292;function t2e(t){if(!t)return t===0?t:0;if(t=JCe(t),t===vB||t===-vB){var e=t<0?-1:1;return e*e2e}return t===t?t:0}var gX=t2e,n2e=ZCe,r2e=LE,qA=gX;function i2e(t){return function(e,n,r){return r&&typeof r!="number"&&r2e(e,n,r)&&(n=r=void 0),e=qA(e),n===void 0?(n=e,e=0):n=qA(n),r=r===void 0?e<n?1:-1:qA(r),n2e(e,n,r,t)}}var o2e=i2e,a2e=o2e,s2e=a2e(),l2e=s2e;const AS=yn(l2e);function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function yB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(n),!0).forEach(function(r){vX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vX(t,e,n){return e=c2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2e(t){var e=u2e(t,"string");return Yy(e)=="symbol"?e:e+""}function u2e(t,e){if(Yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f2e=["Webkit","Moz","O","ms"],d2e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=f2e.reduce(function(o,a){return xB(xB({},o),{},vX({},a+r,n))},{});return i[e]=n,i};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(this,arguments)}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xX(r.key),r)}}function p2e(t,e,n){return e&&_B(t.prototype,e),n&&_B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m2e(t,e,n){return e=CS(e),g2e(t,yX()?Reflect.construct(e,n||[],CS(t).constructor):e.apply(t,n))}function g2e(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v2e(t)}function v2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yX=function(){return!!t})()}function CS(t){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CS(t)}function y2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MO(t,e)}function MO(t,e){return MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MO(t,e)}function jo(t,e,n){return e=xX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xX(t){var e=x2e(t,"string");return um(e)=="symbol"?e:e+""}function x2e(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b2e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Ov().domain(AS(0,l)).range([o,o+a-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},SB=function(e){return e.changedTouches&&!!e.changedTouches.length},fm=function(t){function e(n){var r;return h2e(this,e),r=m2e(this,e,[n]),jo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),jo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),jo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),jo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jo(r,"handleSlideDragStart",function(i){var o=SB(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return y2e(e,t),p2e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,o),d=Math.max(i,o),h=e.getIndexInRange(a,f),y=e.getIndexInRange(a,d);return{startIndex:h-h%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Sr(o[r],s,r);return Pt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,y=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,c+u-f-s,c+u-f-a):x<0&&(x=Math.max(x,c-a,c-s));var v=this.getIndex({startX:a+x,endX:s+x});(v.startIndex!==d||v.endIndex!==h)&&y&&y(v),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=SB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,d=u.width,h=u.travellerWidth,y=u.onChange,x=u.gap,v=u.data,m={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-h-c):_<0&&(_=Math.max(_,f-c)),m[a]=c+_;var b=this.getIndex(m),w=b.startIndex,E=b.endIndex,M=function(){var P=v.length-1;return a==="startX"&&(s>l?w%x===0:E%x===0)||s<l&&E===P||a==="endX"&&(s>l?E%x===0:w%x===0)||s>l&&E===P};this.setState(jo(jo({},a,c+_),"brushMoveStartX",r.pageX),function(){y&&M()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var h=s[d];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(jo({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return oe.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=I.Children.only(c);return f?oe.cloneElement(f,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,y=l.data,x=l.startIndex,v=l.endIndex,m=Math.max(r,this.props.x),_=YA(YA({},bt(this.props,!1)),{},{x:m,y:c,width:u,height:f}),b=h||"Min value: ".concat((o=y[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[v])===null||a===void 0?void 0:a.name);return oe.createElement(rn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,d=u.endX,h=5,y={pointerEvents:"none",fill:c};return oe.createElement(rn,{className:"recharts-brush-texts"},oe.createElement(Ed,PS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:a+s/2},y),this.getTextOfTick(i)),oe.createElement(Ed,PS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,d=this.state,h=d.startX,y=d.endX,x=d.isTextActive,v=d.isSlideMoving,m=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!Ke(s)||!Ke(l)||!Ke(c)||!Ke(u)||c<=0||u<=0)return null;var b=Lt("recharts-brush",o),w=oe.Children.count(a)===1,E=d2e("userSelect","none");return oe.createElement(rn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(x||v||m||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),oe.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return oe.isValidElement(r)?o=oe.cloneElement(r,i):Pt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return YA({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?b2e({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(I.PureComponent);jo(fm,"displayName","Brush");jo(fm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _2e=PN;function S2e(t,e){var n;return _2e(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var w2e=S2e,E2e=s9,M2e=al,T2e=w2e,A2e=To,P2e=LE;function C2e(t,e,n){var r=A2e(t)?E2e:T2e;return n&&P2e(t,e,n)&&(e=void 0),r(t,M2e(e))}var O2e=C2e;const R2e=yn(O2e);var Ks=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},wB=C9;function I2e(t,e,n){e=="__proto__"&&wB?wB(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var N2e=I2e,D2e=N2e,L2e=A9,k2e=al;function U2e(t,e){var n={};return e=k2e(e),L2e(t,function(r,i,o){D2e(n,i,e(r,i,o))}),n}var F2e=U2e;const j2e=yn(F2e);function z2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var B2e=z2e,$2e=PN;function V2e(t,e){var n=!0;return $2e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var H2e=V2e,G2e=B2e,W2e=H2e,X2e=al,q2e=To,Y2e=LE;function K2e(t,e,n){var r=q2e(t)?G2e:W2e;return n&&Y2e(t,e,n)&&(e=void 0),r(t,X2e(e))}var Q2e=K2e;const bX=yn(Q2e);var Z2e=["x","y"];function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TO.apply(this,arguments)}function EB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EB(Object(n),!0).forEach(function(r){J2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J2e(t,e,n){return e=eOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eOe(t){var e=tOe(t,"string");return Ky(e)=="symbol"?e:e+""}function tOe(t,e){if(Ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nOe(t,e){if(t==null)return{};var n=rOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iOe(t,e){var n=t.x,r=t.y,i=nOe(t,Z2e),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Wg(Wg(Wg(Wg(Wg({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function MB(t){return oe.createElement(hX,TO({shapeType:"rectangle",propTransformer:iOe,activeClassName:"recharts-active-bar"},t))}var oOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ke(r)||Ofe(r);return o?e(r,i):(o||Ad(),n)}},aOe=["value","background"],_X;function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function sOe(t,e){if(t==null)return{};var n=lOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(this,arguments)}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){ou(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wX(r.key),r)}}function uOe(t,e,n){return e&&AB(t.prototype,e),n&&AB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fOe(t,e,n){return e=RS(e),dOe(t,SX()?Reflect.construct(e,n||[],RS(t).constructor):e.apply(t,n))}function dOe(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hOe(t)}function hOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!t})()}function RS(t){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(t)}function pOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AO(t,e)}function AO(t,e){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AO(t,e)}function ou(t,e,n){return e=wX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wX(t){var e=mOe(t,"string");return dm(e)=="symbol"?e:e+""}function mOe(t,e){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pc=function(t){function e(){var n;cOe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fOe(this,e,[].concat(i)),ou(n,"state",{isAnimationFinished:!1}),ou(n,"id",zd("recharts-bar-")),ou(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ou(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return pOe(e,t),uOe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=bt(this.props,!1);return r&&r.map(function(f,d){var h=d===l,y=h?c:a,x=Cr(Cr(Cr({},u),f),{},{isActive:h,option:y,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return oe.createElement(rn,OS({className:"recharts-bar-rectangle"},wd(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),oe.createElement(MB,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return oe.createElement(us,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,x=o.map(function(v,m){var _=d&&d[m];if(_){var b=zr(_.x,v.x),w=zr(_.y,v.y),E=zr(_.width,v.width),M=zr(_.height,v.height);return Cr(Cr({},v),{},{x:b(y),y:w(y),width:E(y),height:M(y)})}if(a==="horizontal"){var A=zr(0,v.height),P=A(y);return Cr(Cr({},v),{},{y:v.y+v.height-P,height:P})}var R=zr(0,v.width),O=R(y);return Cr(Cr({},v),{},{width:O})});return oe.createElement(rn,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Md(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=bt(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,d=sOe(c,aOe);if(!f)return null;var h=Cr(Cr(Cr(Cr(Cr({},d),{},{fill:"#eee"},f),l),wd(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return oe.createElement(MB,OS({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=Ko(u,F0);if(!f)return null;var d=c==="vertical"?a[0].height/2:a[0].width/2,h=function(v,m){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Sr(v,m)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return oe.createElement(rn,y,f.map(function(x){return oe.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,d=r.height,h=r.isAnimationActive,y=r.background,x=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,m=Lt("recharts-bar",a),_=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=_||b,E=It(x)?this.id:x;return oe.createElement(rn,{className:m},_||b?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(E)},oe.createElement("rect",{x:_?c:c-f/2,y:b?u:u-d/2,width:_?f:f*2,height:b?d:d*2}))):null,oe.createElement(rn,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,E),(!h||v)&&Ys.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(I.PureComponent);_X=pc;ou(pc,"displayName","Bar");ou(pc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!is.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ou(pc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=qEe(r,n);if(!h)return null;var y=e.layout,x=n.type.defaultProps,v=x!==void 0?Cr(Cr({},x),n.props):n.props,m=v.dataKey,_=v.children,b=v.minPointSize,w=y==="horizontal"?a:o,E=c?w.scale.domain():null,M=tMe({numericAxis:w}),A=Ko(_,wu),P=f.map(function(R,O){var N,L,j,U,H,z;c?N=YEe(c[u+O],E):(N=Sr(R,m),Array.isArray(N)||(N=[M,N]));var Q=oOe(b,_X.defaultProps.minPointSize)(N[1],O);if(y==="horizontal"){var k,B=[a.scale(N[0]),a.scale(N[1])],W=B[0],$=B[1];L=gz({axis:o,ticks:s,bandSize:i,offset:h.offset,entry:R,index:O}),j=(k=$??W)!==null&&k!==void 0?k:void 0,U=h.size;var Y=W-$;if(H=Number.isNaN(Y)?0:Y,z={x:L,y:a.y,width:U,height:a.height},Math.abs(Q)>0&&Math.abs(H)<Math.abs(Q)){var J=to(H||Q)*(Math.abs(Q)-Math.abs(H));j-=J,H+=J}}else{var X=[o.scale(N[0]),o.scale(N[1])],te=X[0],ie=X[1];if(L=te,j=gz({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:R,index:O}),U=ie-te,H=h.size,z={x:o.x,y:j,width:o.width,height:H},Math.abs(Q)>0&&Math.abs(U)<Math.abs(Q)){var ee=to(U||Q)*(Math.abs(Q)-Math.abs(U));U+=ee}}return Cr(Cr(Cr({},R),{},{x:L,y:j,width:U,height:H,value:c?N:N[1],payload:R,background:z},A&&A[O]&&A[O].props),{},{tooltipPayload:[G7(n,R)],tooltipPosition:{x:L+U/2,y:j+H/2}})});return Cr({data:P,layout:y},d)});function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function gOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EX(r.key),r)}}function vOe(t,e,n){return e&&PB(t.prototype,e),n&&PB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZE(t,e,n){return e=EX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EX(t){var e=yOe(t,"string");return Qy(e)=="symbol"?e:e+""}function yOe(t,e){if(Qy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rD=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!$o(c,pc);return u.reduce(function(h,y){var x=n[y],v=x.orientation,m=x.domain,_=x.padding,b=_===void 0?{}:_,w=x.mirror,E=x.reversed,M="".concat(v).concat(w?"Mirror":""),A,P,R,O,N;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var L=m[1]-m[0],j=1/0,U=x.categoricalDomain.sort(Nfe);if(U.forEach(function(X,te){te>0&&(j=Math.min((X||0)-(U[te-1]||0),j))}),Number.isFinite(j)){var H=j/L,z=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(A=H*z/2),x.padding==="no-gap"){var Q=no(e.barCategoryGap,H*z),k=H*z/2;A=k-Q-(k-Q)/z*Q}}}i==="xAxis"?P=[r.left+(b.left||0)+(A||0),r.left+r.width-(b.right||0)-(A||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(A||0),r.top+r.height-(b.bottom||0)-(A||0)]:P=x.range,E&&(P=[P[1],P[0]]);var B=B7(x,o,d),W=B.scale,$=B.realScaleType;W.domain(m).range(P),$7(W);var Y=V7(W,Wa(Wa({},x),{},{realScaleType:$}));i==="xAxis"?(N=v==="top"&&!w||v==="bottom"&&w,R=r.left,O=f[M]-N*x.height):i==="yAxis"&&(N=v==="left"&&!w||v==="right"&&w,R=f[M]-N*x.width,O=r.top);var J=Wa(Wa(Wa({},x),Y),{},{realScaleType:$,x:R,y:O,scale:W,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return J.bandSize=mS(J,Y),!x.hide&&i==="xAxis"?f[M]+=(N?-1:1)*J.height:x.hide||(f[M]+=(N?-1:1)*J.width),Wa(Wa({},h),{},ZE({},y,J))},{})},MX=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},xOe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return MX({x:n,y:r},{x:i,y:o})},TX=function(){function t(e){gOe(this,t),this.scale=e}return vOe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ZE(TX,"EPS",1e-4);var iD=function(e){var n=Object.keys(e).reduce(function(r,i){return Wa(Wa({},r),{},ZE({},i,TX.create(e[i])))},{});return Wa(Wa({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return j2e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return bX(i,function(o,a){return n[a].isInRange(o)})}})};function bOe(t){return(t%180+180)%180}var _Oe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=bOe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},SOe=al,wOe=N0,EOe=NE;function MOe(t){return function(e,n,r){var i=Object(e);if(!wOe(e)){var o=SOe(n);e=EOe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var TOe=MOe,AOe=gX;function POe(t){var e=AOe(t),n=e%1;return e===e?n?e-n:e:0}var COe=POe,OOe=_9,ROe=al,IOe=COe,NOe=Math.max;function DOe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:IOe(n);return i<0&&(i=NOe(r+i,0)),OOe(t,ROe(e),i)}var LOe=DOe,kOe=TOe,UOe=LOe,FOe=kOe(UOe),jOe=FOe;const zOe=yn(jOe);var BOe=Due(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),oD=I.createContext(void 0),aD=I.createContext(void 0),AX=I.createContext(void 0),PX=I.createContext({}),CX=I.createContext(void 0),OX=I.createContext(0),RX=I.createContext(0),OB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=BOe(o);return oe.createElement(oD.Provider,{value:r},oe.createElement(aD.Provider,{value:i},oe.createElement(PX.Provider,{value:o},oe.createElement(AX.Provider,{value:u},oe.createElement(CX.Provider,{value:a},oe.createElement(OX.Provider,{value:c},oe.createElement(RX.Provider,{value:l},s)))))))},$Oe=function(){return I.useContext(CX)},IX=function(e){var n=I.useContext(oD);n==null&&Ad();var r=n[e];return r==null&&Ad(),r},VOe=function(){var e=I.useContext(oD);return qc(e)},HOe=function(){var e=I.useContext(aD),n=zOe(e,function(r){return bX(r.domain,Number.isFinite)});return n||qc(e)},NX=function(e){var n=I.useContext(aD);n==null&&Ad();var r=n[e];return r==null&&Ad(),r},GOe=function(){var e=I.useContext(AX);return e},WOe=function(){return I.useContext(PX)},sD=function(){return I.useContext(RX)},lD=function(){return I.useContext(OX)};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function XOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LX(r.key),r)}}function YOe(t,e,n){return e&&qOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KOe(t,e,n){return e=IS(e),QOe(t,DX()?Reflect.construct(e,n||[],IS(t).constructor):e.apply(t,n))}function QOe(t,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZOe(t)}function ZOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!t})()}function IS(t){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IS(t)}function JOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PO(t,e)}function PO(t,e){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PO(t,e)}function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(r){cD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cD(t,e,n){return e=LX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LX(t){var e=eRe(t,"string");return hm(e)=="symbol"?e:e+""}function eRe(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tRe(t,e){return oRe(t)||iRe(t,e)||rRe(t,e)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rRe(t,e){if(t){if(typeof t=="string")return NB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NB(t,e)}}function NB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function oRe(t){if(Array.isArray(t))return t}function CO(){return CO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CO.apply(this,arguments)}var aRe=function(e,n){var r;return oe.isValidElement(e)?r=oe.cloneElement(e,n):Pt(e)?r=e(n):r=oe.createElement("line",CO({},n,{className:"recharts-reference-line-line"})),r},sRe=function(e,n,r,i,o,a,s,l,c){var u=o.x,f=o.y,d=o.width,h=o.height;if(r){var y=c.y,x=e.y.apply(y,{position:a});if(Ks(c,"discard")&&!e.y.isInRange(x))return null;var v=[{x:u+d,y:x},{x:u,y:x}];return l==="left"?v.reverse():v}if(n){var m=c.x,_=e.x.apply(m,{position:a});if(Ks(c,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:f+h},{x:_,y:f}];return s==="top"?b.reverse():b}if(i){var w=c.segment,E=w.map(function(M){return e.apply(M,{position:a})});return Ks(c,"discard")&&R2e(E,function(M){return!e.isInRange(M)})?null:E}return null};function lRe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=$Oe(),u=IX(i),f=NX(o),d=GOe();if(!c||!d)return null;rs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=iD({x:u.scale,y:f.scale}),y=Vr(e),x=Vr(n),v=r&&r.length===2,m=sRe(h,y,x,v,d,t.position,u.orientation,f.orientation,t);if(!m)return null;var _=tRe(m,2),b=_[0],w=b.x,E=b.y,M=_[1],A=M.x,P=M.y,R=Ks(t,"hidden")?"url(#".concat(c,")"):void 0,O=IB(IB({clipPath:R},bt(t,!0)),{},{x1:w,y1:E,x2:A,y2:P});return oe.createElement(rn,{className:Lt("recharts-reference-line",s)},aRe(a,O),ri.renderCallByParent(t,xOe({x1:w,y1:E,x2:A,y2:P})))}var uD=function(t){function e(){return XOe(this,e),KOe(this,e,arguments)}return JOe(e,t),YOe(e,[{key:"render",value:function(){return oe.createElement(lRe,this.props)}}])}(oe.Component);cD(uD,"displayName","ReferenceLine");cD(uD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function OO(){return OO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OO.apply(this,arguments)}function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function DB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(n),!0).forEach(function(r){JE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UX(r.key),r)}}function fRe(t,e,n){return e&&uRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dRe(t,e,n){return e=NS(e),hRe(t,kX()?Reflect.construct(e,n||[],NS(t).constructor):e.apply(t,n))}function hRe(t,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pRe(t)}function pRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!t})()}function NS(t){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NS(t)}function mRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}function RO(t,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RO(t,e)}function JE(t,e,n){return e=UX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=gRe(t,"string");return pm(e)=="symbol"?e:e+""}function gRe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vRe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=iD({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Ks(e,"discard")&&!a.isInRange(s)?null:s},eM=function(t){function e(){return cRe(this,e),dRe(this,e,arguments)}return mRe(e,t),fRe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=Vr(i),u=Vr(o);if(rs(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=vRe(this.props);if(!f)return null;var d=f.x,h=f.y,y=this.props,x=y.shape,v=y.className,m=Ks(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=LB(LB({clipPath:m},bt(this.props,!0)),{},{cx:d,cy:h});return oe.createElement(rn,{className:Lt("recharts-reference-dot",v)},e.renderDot(x,_),ri.renderCallByParent(this.props,{x:d-a,y:h-a,width:2*a,height:2*a}))}}])}(oe.Component);JE(eM,"displayName","ReferenceDot");JE(eM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});JE(eM,"renderDot",function(t,e){var n;return oe.isValidElement(t)?n=oe.cloneElement(t,e):Pt(t)?n=t(e):n=oe.createElement(j0,OO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function IO(){return IO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IO.apply(this,arguments)}function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function kB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(n),!0).forEach(function(r){tM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jX(r.key),r)}}function bRe(t,e,n){return e&&xRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Re(t,e,n){return e=DS(e),SRe(t,FX()?Reflect.construct(e,n||[],DS(t).constructor):e.apply(t,n))}function SRe(t,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wRe(t)}function wRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FX=function(){return!!t})()}function DS(t){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DS(t)}function ERe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NO(t,e)}function NO(t,e){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NO(t,e)}function tM(t,e,n){return e=jX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=MRe(t,"string");return mm(e)=="symbol"?e:e+""}function MRe(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TRe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var d=iD({x:u.scale,y:f.scale}),h={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},y={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Ks(o,"discard")&&(!d.isInRange(h)||!d.isInRange(y))?null:MX(h,y)},nM=function(t){function e(){return yRe(this,e),_Re(this,e,arguments)}return ERe(e,t),bRe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;rs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Vr(i),d=Vr(o),h=Vr(a),y=Vr(s),x=this.props.shape;if(!f&&!d&&!h&&!y&&!x)return null;var v=TRe(f,d,h,y,this.props);if(!v&&!x)return null;var m=Ks(this.props,"hidden")?"url(#".concat(u,")"):void 0;return oe.createElement(rn,{className:Lt("recharts-reference-area",l)},e.renderRect(x,UB(UB({clipPath:m},bt(this.props,!0)),v)),ri.renderCallByParent(this.props,v))}}])}(oe.Component);tM(nM,"displayName","ReferenceArea");tM(nM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tM(nM,"renderRect",function(t,e){var n;return oe.isValidElement(t)?n=oe.cloneElement(t,e):Pt(t)?n=t(e):n=oe.createElement(nD,IO({},e,{className:"recharts-reference-area-rect"})),n});function zX(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ARe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _Oe(r,n)}function PRe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function LS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function CRe(t,e){return zX(t,e+1)}function ORe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:zX(r,c)};var x=l,v,m=function(){return v===void 0&&(v=n(y,x)),v},_=y.coordinate,b=l===0||LS(t,_,m,u,s);b||(l=0,u=a,c+=1),b&&(u=_+t*(m()/2+i),l+=c)},d;c<=o.length;)if(d=f(),d)return d.v;return[]}function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(r){RRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RRe(t,e,n){return e=IRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IRe(t){var e=NRe(t,"string");return Zy(e)=="symbol"?e:e+""}function NRe(t,e){if(Zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DRe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(d){var h=o[d],y,x=function(){return y===void 0&&(y=n(h,d)),y};if(d===a-1){var v=t*(h.coordinate+t*x()/2-l);o[d]=h=Di(Di({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else o[d]=h=Di(Di({},h),{},{tickCoord:h.coordinate});var m=LS(t,h.tickCoord,x,s,l);m&&(l=h.tickCoord-t*(x()/2+i),o[d]=Di(Di({},h),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function LRe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],f=n(u,s-1),d=t*(u.coordinate+t*f/2-c);a[s-1]=u=Di(Di({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var h=LS(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),a[s-1]=Di(Di({},u),{},{isShow:!0}))}for(var y=o?s-1:s,x=function(_){var b=a[_],w,E=function(){return w===void 0&&(w=n(b,_)),w};if(_===0){var M=t*(b.coordinate-t*E()/2-l);a[_]=b=Di(Di({},b),{},{tickCoord:M<0?b.coordinate-M*t:b.coordinate})}else a[_]=b=Di(Di({},b),{},{tickCoord:b.coordinate});var A=LS(t,b.tickCoord,E,l,c);A&&(l=b.tickCoord+t*(E()/2+i),a[_]=Di(Di({},b),{},{isShow:!0}))},v=0;v<y;v++)x(v);return a}function fD(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ke(l)||is.isSsr)return CRe(i,typeof l=="number"&&Ke(l)?l:0);var d=[],h=s==="top"||s==="bottom"?"width":"height",y=u&&h==="width"?Cv(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(b,w){var E=Pt(c)?c(b.value,w):b.value;return h==="width"?ARe(Cv(E,{fontSize:e,letterSpacing:n}),y,f):Cv(E,{fontSize:e,letterSpacing:n})[h]},v=i.length>=2?to(i[1].coordinate-i[0].coordinate):1,m=PRe(o,v,h);return l==="equidistantPreserveStart"?ORe(v,m,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=LRe(v,m,x,i,a,l==="preserveStartEnd"):d=DRe(v,m,x,i,a),d.filter(function(_){return _.isShow}))}var kRe=["viewBox"],URe=["viewBox"],FRe=["ticks"];function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(n),!0).forEach(function(r){dD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KA(t,e){if(t==null)return{};var n=jRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$X(r.key),r)}}function BRe(t,e,n){return e&&zB(t.prototype,e),n&&zB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Re(t,e,n){return e=kS(e),VRe(t,BX()?Reflect.construct(e,n||[],kS(t).constructor):e.apply(t,n))}function VRe(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HRe(t)}function HRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!t})()}function kS(t){return kS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kS(t)}function GRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DO(t,e)}function DO(t,e){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DO(t,e)}function dD(t,e,n){return e=$X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $X(t){var e=WRe(t,"string");return gm(e)=="symbol"?e:e+""}function WRe(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym=function(t){function e(n){var r;return zRe(this,e),r=$Re(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return GRe(e,t),BRe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=KA(r,kRe),s=this.props,l=s.viewBox,c=KA(s,URe);return!Pp(o,l)||!Pp(a,c)||!Pp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,h,y,x,v,m,_,b=f?-1:1,w=r.tickSize||u,E=Ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=y=r.coordinate,v=a+ +!f*l,x=v-b*w,_=x-b*d,m=E;break;case"left":x=v=r.coordinate,y=o+ +!f*s,h=y-b*w,m=h-b*d,_=E;break;case"right":x=v=r.coordinate,y=o+ +f*s,h=y+b*w,m=h+b*d,_=E;break;default:h=y=r.coordinate,v=a+ +f*l,x=v+b*w,_=x+b*d,m=E;break}return{line:{x1:h,y1:x,x2:y,y2:v},tick:{x:m,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=Ur(Ur(Ur({},bt(this.props,!1)),bt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=Ur(Ur({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=Ur(Ur({},f),{},{x1:i+h*a,y1:o,x2:i+h*a,y2:o+s})}return oe.createElement("line",lp({},f,{className:Lt("recharts-cartesian-axis-line",Yo(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,d=s.unit,h=fD(Ur(Ur({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=bt(this.props,!1),m=bt(u,!1),_=Ur(Ur({},v),{},{fill:"none"},bt(l,!1)),b=h.map(function(w,E){var M=a.getTickLineCoord(w),A=M.line,P=M.tick,R=Ur(Ur(Ur(Ur({textAnchor:y,verticalAnchor:x},v),{},{stroke:"none",fill:c},m),P),{},{index:E,payload:w,visibleTicksCount:h.length,tickFormatter:f});return oe.createElement(rn,lp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},wd(a.props,w,E)),l&&oe.createElement("line",lp({},_,A,{className:Lt("recharts-cartesian-axis-tick-line",Yo(l,"className"))})),u&&e.renderTickItem(u,R,"".concat(Pt(f)?f(w.value,E):w.value).concat(d||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,h=KA(f,FRe),y=d;return Pt(l)&&(y=d&&d.length>0?l(this.props):l(h)),a<=0||s<=0||!y||!y.length?null:oe.createElement(rn,{className:Lt("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ri.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Lt(i.className,"recharts-cartesian-axis-tick-value");return oe.isValidElement(r)?a=oe.cloneElement(r,Ur(Ur({},i),{},{className:s})):Pt(r)?a=r(Ur(Ur({},i),{},{className:s})):a=oe.createElement(Ed,lp({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(I.Component);dD(Ym,"displayName","CartesianAxis");dD(Ym,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var XRe=["x1","y1","x2","y2","key"],qRe=["offset"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function BB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(n),!0).forEach(function(r){YRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YRe(t,e,n){return e=KRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KRe(t){var e=QRe(t,"string");return Cd(e)=="symbol"?e:e+""}function QRe(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}function $B(t,e){if(t==null)return{};var n=ZRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JRe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return oe.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VX(t,e){var n;if(oe.isValidElement(t))n=oe.cloneElement(t,e);else if(Pt(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=$B(e,XRe),c=bt(l,!1);c.offset;var u=$B(c,qRe);n=oe.createElement("line",Ff({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function eIe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ki(ki({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return VX(i,c)});return oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function tIe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ki(ki({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return VX(i,c)});return oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function nIe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var y=!u[h+1],x=y?i+a-d:u[h+1]-d;if(x<=0)return null;var v=h%e.length;return oe.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:x,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rIe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(d){return Math.round(d+o-o)}).sort(function(d,h){return d-h});o!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var y=!u[h+1],x=y?o+s-d:u[h+1]-d;if(x<=0)return null;var v=h%r.length;return oe.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:x,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var iIe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return z7(fD(ki(ki(ki({},Ym.defaultProps),r),{},{ticks:Bl(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},oIe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return z7(fD(ki(ki(ki({},Ym.defaultProps),r),{},{ticks:Bl(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},xh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rd(t){var e,n,r,i,o,a,s=sD(),l=lD(),c=WOe(),u=ki(ki({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:xh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:xh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:xh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:xh.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:xh.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:xh.verticalFill,x:Ke(t.x)?t.x:c.left,y:Ke(t.y)?t.y:c.top,width:Ke(t.width)?t.width:c.width,height:Ke(t.height)?t.height:c.height}),f=u.x,d=u.y,h=u.width,y=u.height,x=u.syncWithTicks,v=u.horizontalValues,m=u.verticalValues,_=VOe(),b=HOe();if(!Ke(h)||h<=0||!Ke(y)||y<=0||!Ke(f)||f!==+f||!Ke(d)||d!==+d)return null;var w=u.verticalCoordinatesGenerator||iIe,E=u.horizontalCoordinatesGenerator||oIe,M=u.horizontalPoints,A=u.verticalPoints;if((!M||!M.length)&&Pt(E)){var P=v&&v.length,R=E({yAxis:b?ki(ki({},b),{},{ticks:P?v:b.ticks}):void 0,width:s,height:l,offset:c},P?!0:x);rs(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Cd(R),"]")),Array.isArray(R)&&(M=R)}if((!A||!A.length)&&Pt(w)){var O=m&&m.length,N=w({xAxis:_?ki(ki({},_),{},{ticks:O?m:_.ticks}):void 0,width:s,height:l,offset:c},O?!0:x);rs(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Cd(N),"]")),Array.isArray(N)&&(A=N)}return oe.createElement("g",{className:"recharts-cartesian-grid"},oe.createElement(JRe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),oe.createElement(eIe,Ff({},u,{offset:c,horizontalPoints:M,xAxis:_,yAxis:b})),oe.createElement(tIe,Ff({},u,{offset:c,verticalPoints:A,xAxis:_,yAxis:b})),oe.createElement(nIe,Ff({},u,{horizontalPoints:M})),oe.createElement(rIe,Ff({},u,{verticalPoints:A})))}rd.displayName="CartesianGrid";var aIe=["type","layout","connectNulls","ref"],sIe=["key"];function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function VB(t,e){if(t==null)return{};var n=lIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function HB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(n),!0).forEach(function(r){Xa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bh(t){return dIe(t)||fIe(t)||uIe(t)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function fIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dIe(t){if(Array.isArray(t))return LO(t)}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GX(r.key),r)}}function pIe(t,e,n){return e&&GB(t.prototype,e),n&&GB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mIe(t,e,n){return e=US(e),gIe(t,HX()?Reflect.construct(e,n||[],US(t).constructor):e.apply(t,n))}function gIe(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vIe(t)}function vIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HX=function(){return!!t})()}function US(t){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},US(t)}function yIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kO(t,e)}function kO(t,e){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kO(t,e)}function Xa(t,e,n){return e=GX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=xIe(t,"string");return vm(e)=="symbol"?e:e+""}function xIe(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0=function(t){function e(){var n;hIe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mIe(this,e,[].concat(i)),Xa(n,"state",{isAnimationFinished:!0,totalLength:0}),Xa(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Xa(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(m,_){return m+_});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var u=Math.floor(a/c),f=a%c,d=s-a,h=[],y=0,x=0;y<l.length;x+=l[y],++y)if(x+l[y]>f){h=[].concat(bh(l.slice(0,y)),[f-x]);break}var v=h.length%2===0?[0,d]:[d];return[].concat(bh(e.repeat(l,u)),bh(h),v).map(function(m){return"".concat(m,"px")}).join(", ")}),Xa(n,"id",zd("recharts-line-")),Xa(n,"pathRef",function(a){n.mainCurve=a}),Xa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Xa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return yIe(e,t),pIe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=Ko(u,F0);if(!f)return null;var d=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:Sr(x.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return oe.createElement(rn,h,f.map(function(y){return oe.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=bt(this.props,!1),d=bt(l,!0),h=c.map(function(x,v){var m=Fo(Fo(Fo({key:"dot-".concat(v),r:3},f),d),{},{index:v,cx:x.x,cy:x.y,value:x.value,dataKey:u,payload:x.payload,points:c});return e.renderDotItem(l,m)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return oe.createElement(rn,Lv({className:"recharts-line-dots",key:"dots"},y),h)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=VB(s,aIe),d=Fo(Fo(Fo({},bt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return oe.createElement(nd,Lv({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,h=a.animationId,y=a.animateNewValues,x=a.width,v=a.height,m=this.state,_=m.prevPoints,b=m.totalLength;return oe.createElement(us,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var E=w.t;if(_){var M=_.length/s.length,A=s.map(function(L,j){var U=Math.floor(j*M);if(_[U]){var H=_[U],z=zr(H.x,L.x),Q=zr(H.y,L.y);return Fo(Fo({},L),{},{x:z(E),y:Q(E)})}if(y){var k=zr(x*2,L.x),B=zr(v/2,L.y);return Fo(Fo({},L),{},{x:k(E),y:B(E)})}return Fo(Fo({},L),{},{x:L.x,y:L.y})});return o.renderCurveStatically(A,r,i)}var P=zr(0,b),R=P(E),O;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});O=o.getStrokeDasharray(R,b,N)}else O=o.generateSimpleStrokeDasharray(b,R);return o.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&a&&a.length&&(!c&&u>0||!Md(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,d=i.left,h=i.width,y=i.height,x=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var m=this.state.isAnimationFinished,_=s.length===1,b=Lt("recharts-line",l),w=c&&c.allowDataOverflow,E=u&&u.allowDataOverflow,M=w||E,A=It(v)?this.id:v,P=(r=bt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=P.r,O=R===void 0?3:R,N=P.strokeWidth,L=N===void 0?2:N,j=IW(a)?a:{},U=j.clipDot,H=U===void 0?!0:U,z=O*2+L;return oe.createElement(rn,{className:b},w||E?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(A)},oe.createElement("rect",{x:w?d:d-h/2,y:E?f:f-y/2,width:w?h:h*2,height:E?y:y*2})),!H&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(A)},oe.createElement("rect",{x:d-z/2,y:f-z/2,width:h+z,height:y+z}))):null,!_&&this.renderCurve(M,A),this.renderErrorBar(M,A),(_||a)&&this.renderDots(M,H,A),(!x||m)&&Ys.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(bh(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(bh(a),bh(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(oe.isValidElement(r))o=oe.cloneElement(r,i);else if(Pt(r))o=r(i);else{var a=i.key,s=VB(i,sIe),l=Lt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=oe.createElement(j0,Lv({key:a},s,{className:l}))}return o}}])}(I.PureComponent);Xa(z0,"displayName","Line");Xa(z0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!is.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Xa(z0,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(d,h){var y=Sr(d,a);return u==="horizontal"?{x:pS({axis:n,ticks:i,bandSize:s,entry:d,index:h}),y:It(y)?null:r.scale(y),value:y,payload:d}:{x:It(y)?null:n.scale(y),y:pS({axis:r,ticks:o,bandSize:s,entry:d,index:h}),value:y,payload:d}});return Fo({points:f,layout:u},c)});var bIe=["layout","type","stroke","connectNulls","isRange","ref"],_Ie=["key"],WX;function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function XX(t,e){if(t==null)return{};var n=SIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(this,arguments)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YX(r.key),r)}}function EIe(t,e,n){return e&&XB(t.prototype,e),n&&XB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MIe(t,e,n){return e=FS(e),TIe(t,qX()?Reflect.construct(e,n||[],FS(t).constructor):e.apply(t,n))}function TIe(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AIe(t)}function AIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!t})()}function FS(t){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FS(t)}function PIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UO(t,e)}function UO(t,e){return UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UO(t,e)}function zs(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=CIe(t,"string");return ym(e)=="symbol"?e:e+""}function CIe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mc=function(t){function e(){var n;wIe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=MIe(this,e,[].concat(i)),zs(n,"state",{isAnimationFinished:!0}),zs(n,"id",zd("recharts-area-")),zs(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pt(a)&&a()}),zs(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pt(a)&&a()}),n}return PIe(e,t),EIe(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=bt(this.props,!1),h=bt(c,!0),y=u.map(function(v,m){var _=Bc(Bc(Bc({key:"dot-".concat(m),r:3},d),h),{},{index:m,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,_)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return oe.createElement(rn,jf({className:"recharts-area-dots"},x),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),f=iu(a.map(function(d){return d.y||0}));return Ke(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(iu(o.map(function(d){return d.y||0})),f)),Ke(f)?oe.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),f=iu(a.map(function(d){return d.x||0}));return Ke(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(iu(o.map(function(d){return d.x||0})),f)),Ke(f)?oe.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,d=s.isRange;s.ref;var h=XX(s,bIe);return oe.createElement(rn,{clipPath:o?"url(#clipPath-".concat(a,")"):null},oe.createElement(nd,jf({},bt(h,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&oe.createElement(nd,jf({},bt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),u!=="none"&&d&&oe.createElement(nd,jf({},bt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,h=a.animationId,y=this.state,x=y.prevPoints,v=y.prevBaseLine;return oe.createElement(us,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var _=m.t;if(x){var b=x.length/s.length,w=s.map(function(P,R){var O=Math.floor(R*b);if(x[O]){var N=x[O],L=zr(N.x,P.x),j=zr(N.y,P.y);return Bc(Bc({},P),{},{x:L(_),y:j(_)})}return P}),E;if(Ke(l)&&typeof l=="number"){var M=zr(v,l);E=M(_)}else if(It(l)||$m(l)){var A=zr(v,0);E=A(_)}else E=l.map(function(P,R){var O=Math.floor(R*b);if(v[O]){var N=v[O],L=zr(N.x,P.x),j=zr(N.y,P.y);return Bc(Bc({},P),{},{x:L(_),y:j(_)})}return P});return o.renderAreaStatically(w,E,r,i)}return oe.createElement(rn,null,oe.createElement("defs",null,oe.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),oe.createElement(rn,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,d=c.totalLength;return l&&a&&a.length&&(!u&&d>0||!Md(u,a)||!Md(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,d=i.yAxis,h=i.width,y=i.height,x=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var m=this.state.isAnimationFinished,_=s.length===1,b=Lt("recharts-area",l),w=f&&f.allowDataOverflow,E=d&&d.allowDataOverflow,M=w||E,A=It(v)?this.id:v,P=(r=bt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=P.r,O=R===void 0?3:R,N=P.strokeWidth,L=N===void 0?2:N,j=IW(a)?a:{},U=j.clipDot,H=U===void 0?!0:U,z=O*2+L;return oe.createElement(rn,{className:b},w||E?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(A)},oe.createElement("rect",{x:w?u:u-h/2,y:E?c:c-y/2,width:w?h:h*2,height:E?y:y*2})),!H&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(A)},oe.createElement("rect",{x:u-z/2,y:c-z/2,width:h+z,height:y+z}))):null,_?null:this.renderArea(M,A),(a||_)&&this.renderDots(M,H,A),(!x||m)&&Ys.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(I.PureComponent);WX=mc;zs(mc,"displayName","Area");zs(mc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!is.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zs(mc,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(Ke(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});zs(mc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=e.layout,y=c&&c.length,x=WX.getBaseValue(e,n,r,i),v=h==="horizontal",m=!1,_=f.map(function(w,E){var M;y?M=c[u+E]:(M=Sr(w,l),Array.isArray(M)?m=!0:M=[x,M]);var A=M[1]==null||y&&Sr(w,l)==null;return v?{x:pS({axis:r,ticks:o,bandSize:s,entry:w,index:E}),y:A?null:i.scale(M[1]),value:M,payload:w}:{x:A?null:r.scale(M[1]),y:pS({axis:i,ticks:a,bandSize:s,entry:w,index:E}),value:M,payload:w}}),b;return y||m?b=_.map(function(w){var E=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:E!=null&&w.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:w.y}}):b=v?i.scale(x):r.scale(x),Bc({points:_,baseLine:b,layout:h,isRange:m},d)});zs(mc,"renderDotItem",function(t,e){var n;if(oe.isValidElement(t))n=oe.cloneElement(t,e);else if(Pt(t))n=t(e);else{var r=Lt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=XX(e,_Ie);n=oe.createElement(j0,jf({},o,{key:i,className:r}))}return n});function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function OIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZX(r.key),r)}}function IIe(t,e,n){return e&&RIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NIe(t,e,n){return e=jS(e),DIe(t,KX()?Reflect.construct(e,n||[],jS(t).constructor):e.apply(t,n))}function DIe(t,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LIe(t)}function LIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!t})()}function jS(t){return jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jS(t)}function kIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FO(t,e)}function FO(t,e){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FO(t,e)}function QX(t,e,n){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZX(t){var e=UIe(t,"string");return xm(e)=="symbol"?e:e+""}function UIe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jO(){return jO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jO.apply(this,arguments)}function FIe(t){var e=t.xAxisId,n=sD(),r=lD(),i=IX(e);return i==null?null:I.createElement(Ym,jO({},i,{className:Lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Bl(a,!0)}}))}var os=function(t){function e(){return OIe(this,e),NIe(this,e,arguments)}return kIe(e,t),IIe(e,[{key:"render",value:function(){return I.createElement(FIe,this.props)}}])}(I.Component);QX(os,"displayName","XAxis");QX(os,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function jIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tq(r.key),r)}}function BIe(t,e,n){return e&&zIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ie(t,e,n){return e=zS(e),VIe(t,JX()?Reflect.construct(e,n||[],zS(t).constructor):e.apply(t,n))}function VIe(t,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HIe(t)}function HIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JX=function(){return!!t})()}function zS(t){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zS(t)}function GIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zO(t,e)}function zO(t,e){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zO(t,e)}function eq(t,e,n){return e=tq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tq(t){var e=WIe(t,"string");return bm(e)=="symbol"?e:e+""}function WIe(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BO(){return BO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BO.apply(this,arguments)}var XIe=function(e){var n=e.yAxisId,r=sD(),i=lD(),o=NX(n);return o==null?null:I.createElement(Ym,BO({},o,{className:Lt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Bl(s,!0)}}))},as=function(t){function e(){return jIe(this,e),$Ie(this,e,arguments)}return GIe(e,t),BIe(e,[{key:"render",value:function(){return I.createElement(XIe,this.props)}}])}(I.Component);eq(as,"displayName","YAxis");eq(as,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qB(t){return QIe(t)||KIe(t)||YIe(t)||qIe()}function qIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YIe(t,e){if(t){if(typeof t=="string")return $O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $O(t,e)}}function KIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QIe(t){if(Array.isArray(t))return $O(t)}function $O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var VO=function(e,n,r,i,o){var a=Ko(e,uD),s=Ko(e,eM),l=[].concat(qB(a),qB(s)),c=Ko(e,nM),u="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(x,v){if(v.props[u]===r&&Ks(v.props,"extendDomain")&&Ke(v.props[f])){var m=v.props[f];return[Math.min(x[0],m),Math.max(x[1],m)]}return x},d)),c.length){var h="".concat(f,"1"),y="".concat(f,"2");d=c.reduce(function(x,v){if(v.props[u]===r&&Ks(v.props,"extendDomain")&&Ke(v.props[h])&&Ke(v.props[y])){var m=v.props[h],_=v.props[y];return[Math.min(x[0],m,_),Math.max(x[1],m,_)]}return x},d)}return o&&o.length&&(d=o.reduce(function(x,v){return Ke(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},d)),d},nq={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,y=new Array(h);d<h;d++)y[d]=f[d].fn;return y},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,y){var x=n?n+c:c;if(!this._events[x])return!1;var v=this._events[x],m=arguments.length,_,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,d),!0;case 5:return v.fn.call(v.context,u,f,d,h),!0;case 6:return v.fn.call(v.context,u,f,d,h,y),!0}for(b=1,_=new Array(m-1);b<m;b++)_[b-1]=arguments[b];v.fn.apply(v.context,_)}else{var w=v.length,E;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),m){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,f);break;case 4:v[b].fn.call(v[b].context,u,f,d);break;default:if(!_)for(E=1,_=new Array(m-1);E<m;E++)_[E-1]=arguments[E];v[b].fn.apply(v[b].context,_)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!d||y.once)&&(!f||y.context===f)&&a(this,h);else{for(var x=0,v=[],m=y.length;x<m;x++)(y[x].fn!==u||d&&!y[x].once||f&&y[x].context!==f)&&v.push(y[x]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(nq);var ZIe=nq.exports;const JIe=yn(ZIe);var QA=new JIe,ZA="recharts.syncMouseEvents";function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function eNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rq(r.key),r)}}function nNe(t,e,n){return e&&tNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JA(t,e,n){return e=rq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rq(t){var e=rNe(t,"string");return Jy(e)=="symbol"?e:e+""}function rNe(t,e){if(Jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iNe=function(){function t(){eNe(this,t),JA(this,"activeIndex",0),JA(this,"coordinateList",[]),JA(this,"layout","horizontal")}return nNe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,d=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function oNe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ke(r)&&Ke(i))return!0}return!1}function aNe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function iq(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=kn(e,n,r,i),s=kn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function sNe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=kn(s,l,c,f),h=kn(s,l,u,f);r=d.x,i=d.y,o=h.x,a=h.y}else return iq(e);return[{x:r,y:i},{x:o,y:a}]}function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){lNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lNe(t,e,n){return e=cNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cNe(t){var e=uNe(t,"string");return e0(e)=="symbol"?e:e+""}function uNe(t,e){if(e0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(e0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fNe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var y,x=nd;if(d==="ScatterChart")y=a,x=xPe;else if(d==="BarChart")y=aNe(f,a,l,u),x=nD;else if(f==="radial"){var v=iq(a),m=v.cx,_=v.cy,b=v.radius,w=v.startAngle,E=v.endAngle;y={cx:m,cy:_,startAngle:w,endAngle:E,innerRadius:b,outerRadius:b},x=Q7}else y={points:sNe(f,a,l)},x=nd;var M=O1(O1(O1(O1({stroke:"#ccc",pointerEvents:"none"},l),y),bt(h,!1)),{},{payload:s,payloadIndex:c,className:Lt("recharts-tooltip-cursor",h.className)});return I.isValidElement(h)?I.cloneElement(h,M):I.createElement(x,M)}var dNe=["item"],hNe=["children","className","width","height","style","compact","title","desc"];function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function KB(t,e){return gNe(t)||mNe(t,e)||aq(t,e)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function gNe(t){if(Array.isArray(t))return t}function QB(t,e){if(t==null)return{};var n=vNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sq(r.key),r)}}function bNe(t,e,n){return e&&xNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ne(t,e,n){return e=BS(e),SNe(t,oq()?Reflect.construct(e,n||[],BS(t).constructor):e.apply(t,n))}function SNe(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wNe(t)}function wNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!t})()}function BS(t){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BS(t)}function ENe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HO(t,e)}function HO(t,e){return HO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HO(t,e)}function Sm(t){return ANe(t)||TNe(t)||aq(t)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aq(t,e){if(t){if(typeof t=="string")return GO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GO(t,e)}}function TNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ANe(t){if(Array.isArray(t))return GO(t)}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(r){At(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function At(t,e,n){return e=sq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sq(t){var e=PNe(t,"string");return _m(e)=="symbol"?e:e+""}function PNe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CNe={xAxis:["bottom","top"],yAxis:["left","right"]},ONe={width:"100%",height:"100%"},lq={x:0,y:0};function R1(t){return t}var RNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},INe=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return ze(ze(ze({},i),kn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return ze(ze(ze({},i),kn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return lq},rM=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Sm(s),Sm(c)):s},[]);return a.length>0?a:e&&e.length&&Ke(i)&&Ke(o)?e.slice(i,o+1):[]};function cq(t){return t==="number"?[0,"auto"]:void 0}var WO=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=rM(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var h=f===void 0?s:f;d=z_(h,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Sm(l),[G7(c,d)]):l},[])},JB=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=RNe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=$Ee(a,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=WO(e,n,u,f),h=INe(r,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},NNe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,h=j7(u,o);return r.reduce(function(y,x){var v,m=x.type.defaultProps!==void 0?ze(ze({},x.type.defaultProps),x.props):x.props,_=m.type,b=m.dataKey,w=m.allowDataOverflow,E=m.allowDuplicatedCategory,M=m.scale,A=m.ticks,P=m.includeHidden,R=m[a];if(y[R])return y;var O=rM(e.data,{graphicalItems:i.filter(function(Y){var J,X=a in Y.props?Y.props[a]:(J=Y.type.defaultProps)===null||J===void 0?void 0:J[a];return X===R}),dataStartIndex:l,dataEndIndex:c}),N=O.length,L,j,U;oNe(m.domain,w,_)&&(L=oO(m.domain,null,w),h&&(_==="number"||M!=="auto")&&(U=Rv(O,b,"category")));var H=cq(_);if(!L||L.length===0){var z,Q=(z=m.domain)!==null&&z!==void 0?z:H;if(b){if(L=Rv(O,b,_),_==="category"&&h){var k=Ife(L);E&&k?(j=L,L=AS(0,N)):E||(L=xz(Q,L,x).reduce(function(Y,J){return Y.indexOf(J)>=0?Y:[].concat(Sm(Y),[J])},[]))}else if(_==="category")E?L=L.filter(function(Y){return Y!==""&&!It(Y)}):L=xz(Q,L,x).reduce(function(Y,J){return Y.indexOf(J)>=0||J===""||It(J)?Y:[].concat(Sm(Y),[J])},[]);else if(_==="number"){var B=XEe(O,i.filter(function(Y){var J,X,te=a in Y.props?Y.props[a]:(J=Y.type.defaultProps)===null||J===void 0?void 0:J[a],ie="hide"in Y.props?Y.props.hide:(X=Y.type.defaultProps)===null||X===void 0?void 0:X.hide;return te===R&&(P||!ie)}),b,o,u);B&&(L=B)}h&&(_==="number"||M!=="auto")&&(U=Rv(O,b,"category"))}else h?L=AS(0,N):s&&s[R]&&s[R].hasStack&&_==="number"?L=d==="expand"?[0,1]:H7(s[R].stackGroups,l,c):L=F7(O,i.filter(function(Y){var J=a in Y.props?Y.props[a]:Y.type.defaultProps[a],X="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return J===R&&(P||!X)}),_,u,!0);if(_==="number")L=VO(f,L,R,o,A),Q&&(L=oO(Q,L,w));else if(_==="category"&&Q){var W=Q,$=L.every(function(Y){return W.indexOf(Y)>=0});$&&(L=W)}}return ze(ze({},y),{},At({},R,ze(ze({},m),{},{axisType:o,domain:L,categoricalDomain:U,duplicateDomain:j,originalDomain:(v=m.domain)!==null&&v!==void 0?v:H,isCategorical:h,layout:u})))},{})},DNe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=rM(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=d.length,y=j7(u,o),x=-1;return r.reduce(function(v,m){var _=m.type.defaultProps!==void 0?ze(ze({},m.type.defaultProps),m.props):m.props,b=_[a],w=cq("number");if(!v[b]){x++;var E;return y?E=AS(0,h):s&&s[b]&&s[b].hasStack?(E=H7(s[b].stackGroups,l,c),E=VO(f,E,b,o)):(E=oO(w,F7(d,r.filter(function(M){var A,P,R=a in M.props?M.props[a]:(A=M.type.defaultProps)===null||A===void 0?void 0:A[a],O="hide"in M.props?M.props.hide:(P=M.type.defaultProps)===null||P===void 0?void 0:P.hide;return R===b&&!O}),"number",u),i.defaultProps.allowDataOverflow),E=VO(f,E,b,o)),ze(ze({},v),{},At({},b,ze(ze({axisType:o},i.defaultProps),{},{hide:!0,orientation:Yo(CNe,"".concat(o,".").concat(x%2),null),domain:E,originalDomain:w,isCategorical:y,layout:u})))}return v},{})},LNe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=Ko(u,o),h={};return d&&d.length?h=NNe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(h=DNe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},kNe=function(e){var n=qc(e),r=Bl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:CN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:mS(n,r)}},e4=function(e){var n=e.children,r=e.defaultShowTooltip,i=$o(n,fm),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},UNe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hl(n&&n.type);return r&&r.indexOf("Bar")>=0})},t4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FNe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,d=r.margin||{},h=$o(f,fm),y=$o(f,Cp),x=Object.keys(l).reduce(function(E,M){var A=l[M],P=A.orientation;return!A.mirror&&!A.hide?ze(ze({},E),{},At({},P,E[P]+A.width)):E},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(E,M){var A=a[M],P=A.orientation;return!A.mirror&&!A.hide?ze(ze({},E),{},At({},P,Yo(E,"".concat(P))+A.height)):E},{top:d.top||0,bottom:d.bottom||0}),m=ze(ze({},v),x),_=m.bottom;h&&(m.bottom+=h.props.height||fm.defaultProps.height),y&&n&&(m=GEe(m,i,r,n));var b=c-m.left-m.right,w=u-m.top-m.bottom;return ze(ze({brushBottom:_},m),{},{width:Math.max(b,0),height:Math.max(w,0)})},jNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},iM=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(m,_){var b=_.graphicalItems,w=_.stackGroups,E=_.offset,M=_.updateId,A=_.dataStartIndex,P=_.dataEndIndex,R=m.barSize,O=m.layout,N=m.barGap,L=m.barCategoryGap,j=m.maxBarSize,U=t4(O),H=U.numericAxisName,z=U.cateAxisName,Q=UNe(b),k=[];return b.forEach(function(B,W){var $=rM(m.data,{graphicalItems:[B],dataStartIndex:A,dataEndIndex:P}),Y=B.type.defaultProps!==void 0?ze(ze({},B.type.defaultProps),B.props):B.props,J=Y.dataKey,X=Y.maxBarSize,te=Y["".concat(H,"Id")],ie=Y["".concat(z,"Id")],ee={},le=l.reduce(function(G,V){var se=_["".concat(V.axisType,"Map")],pe=Y["".concat(V.axisType,"Id")];se&&se[pe]||V.axisType==="zAxis"||Ad();var _e=se[pe];return ze(ze({},G),{},At(At({},V.axisType,_e),"".concat(V.axisType,"Ticks"),Bl(_e)))},ee),ue=le[z],he=le["".concat(z,"Ticks")],fe=w&&w[te]&&w[te].hasStack&&nMe(B,w[te].stackGroups),K=Hl(B.type).indexOf("Bar")>=0,de=mS(ue,he),q=[],Pe=Q&&VEe({barSize:R,stackGroups:w,totalSize:jNe(le,z)});if(K){var be,Re,me=It(X)?j:X,Fe=(be=(Re=mS(ue,he,!0))!==null&&Re!==void 0?Re:me)!==null&&be!==void 0?be:0;q=HEe({barGap:N,barCategoryGap:L,bandSize:Fe!==de?Fe:de,sizeList:Pe[ie],maxBarSize:me}),Fe!==de&&(q=q.map(function(G){return ze(ze({},G),{},{position:ze(ze({},G.position),{},{offset:G.position.offset-Fe/2})})}))}var Ce=B&&B.type&&B.type.getComposedData;Ce&&k.push({props:ze(ze({},Ce(ze(ze({},le),{},{displayedData:$,props:m,dataKey:J,item:B,bandSize:de,barPosition:q,offset:E,stackedData:fe,layout:O,dataStartIndex:A,dataEndIndex:P}))),{},At(At(At({key:B.key||"item-".concat(W)},H,le[H]),z,le[z]),"animationId",M)),childIndex:Hfe(B,m.children),item:B})}),k},h=function(m,_){var b=m.props,w=m.dataStartIndex,E=m.dataEndIndex,M=m.updateId;if(!hF({props:b}))return null;var A=b.children,P=b.layout,R=b.stackOffset,O=b.data,N=b.reverseStackOrder,L=t4(P),j=L.numericAxisName,U=L.cateAxisName,H=Ko(A,r),z=eMe(O,H,"".concat(j,"Id"),"".concat(U,"Id"),R,N),Q=l.reduce(function(Y,J){var X="".concat(J.axisType,"Map");return ze(ze({},Y),{},At({},X,LNe(b,ze(ze({},J),{},{graphicalItems:H,stackGroups:J.axisType===j&&z,dataStartIndex:w,dataEndIndex:E}))))},{}),k=FNe(ze(ze({},Q),{},{props:b,graphicalItems:H}),_==null?void 0:_.legendBBox);Object.keys(Q).forEach(function(Y){Q[Y]=u(b,Q[Y],k,Y.replace("Map",""),n)});var B=Q["".concat(U,"Map")],W=kNe(B),$=d(b,ze(ze({},Q),{},{dataStartIndex:w,dataEndIndex:E,updateId:M,graphicalItems:H,stackGroups:z,offset:k}));return ze(ze({formattedGraphicalItems:$,graphicalItems:H,offset:k,stackGroups:z},W),Q)},y=function(v){function m(_){var b,w,E;return yNe(this,m),E=_Ne(this,m,[_]),At(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(E,"accessibilityManager",new iNe),At(E,"handleLegendBBoxUpdate",function(M){if(M){var A=E.state,P=A.dataStartIndex,R=A.dataEndIndex,O=A.updateId;E.setState(ze({legendBBox:M},h({props:E.props,dataStartIndex:P,dataEndIndex:R,updateId:O},ze(ze({},E.state),{},{legendBBox:M}))))}}),At(E,"handleReceiveSyncEvent",function(M,A,P){if(E.props.syncId===M){if(P===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(A)}}),At(E,"handleBrushChange",function(M){var A=M.startIndex,P=M.endIndex;if(A!==E.state.dataStartIndex||P!==E.state.dataEndIndex){var R=E.state.updateId;E.setState(function(){return ze({dataStartIndex:A,dataEndIndex:P},h({props:E.props,dataStartIndex:A,dataEndIndex:P,updateId:R},E.state))}),E.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),At(E,"handleMouseEnter",function(M){var A=E.getMouseInfo(M);if(A){var P=ze(ze({},A),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var R=E.props.onMouseEnter;Pt(R)&&R(P,M)}}),At(E,"triggeredAfterMouseMove",function(M){var A=E.getMouseInfo(M),P=A?ze(ze({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var R=E.props.onMouseMove;Pt(R)&&R(P,M)}),At(E,"handleItemMouseEnter",function(M){E.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),At(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),At(E,"handleMouseMove",function(M){M.persist(),E.throttleTriggeredAfterMouseMove(M)}),At(E,"handleMouseLeave",function(M){E.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var P=E.props.onMouseLeave;Pt(P)&&P(A,M)}),At(E,"handleOuterEvent",function(M){var A=Vfe(M),P=Yo(E.props,"".concat(A));if(A&&Pt(P)){var R,O;/.*touch.*/i.test(A)?O=E.getMouseInfo(M.changedTouches[0]):O=E.getMouseInfo(M),P((R=O)!==null&&R!==void 0?R:{},M)}}),At(E,"handleClick",function(M){var A=E.getMouseInfo(M);if(A){var P=ze(ze({},A),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var R=E.props.onClick;Pt(R)&&R(P,M)}}),At(E,"handleMouseDown",function(M){var A=E.props.onMouseDown;if(Pt(A)){var P=E.getMouseInfo(M);A(P,M)}}),At(E,"handleMouseUp",function(M){var A=E.props.onMouseUp;if(Pt(A)){var P=E.getMouseInfo(M);A(P,M)}}),At(E,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),At(E,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.handleMouseDown(M.changedTouches[0])}),At(E,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.handleMouseUp(M.changedTouches[0])}),At(E,"handleDoubleClick",function(M){var A=E.props.onDoubleClick;if(Pt(A)){var P=E.getMouseInfo(M);A(P,M)}}),At(E,"handleContextMenu",function(M){var A=E.props.onContextMenu;if(Pt(A)){var P=E.getMouseInfo(M);A(P,M)}}),At(E,"triggerSyncEvent",function(M){E.props.syncId!==void 0&&QA.emit(ZA,E.props.syncId,M,E.eventEmitterSymbol)}),At(E,"applySyncEvent",function(M){var A=E.props,P=A.layout,R=A.syncMethod,O=E.state.updateId,N=M.dataStartIndex,L=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)E.setState(ze({dataStartIndex:N,dataEndIndex:L},h({props:E.props,dataStartIndex:N,dataEndIndex:L,updateId:O},E.state)));else if(M.activeTooltipIndex!==void 0){var j=M.chartX,U=M.chartY,H=M.activeTooltipIndex,z=E.state,Q=z.offset,k=z.tooltipTicks;if(!Q)return;if(typeof R=="function")H=R(k,M);else if(R==="value"){H=-1;for(var B=0;B<k.length;B++)if(k[B].value===M.activeLabel){H=B;break}}var W=ze(ze({},Q),{},{x:Q.left,y:Q.top}),$=Math.min(j,W.x+W.width),Y=Math.min(U,W.y+W.height),J=k[H]&&k[H].value,X=WO(E.state,E.props.data,H),te=k[H]?{x:P==="horizontal"?k[H].coordinate:$,y:P==="horizontal"?Y:k[H].coordinate}:lq;E.setState(ze(ze({},M),{},{activeLabel:J,activeCoordinate:te,activePayload:X,activeTooltipIndex:H}))}else E.setState(M)}),At(E,"renderCursor",function(M){var A,P=E.state,R=P.isTooltipActive,O=P.activeCoordinate,N=P.activePayload,L=P.offset,j=P.activeTooltipIndex,U=P.tooltipAxisBandSize,H=E.getTooltipEventType(),z=(A=M.props.active)!==null&&A!==void 0?A:R,Q=E.props.layout,k=M.key||"_recharts-cursor";return oe.createElement(fNe,{key:k,activeCoordinate:O,activePayload:N,activeTooltipIndex:j,chartName:n,element:M,isActive:z,layout:Q,offset:L,tooltipAxisBandSize:U,tooltipEventType:H})}),At(E,"renderPolarAxis",function(M,A,P){var R=Yo(M,"type.axisType"),O=Yo(E.state,"".concat(R,"Map")),N=M.type.defaultProps,L=N!==void 0?ze(ze({},N),M.props):M.props,j=O&&O[L["".concat(R,"Id")]];return I.cloneElement(M,ze(ze({},j),{},{className:Lt(R,j.className),key:M.key||"".concat(A,"-").concat(P),ticks:Bl(j,!0)}))}),At(E,"renderPolarGrid",function(M){var A=M.props,P=A.radialLines,R=A.polarAngles,O=A.polarRadius,N=E.state,L=N.radiusAxisMap,j=N.angleAxisMap,U=qc(L),H=qc(j),z=H.cx,Q=H.cy,k=H.innerRadius,B=H.outerRadius;return I.cloneElement(M,{polarAngles:Array.isArray(R)?R:Bl(H,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(O)?O:Bl(U,!0).map(function(W){return W.coordinate}),cx:z,cy:Q,innerRadius:k,outerRadius:B,key:M.key||"polar-grid",radialLines:P})}),At(E,"renderLegend",function(){var M=E.state.formattedGraphicalItems,A=E.props,P=A.children,R=A.width,O=A.height,N=E.props.margin||{},L=R-(N.left||0)-(N.right||0),j=k7({children:P,formattedGraphicalItems:M,legendWidth:L,legendContent:c});if(!j)return null;var U=j.item,H=QB(j,dNe);return I.cloneElement(U,ze(ze({},H),{},{chartWidth:R,chartHeight:O,margin:N,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),At(E,"renderTooltip",function(){var M,A=E.props,P=A.children,R=A.accessibilityLayer,O=$o(P,ni);if(!O)return null;var N=E.state,L=N.isTooltipActive,j=N.activeCoordinate,U=N.activePayload,H=N.activeLabel,z=N.offset,Q=(M=O.props.active)!==null&&M!==void 0?M:L;return I.cloneElement(O,{viewBox:ze(ze({},z),{},{x:z.left,y:z.top}),active:Q,label:H,payload:Q?U:[],coordinate:j,accessibilityLayer:R})}),At(E,"renderBrush",function(M){var A=E.props,P=A.margin,R=A.data,O=E.state,N=O.offset,L=O.dataStartIndex,j=O.dataEndIndex,U=O.updateId;return I.cloneElement(M,{key:M.key||"_recharts-brush",onChange:T1(E.handleBrushChange,M.props.onChange),data:R,x:Ke(M.props.x)?M.props.x:N.left,y:Ke(M.props.y)?M.props.y:N.top+N.height+N.brushBottom-(P.bottom||0),width:Ke(M.props.width)?M.props.width:N.width,startIndex:L,endIndex:j,updateId:"brush-".concat(U)})}),At(E,"renderReferenceElement",function(M,A,P){if(!M)return null;var R=E,O=R.clipPathId,N=E.state,L=N.xAxisMap,j=N.yAxisMap,U=N.offset,H=M.type.defaultProps||{},z=M.props,Q=z.xAxisId,k=Q===void 0?H.xAxisId:Q,B=z.yAxisId,W=B===void 0?H.yAxisId:B;return I.cloneElement(M,{key:M.key||"".concat(A,"-").concat(P),xAxis:L[k],yAxis:j[W],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:O})}),At(E,"renderActivePoints",function(M){var A=M.item,P=M.activePoint,R=M.basePoint,O=M.childIndex,N=M.isRange,L=[],j=A.props.key,U=A.item.type.defaultProps!==void 0?ze(ze({},A.item.type.defaultProps),A.item.props):A.item.props,H=U.activeDot,z=U.dataKey,Q=ze(ze({index:O,dataKey:z,cx:P.x,cy:P.y,r:4,fill:tD(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},bt(H,!1)),B_(H));return L.push(m.renderActiveDot(H,Q,"".concat(j,"-activePoint-").concat(O))),R?L.push(m.renderActiveDot(H,ze(ze({},Q),{},{cx:R.x,cy:R.y}),"".concat(j,"-basePoint-").concat(O))):N&&L.push(null),L}),At(E,"renderGraphicChild",function(M,A,P){var R=E.filterFormatItem(M,A,P);if(!R)return null;var O=E.getTooltipEventType(),N=E.state,L=N.isTooltipActive,j=N.tooltipAxis,U=N.activeTooltipIndex,H=N.activeLabel,z=E.props.children,Q=$o(z,ni),k=R.props,B=k.points,W=k.isRange,$=k.baseLine,Y=R.item.type.defaultProps!==void 0?ze(ze({},R.item.type.defaultProps),R.item.props):R.item.props,J=Y.activeDot,X=Y.hide,te=Y.activeBar,ie=Y.activeShape,ee=!!(!X&&L&&Q&&(J||te||ie)),le={};O!=="axis"&&Q&&Q.props.trigger==="click"?le={onClick:T1(E.handleItemMouseEnter,M.props.onClick)}:O!=="axis"&&(le={onMouseLeave:T1(E.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:T1(E.handleItemMouseEnter,M.props.onMouseEnter)});var ue=I.cloneElement(M,ze(ze({},R.props),le));function he(V){return typeof j.dataKey=="function"?j.dataKey(V.payload):null}if(ee)if(U>=0){var fe,K;if(j.dataKey&&!j.allowDuplicatedCategory){var de=typeof j.dataKey=="function"?he:"payload.".concat(j.dataKey.toString());fe=z_(B,de,H),K=W&&$&&z_($,de,H)}else fe=B==null?void 0:B[U],K=W&&$&&$[U];if(ie||te){var q=M.props.activeIndex!==void 0?M.props.activeIndex:U;return[I.cloneElement(M,ze(ze(ze({},R.props),le),{},{activeIndex:q})),null,null]}if(!It(fe))return[ue].concat(Sm(E.renderActivePoints({item:R,activePoint:fe,basePoint:K,childIndex:U,isRange:W})))}else{var Pe,be=(Pe=E.getItemByXY(E.state.activeCoordinate))!==null&&Pe!==void 0?Pe:{graphicalItem:ue},Re=be.graphicalItem,me=Re.item,Fe=me===void 0?M:me,Ce=Re.childIndex,G=ze(ze(ze({},R.props),le),{},{activeIndex:Ce});return[I.cloneElement(Fe,G),null,null]}return W?[ue,null,null]:[ue,null]}),At(E,"renderCustomized",function(M,A,P){return I.cloneElement(M,ze(ze({key:"recharts-customized-".concat(P)},E.props),E.state))}),At(E,"renderMap",{CartesianGrid:{handler:R1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:R1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:R1},YAxis:{handler:R1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:zd("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=L9(E.triggeredAfterMouseMove,(w=_.throttleDelay)!==null&&w!==void 0?w:1e3/60),E.state={},E}return ENe(m,v),bNe(m,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,E=b.data,M=b.height,A=b.layout,P=$o(w,ni);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,N=WO(this.state,E,R,O),L=this.state.tooltipTicks[R].coordinate,j=(this.state.offset.top+M)/2,U=A==="horizontal",H=U?{x:L,y:j}:{y:L,x:j},z=this.state.formattedGraphicalItems.find(function(k){var B=k.item;return B.type.name==="Scatter"});z&&(H=ze(ze({},H),z.props.points[R].tooltipPosition),N=z.props.points[R].tooltipPayload);var Q={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:O,activePayload:N,activeCoordinate:H};this.setState(Q),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,M;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(b){b2([$o(b.children,ni)],[$o(this.props.children,ni)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=$o(this.props.children,ni);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return s.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,E=w.getBoundingClientRect(),M=gbe(E),A={chartX:Math.round(b.pageX-M.left),chartY:Math.round(b.pageY-M.top)},P=E.width/w.offsetWidth||1,R=this.inRange(A.chartX,A.chartY,P);if(!R)return null;var O=this.state,N=O.xAxisMap,L=O.yAxisMap,j=this.getTooltipEventType(),U=JB(this.state,this.props.data,this.props.layout,R);if(j!=="axis"&&N&&L){var H=qc(N).scale,z=qc(L).scale,Q=H&&H.invert?H.invert(A.chartX):null,k=z&&z.invert?z.invert(A.chartY):null;return ze(ze({},A),{},{xValue:Q,yValue:k},U)}return U?ze(ze({},A),U):null}},{key:"inRange",value:function(b,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,A=b/E,P=w/E;if(M==="horizontal"||M==="vertical"){var R=this.state.offset,O=A>=R.left&&A<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return O?{x:A,y:P}:null}var N=this.state,L=N.angleAxisMap,j=N.radiusAxisMap;if(L&&j){var U=qc(L);return Sz({x:A,y:P},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),E=$o(b,ni),M={};E&&w==="axis"&&(E.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=B_(this.props,this.handleOuterEvent);return ze(ze({},A),M)}},{key:"addListener",value:function(){QA.on(ZA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){QA.removeListener(ZA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,E){for(var M=this.state.formattedGraphicalItems,A=0,P=M.length;A<P;A++){var R=M[A];if(R.item===b||R.props.key===b.key||w===Hl(R.item.type)&&E===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,E=w.left,M=w.top,A=w.height,P=w.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:b},oe.createElement("rect",{x:E,y:M,height:A,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,E){var M=KB(E,2),A=M[0],P=M[1];return ze(ze({},w),{},At({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,E){var M=KB(E,2),A=M[0],P=M[1];return ze(ze({},w),{},At({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,E=w.formattedGraphicalItems,M=w.activeItem;if(E&&E.length)for(var A=0,P=E.length;A<P;A++){var R=E[A],O=R.props,N=R.item,L=N.type.defaultProps!==void 0?ze(ze({},N.type.defaultProps),N.props):N.props,j=Hl(N.type);if(j==="Bar"){var U=(O.data||[]).find(function(k){return JAe(b,k)});if(U)return{graphicalItem:R,payload:U}}else if(j==="RadialBar"){var H=(O.data||[]).find(function(k){return Sz(b,k)});if(H)return{graphicalItem:R,payload:H}}else if(KE(R,M)||QE(R,M)||qy(R,M)){var z=BCe({graphicalItem:R,activeTooltipItem:M,itemData:L.data}),Q=L.activeIndex===void 0?z:L.activeIndex;return{graphicalItem:ze(ze({},R),{},{childIndex:Q}),payload:qy(R,M)?L.data[z]:R.props.data[z]}}}return null}},{key:"render",value:function(){var b=this;if(!hF(this))return null;var w=this.props,E=w.children,M=w.className,A=w.width,P=w.height,R=w.style,O=w.compact,N=w.title,L=w.desc,j=QB(w,hNe),U=bt(j,!1);if(O)return oe.createElement(OB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(S2,cp({},U,{width:A,height:P,title:N,desc:L}),this.renderClipPath(),mF(E,this.renderMap)));if(this.props.accessibilityLayer){var H,z;U.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,U.role=(z=this.props.role)!==null&&z!==void 0?z:"application",U.onKeyDown=function(k){b.accessibilityManager.keyboardEvent(k)},U.onFocus=function(){b.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return oe.createElement(OB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",cp({className:Lt("recharts-wrapper",M),style:ze({position:"relative",cursor:"default",width:A,height:P},R)},Q,{ref:function(B){b.container=B}}),oe.createElement(S2,cp({},U,{width:A,height:P,title:N,desc:L,style:ONe}),this.renderClipPath(),mF(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);At(y,"displayName",n),At(y,"defaultProps",ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(y,"getDerivedStateFromProps",function(v,m){var _=v.dataKey,b=v.data,w=v.children,E=v.width,M=v.height,A=v.layout,P=v.stackOffset,R=v.margin,O=m.dataStartIndex,N=m.dataEndIndex;if(m.updateId===void 0){var L=e4(v);return ze(ze(ze({},L),{},{updateId:0},h(ze(ze({props:v},L),{},{updateId:0}),m)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:M,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:w})}if(_!==m.prevDataKey||b!==m.prevData||E!==m.prevWidth||M!==m.prevHeight||A!==m.prevLayout||P!==m.prevStackOffset||!Pp(R,m.prevMargin)){var j=e4(v),U={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},H=ze(ze({},JB(m,b,A)),{},{updateId:m.updateId+1}),z=ze(ze(ze({},j),U),H);return ze(ze(ze({},z),h(ze({props:v},z),m)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:M,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:w})}if(!b2(w,m.prevChildren)){var Q,k,B,W,$=$o(w,fm),Y=$&&(Q=(k=$.props)===null||k===void 0?void 0:k.startIndex)!==null&&Q!==void 0?Q:O,J=$&&(B=(W=$.props)===null||W===void 0?void 0:W.endIndex)!==null&&B!==void 0?B:N,X=Y!==O||J!==N,te=!It(b),ie=te&&!X?m.updateId:m.updateId+1;return ze(ze({updateId:ie},h(ze(ze({props:v},m),{},{updateId:ie,dataStartIndex:Y,dataEndIndex:J}),m)),{},{prevChildren:w,dataStartIndex:Y,dataEndIndex:J})}return null}),At(y,"renderActiveDot",function(v,m,_){var b;return I.isValidElement(v)?b=I.cloneElement(v,m):Pt(v)?b=v(m):b=oe.createElement(j0,m),oe.createElement(rn,{className:"recharts-active-dot",key:_},b)});var x=I.forwardRef(function(m,_){return oe.createElement(y,cp({},m,{ref:_}))});return x.displayName=y.displayName,x},zNe=iM({chartName:"LineChart",GraphicalChild:z0,axisComponents:[{axisType:"xAxis",AxisComp:os},{axisType:"yAxis",AxisComp:as}],formatAxisMap:rD}),hD=iM({chartName:"BarChart",GraphicalChild:pc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:os},{axisType:"yAxis",AxisComp:as}],formatAxisMap:rD}),pD=iM({chartName:"PieChart",GraphicalChild:gs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:YE},{axisType:"radiusAxis",AxisComp:XE}],formatAxisMap:dMe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),uq=iM({chartName:"AreaChart",GraphicalChild:mc,axisComponents:[{axisType:"xAxis",AxisComp:os},{axisType:"yAxis",AxisComp:as}],formatAxisMap:rD});const BNe=()=>{var y,x;const{selectedInstrument:t}=Ta(),{marketData:e,ticks:n}=iN(t==null?void 0:t.symbol),[r,i]=I.useState("line"),[o,a]=I.useState("5m"),[s,l]=I.useState([]);I.useEffect(()=>{if(!t||!e){l([]);return}const v=P=>{switch(P){case"1m":return 6e4;case"5m":return 3e5;case"15m":return 9e5;case"1h":return 36e5;case"4h":return 144e5;case"1d":return 864e5;default:return 3e5}},m=P=>{switch(P){case"1m":return 60;case"5m":return 60;case"15m":return 96;case"1h":return 24;case"4h":return 30;case"1d":return 30;default:return 60}},_=v(o),b=m(o),w=Date.now(),E=e.price,M=[];let A=E*(.95+Math.random()*.05);for(let P=0;P<b;P++){const R=w-(b-P)*_,O=P/b*.3,N=(Math.random()-.5)*E*.005,L=(E-A)*O*.1;A=A+N+L,A=Math.max(A,E*.9),A=Math.min(A,E*1.1);const j=A,U=E*.003,H=A+Math.random()*U,z=A-Math.random()*U,Q=z+Math.random()*(H-z),k={open:Math.round(j*100)/100,high:Math.round(Math.max(j,Q,H)*100)/100,low:Math.round(Math.min(j,Q,z)*100)/100,close:Math.round(Q*100)/100};A=k.close,M.push({timestamp:R,time:o==="1d"?new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric"}):new Date(R).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),price:k.close,volume:Math.floor(Math.random()*5e3)+1e3,...k})}if(M.length>0){const P=M[M.length-1];P.price=E,P.close=E,P.high=Math.max(P.high,E),P.low=Math.min(P.low,E)}l(M)},[o,t==null?void 0:t.symbol]),I.useEffect(()=>{if(!(e!=null&&e.price)||s.length===0)return;const v=setInterval(()=>{l(m=>{const _=m[m.length-1],b={..._,price:e.price,high:Math.max(_.high,e.price),low:Math.min(_.low,e.price),close:e.price,volume:Math.max(_.volume,e.volume)};return[...m.slice(0,-1),b]})},1e3);return()=>clearInterval(v)},[e==null?void 0:e.price,s.length]);const c=()=>{if(s.length===0)return S.jsx("div",{className:"flex items-center justify-center h-full",children:S.jsx("p",{className:"text-muted-foreground",children:"Loading chart data..."})});const v={data:s,margin:{top:5,right:30,left:20,bottom:5}};switch(r){case"line":return S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(zNe,{...v,children:[S.jsx(rd,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),S.jsx(os,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:10}),S.jsx(as,{stroke:"hsl(var(--muted-foreground))",fontSize:10,domain:["dataMin - 1","dataMax + 1"],tickFormatter:m=>hr(m)}),S.jsx(ni,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:m=>[hr(m),"Price"]}),S.jsx(z0,{type:"monotone",dataKey:"price",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"hsl(var(--primary))"}})]})});case"area":return S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(uq,{...v,children:[S.jsx(rd,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),S.jsx(os,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:10}),S.jsx(as,{stroke:"hsl(var(--muted-foreground))",fontSize:10,domain:["dataMin - 1","dataMax + 1"],tickFormatter:m=>hr(m)}),S.jsx(ni,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:m=>[hr(m),"Price"]}),S.jsx(mc,{type:"monotone",dataKey:"price",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3})]})});case"volume":return S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(hD,{...v,children:[S.jsx(rd,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),S.jsx(os,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:10}),S.jsx(as,{stroke:"hsl(var(--muted-foreground))",fontSize:10,tickFormatter:m=>Fs(m)}),S.jsx(ni,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:m=>[Fs(m),"Volume"]}),S.jsx(pc,{dataKey:"volume",fill:"hsl(var(--primary))",opacity:.8})]})});default:return c()}},u=((y=s[s.length-1])==null?void 0:y.price)||0,f=((x=s[s.length-2])==null?void 0:x.price)||0,d=u-f,h=f>0?d/f*100:0;return S.jsxs(Nt,{className:"h-full",children:[S.jsxs(bn,{className:"pb-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[S.jsx(gy,{className:"h-4 w-4"}),"Trading Chart",t&&S.jsx(Er,{variant:"outline",className:"text-xs",children:t.symbol})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs(Ws,{value:r,onValueChange:v=>i(v),children:[S.jsx(es,{className:"w-24 h-7",children:S.jsx(Xs,{})}),S.jsxs(ts,{children:[S.jsxs(en,{value:"line",children:[S.jsx(Roe,{className:"h-3 w-3 inline mr-1"}),"Line"]}),S.jsxs(en,{value:"area",children:[S.jsx(nc,{className:"h-3 w-3 inline mr-1"}),"Area"]}),S.jsxs(en,{value:"volume",children:[S.jsx(FI,{className:"h-3 w-3 inline mr-1"}),"Volume"]})]})]}),S.jsxs(Ws,{value:o,onValueChange:v=>a(v),children:[S.jsx(es,{className:"w-16 h-7",children:S.jsx(Xs,{})}),S.jsxs(ts,{children:[S.jsx(en,{value:"1m",children:"1m"}),S.jsx(en,{value:"5m",children:"5m"}),S.jsx(en,{value:"15m",children:"15m"}),S.jsx(en,{value:"1h",children:"1h"}),S.jsx(en,{value:"4h",children:"4h"}),S.jsx(en,{value:"1d",children:"1d"})]})]})]})]}),t&&e&&S.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-lg font-bold",children:hr(u)}),S.jsxs("div",{className:`flex items-center gap-1 text-sm ${ba(d)}`,children:[d>=0?S.jsx(nc,{className:"h-3 w-3"}):S.jsx(tc,{className:"h-3 w-3"}),S.jsxs("span",{children:[hr(Math.abs(d))," (",Math.abs(h).toFixed(2),"%)"]})]})]}),S.jsxs("div",{className:"text-xs text-muted-foreground",children:["Vol: ",Fs(e.volume)]})]})]}),S.jsx(Dt,{className:"p-0",children:S.jsx("div",{className:"h-96",children:t?c():S.jsx("div",{className:"flex items-center justify-center h-full",children:S.jsx("p",{className:"text-muted-foreground",children:"Select an instrument to view chart"})})})})]})},$Ne=()=>{const{watchlist:t,addToWatchlist:e,removeFromWatchlist:n,instruments:r,selectedInstrument:i,setSelectedInstrument:o}=Ta(),[a,s]=I.useState(""),[l,c]=I.useState(!1),[u,f]=I.useState("all"),d=yW(t),h=I.useMemo(()=>r.filter(_=>_.symbol.toLowerCase().includes(a.toLowerCase())||_.name.toLowerCase().includes(a.toLowerCase())).slice(0,20),[r,a]),y=I.useMemo(()=>{let _=d;switch(u){case"gainers":_=_.filter(b=>b.data&&b.data.change>0);break;case"losers":_=_.filter(b=>b.data&&b.data.change<0);break}return _.sort((b,w)=>!b.data||!w.data?0:Math.abs(w.data.changePercent)-Math.abs(b.data.changePercent))},[d,u]),x=_=>{e(_),c(!1),s("")},v=_=>{n(_)},m=_=>{const b=r.find(w=>w.symbol===_);o(b||null)};return S.jsxs(Nt,{className:"h-full","data-tutorial":"watchlist",children:[S.jsxs(bn,{className:"pb-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[S.jsx(DU,{className:"h-4 w-4"}),"Watchlist",S.jsx(Er,{variant:"outline",className:"text-xs",children:t.length})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(gn,{variant:u==="all"?"default":"ghost",size:"sm",onClick:()=>f("all"),className:"h-6 px-2 text-xs",children:"All"}),S.jsx(gn,{variant:u==="gainers"?"default":"ghost",size:"sm",onClick:()=>f("gainers"),className:"h-6 px-2 text-xs text-green-500",children:S.jsx(nc,{className:"h-3 w-3"})}),S.jsx(gn,{variant:u==="losers"?"default":"ghost",size:"sm",onClick:()=>f("losers"),className:"h-6 px-2 text-xs text-red-500",children:S.jsx(tc,{className:"h-3 w-3"})}),S.jsx(gn,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"h-6 w-6 p-0",children:S.jsx(Goe,{className:"h-3 w-3"})})]})]}),l&&S.jsxs("div",{className:"pt-2 space-y-2",children:[S.jsxs("div",{className:"relative",children:[S.jsx(Lm,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),S.jsx(xr,{placeholder:"Search instruments...",value:a,onChange:_=>s(_.target.value),className:"pl-7 h-8 text-xs"})]}),a&&S.jsxs("div",{className:"max-h-32 overflow-auto border rounded-md bg-background",children:[h.map(_=>S.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 cursor-pointer text-xs",onClick:()=>x(_.symbol),children:[S.jsxs("div",{children:[S.jsx("div",{className:"font-medium",children:_.symbol}),S.jsx("div",{className:"text-muted-foreground text-xs truncate",children:_.name})]}),S.jsx(Er,{variant:"outline",className:"text-xs",children:_.assetClass})]},_.symbol)),h.length===0&&S.jsx("div",{className:"p-2 text-center text-muted-foreground text-xs",children:"No instruments found"})]})]})]}),S.jsxs(Dt,{className:"p-0",children:[S.jsx(JI,{className:"h-full",children:S.jsxs("div",{className:"space-y-0",children:[S.jsxs("div",{className:"grid grid-cols-5 gap-1 px-3 py-2 bg-muted/50 text-xs font-semibold border-b sticky top-0",children:[S.jsx("div",{children:"Symbol"}),S.jsx("div",{className:"text-right",children:"Price"}),S.jsx("div",{className:"text-right",children:"Change"}),S.jsx("div",{className:"text-right",children:"%"}),S.jsx("div",{className:"text-center",children:"Action"})]}),y.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[S.jsx(DU,{className:"h-8 w-8 mb-2 opacity-50"}),S.jsx("p",{className:"text-sm",children:"No instruments in watchlist"}),S.jsx("p",{className:"text-xs",children:"Click + to add instruments"})]}):y.map(({symbol:_,data:b})=>{const w=(i==null?void 0:i.symbol)===_,E=r.find(P=>P.symbol===_);if(!b)return S.jsxs("div",{className:"grid grid-cols-5 gap-1 px-3 py-2 text-xs border-b opacity-50",children:[S.jsx("div",{className:"font-medium",children:_}),S.jsx("div",{className:"text-right",children:"--"}),S.jsx("div",{className:"text-right",children:"--"}),S.jsx("div",{className:"text-right",children:"--"}),S.jsx("div",{className:"text-center",children:S.jsx(gn,{variant:"ghost",size:"sm",onClick:()=>v(_),className:"h-4 w-4 p-0",children:S.jsx(xd,{className:"h-2 w-2"})})})]},_);const M=ba(b.change),A=b.change>=0?nc:tc;return S.jsxs("div",{className:`grid grid-cols-5 gap-1 px-3 py-2 text-xs border-b hover:bg-muted/30 cursor-pointer ${w?"bg-primary/10 border-primary/20":""}`,onClick:()=>m(_),children:[S.jsxs("div",{className:"space-y-0",children:[S.jsx("div",{className:"font-medium",children:_}),E&&S.jsx("div",{className:"text-muted-foreground text-xs truncate",children:E.assetClass})]}),S.jsx("div",{className:"text-right font-mono",children:hr(b.price)}),S.jsxs("div",{className:`text-right font-mono flex items-center justify-end gap-1 ${M}`,children:[S.jsx(A,{className:"h-2 w-2"}),hr(Math.abs(b.change))]}),S.jsx("div",{className:`text-right font-mono ${M}`,children:Ls(Math.abs(b.changePercent))}),S.jsx("div",{className:"text-center",children:S.jsx(gn,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),v(_)},className:"h-4 w-4 p-0",children:S.jsx(xd,{className:"h-2 w-2"})})})]},_)})]})}),y.length>0&&S.jsx("div",{className:"border-t p-3 bg-muted/30",children:S.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-muted-foreground",children:"Gainers"}),S.jsx("div",{className:"font-bold text-green-500",children:d.filter(_=>_.data&&_.data.change>0).length})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-muted-foreground",children:"Unchanged"}),S.jsx("div",{className:"font-bold text-muted-foreground",children:d.filter(_=>_.data&&_.data.change===0).length})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-muted-foreground",children:"Losers"}),S.jsx("div",{className:"font-bold text-red-500",children:d.filter(_=>_.data&&_.data.change<0).length})]})]})})]})]})},VNe=()=>{const{layoutConfig:t}=Ta();return S.jsx("div",{className:"h-full flex flex-col bg-background",children:S.jsxs(YU,{direction:"horizontal",className:"flex-1",children:[S.jsx(gh,{defaultSize:25,minSize:20,children:S.jsxs(YU,{direction:"vertical",children:[t.showOrderEntry&&S.jsxs(S.Fragment,{children:[S.jsx(gh,{defaultSize:40,minSize:30,children:S.jsx("div",{className:"h-full border-r border-border",children:S.jsx(Hse,{})})}),S.jsx(v1,{})]}),t.showMarketDepth&&S.jsxs(S.Fragment,{children:[S.jsx(gh,{defaultSize:35,minSize:25,children:S.jsx("div",{className:"h-full border-r border-border",children:S.jsx(Gse,{})})}),S.jsx(v1,{})]}),S.jsx(gh,{defaultSize:25,minSize:20,children:S.jsx("div",{className:"h-full border-r border-border",children:S.jsx($Ne,{})})})]})}),S.jsx(v1,{}),t.showCharts&&S.jsxs(S.Fragment,{children:[S.jsx(gh,{defaultSize:50,minSize:40,children:S.jsx("div",{className:"h-full",children:S.jsx(BNe,{})})}),S.jsx(v1,{})]}),t.showBlotters&&S.jsx(gh,{defaultSize:25,minSize:20,children:S.jsx("div",{className:"h-full flex flex-col",children:S.jsxs(Rm,{defaultValue:"orders",className:"flex-1 flex flex-col",children:[S.jsxs(Fd,{className:"grid w-full grid-cols-3 bg-muted/50 border-b",children:[S.jsx(Hn,{value:"orders",className:"text-xs",children:"Orders"}),S.jsx(Hn,{value:"trades",className:"text-xs",children:"Trades"}),S.jsx(Hn,{value:"positions",className:"text-xs",children:"Positions"})]}),S.jsx(gi,{value:"orders",className:"flex-1 p-0 m-0",children:S.jsx(Xse,{})}),S.jsx(gi,{value:"trades",className:"flex-1 p-0 m-0",children:S.jsx(qse,{})}),S.jsx(gi,{value:"positions",className:"flex-1 p-0 m-0",children:S.jsx(Qse,{})})]})})})]})})},I1=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],HNe=()=>{const{instruments:t}=Ta(),[e,n]=I.useState("overview"),[r,i]=I.useState(""),[o,a]=I.useState("all"),[s,l]=I.useState("all"),c=t.map(b=>b.symbol),u=yW(c),f=I.useMemo(()=>{let b=u;return r&&(b=b.filter(w=>{const E=t.find(M=>M.symbol===w.symbol);return w.symbol.toLowerCase().includes(r.toLowerCase())||(E==null?void 0:E.name.toLowerCase().includes(r.toLowerCase()))})),o!=="all"&&(b=b.filter(w=>{const E=t.find(M=>M.symbol===w.symbol);return(E==null?void 0:E.sector)===o})),s!=="all"&&(b=b.filter(w=>{const E=t.find(M=>M.symbol===w.symbol);return(E==null?void 0:E.assetClass)===s})),b},[u,r,o,s,t]),d=I.useMemo(()=>{const b=f.filter(w=>w.data);return{total:b.length,gainers:b.filter(w=>w.data.change>0).length,losers:b.filter(w=>w.data.change<0).length,unchanged:b.filter(w=>w.data.change===0).length,totalVolume:b.reduce((w,E)=>w+(E.data.volume||0),0),avgChange:b.length>0?b.reduce((w,E)=>w+E.data.changePercent,0)/b.length:0}},[f]),h=I.useMemo(()=>{const b=["Technology","Finance","Healthcare","Energy","Automotive"];return b.map(w=>{const E=f.filter(P=>{const R=t.find(O=>O.symbol===P.symbol);return(R==null?void 0:R.sector)===w&&P.data}),M=E.length>0?E.reduce((P,R)=>P+R.data.changePercent,0)/E.length:0,A=E.reduce((P,R)=>P+(R.data.volume||0),0);return{name:w,change:M,volume:A,count:E.length,color:I1[b.indexOf(w)%I1.length]}}).filter(w=>w.count>0)},[f,t]),y=I.useMemo(()=>{const b=["EQUITY","FUTURES","OPTIONS","FOREX","INDEX"];return b.map(w=>{const E=f.filter(M=>{const A=t.find(P=>P.symbol===M.symbol);return(A==null?void 0:A.assetClass)===w}).length;return{name:w,value:E,color:I1[b.indexOf(w)%I1.length]}}).filter(w=>w.value>0)},[f,t]),x=I.useMemo(()=>{const b=f.filter(w=>w.data);return{gainers:b.filter(w=>w.data.change>0).sort((w,E)=>E.data.changePercent-w.data.changePercent).slice(0,10),losers:b.filter(w=>w.data.change<0).sort((w,E)=>w.data.changePercent-E.data.changePercent).slice(0,10)}},[f]),v=I.useMemo(()=>f.filter(b=>b.data).sort((b,w)=>(w.data.volume||0)-(b.data.volume||0)).slice(0,10),[f]),m=Array.from(new Set(t.map(b=>b.sector).filter(Boolean))),_=Array.from(new Set(t.map(b=>b.assetClass)));return S.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(joe,{className:"h-5 w-5 text-primary"}),S.jsx("h2",{className:"text-lg font-semibold",children:"Market Overview"}),S.jsxs(Er,{variant:"outline",children:[d.total," instruments"]})]}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsx(gn,{variant:"outline",size:"sm",children:S.jsx(G8,{className:"h-4 w-4"})})})]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsxs("div",{className:"relative min-w-48",children:[S.jsx(Lm,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),S.jsx(xr,{placeholder:"Search instruments...",value:r,onChange:b=>i(b.target.value),className:"pl-8"})]}),S.jsxs(Ws,{value:o,onValueChange:a,children:[S.jsx(es,{className:"w-40",children:S.jsx(Xs,{placeholder:"Sector"})}),S.jsxs(ts,{children:[S.jsx(en,{value:"all",children:"All Sectors"}),m.map(b=>S.jsx(en,{value:b,children:b},b))]})]}),S.jsxs(Ws,{value:s,onValueChange:l,children:[S.jsx(es,{className:"w-40",children:S.jsx(Xs,{placeholder:"Asset Class"})}),S.jsxs(ts,{children:[S.jsx(en,{value:"all",children:"All Assets"}),_.map(b=>S.jsx(en,{value:b,children:b},b))]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(nc,{className:"h-4 w-4 text-green-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold text-green-500",children:d.gainers}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Gainers"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(tc,{className:"h-4 w-4 text-red-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold text-red-500",children:d.losers}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Losers"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(gy,{className:"h-4 w-4 text-blue-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold",children:Fs(d.totalVolume)}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Volume"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(FI,{className:"h-4 w-4 text-purple-500"}),S.jsxs("div",{children:[S.jsx("div",{className:`text-2xl font-bold ${ba(d.avgChange)}`,children:Ls(d.avgChange)}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Avg Change"})]})]})})})]}),S.jsx("div",{className:"flex-1",children:S.jsxs(Rm,{value:e,onValueChange:n,className:"h-full flex flex-col",children:[S.jsxs(Fd,{className:"grid w-full grid-cols-4",children:[S.jsx(Hn,{value:"overview",children:"Overview"}),S.jsx(Hn,{value:"movers",children:"Top Movers"}),S.jsx(Hn,{value:"sectors",children:"Sectors"}),S.jsx(Hn,{value:"volume",children:"Volume"})]}),S.jsx(gi,{value:"overview",className:"flex-1 space-y-4",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 h-full",children:[S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Sector Performance"})}),S.jsx(Dt,{children:S.jsx("div",{className:"h-48",children:S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(hD,{data:h,children:[S.jsx(rd,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),S.jsx(os,{dataKey:"name",fontSize:10,stroke:"hsl(var(--muted-foreground))"}),S.jsx(as,{fontSize:10,stroke:"hsl(var(--muted-foreground))",tickFormatter:b=>`${b.toFixed(1)}%`}),S.jsx(ni,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:b=>[`${b.toFixed(2)}%`,"Change"]}),S.jsx(pc,{dataKey:"change",radius:[2,2,0,0],children:h.map((b,w)=>S.jsx(wu,{fill:b.change>=0?"#10b981":"#ef4444"},`cell-${w}`))})]})})})})]}),S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Asset Class Distribution"})}),S.jsx(Dt,{children:S.jsx("div",{className:"h-48",children:S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(pD,{children:[S.jsx(gs,{dataKey:"value",data:y,cx:"50%",cy:"50%",outerRadius:60,label:({name:b,value:w,percent:E})=>`${b} ${(E*100).toFixed(0)}%`,labelLine:!1,fontSize:10,children:y.map((b,w)=>S.jsx(wu,{fill:b.color},`cell-${w}`))}),S.jsx(ni,{})]})})})})]})]})}),S.jsx(gi,{value:"movers",className:"flex-1",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 h-full",children:[S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[S.jsx(nc,{className:"h-4 w-4 text-green-500"}),"Top Gainers"]})}),S.jsx(Dt,{children:S.jsx("div",{className:"space-y-2",children:x.gainers.map((b,w)=>{const E=t.find(M=>M.symbol===b.symbol);return S.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-muted-foreground w-4",children:w+1}),S.jsxs("div",{children:[S.jsx("div",{className:"font-medium text-sm",children:b.symbol}),S.jsx("div",{className:"text-xs text-muted-foreground truncate",children:(E==null?void 0:E.name)||(E==null?void 0:E.assetClass)})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"font-mono text-sm",children:hr(b.data.price)}),S.jsxs("div",{className:"text-xs text-green-500",children:["+",Ls(b.data.changePercent)]})]})]},b.symbol)})})})]}),S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[S.jsx(tc,{className:"h-4 w-4 text-red-500"}),"Top Losers"]})}),S.jsx(Dt,{children:S.jsx("div",{className:"space-y-2",children:x.losers.map((b,w)=>{const E=t.find(M=>M.symbol===b.symbol);return S.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-muted-foreground w-4",children:w+1}),S.jsxs("div",{children:[S.jsx("div",{className:"font-medium text-sm",children:b.symbol}),S.jsx("div",{className:"text-xs text-muted-foreground truncate",children:(E==null?void 0:E.name)||(E==null?void 0:E.assetClass)})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"font-mono text-sm",children:hr(b.data.price)}),S.jsx("div",{className:"text-xs text-red-500",children:Ls(b.data.changePercent)})]})]},b.symbol)})})})]})]})}),S.jsx(gi,{value:"sectors",className:"flex-1",children:S.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(b=>S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsxs(_n,{className:"text-sm flex items-center justify-between",children:[b.name,S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs(Er,{variant:"outline",children:[b.count," instruments"]}),S.jsx("span",{className:`text-sm font-mono ${ba(b.change)}`,children:Ls(b.change)})]})]})}),S.jsx(Dt,{children:S.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[S.jsxs("div",{children:[S.jsx("span",{className:"text-muted-foreground",children:"Avg Change: "}),S.jsx("span",{className:ba(b.change),children:Ls(b.change)})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-muted-foreground",children:"Volume: "}),S.jsx("span",{children:Fs(b.volume)})]})]})})]},b.name))})}),S.jsx(gi,{value:"volume",className:"flex-1",children:S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[S.jsx(gy,{className:"h-4 w-4"}),"Volume Leaders"]})}),S.jsx(Dt,{children:S.jsx("div",{className:"space-y-2",children:v.map((b,w)=>{const E=t.find(M=>M.symbol===b.symbol);return S.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-muted-foreground w-4",children:w+1}),S.jsxs("div",{children:[S.jsx("div",{className:"font-medium text-sm",children:b.symbol}),S.jsx("div",{className:"text-xs text-muted-foreground",children:(E==null?void 0:E.name)||(E==null?void 0:E.assetClass)})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"font-mono text-sm",children:Fs(b.data.volume||0)}),S.jsx("div",{className:`text-xs ${ba(b.data.change)}`,children:hr(b.data.price)})]})]},b.symbol)})})})]})})]})})]})},GNe=C0("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fq=I.forwardRef(({className:t,variant:e,...n},r)=>S.jsx("div",{ref:r,role:"alert",className:kt(GNe({variant:e}),t),...n}));fq.displayName="Alert";const WNe=I.forwardRef(({className:t,...e},n)=>S.jsx("h5",{ref:n,className:kt("mb-1 font-medium leading-none tracking-tight",t),...e}));WNe.displayName="AlertTitle";const dq=I.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:kt("text-sm [&_p]:leading-relaxed",t),...e}));dq.displayName="AlertDescription";const XNe=km()(R0((t,e)=>({metrics:{var95:0,var99:0,beta:1,sharpeRatio:0,maxDrawdown:0,volatility:0},limits:{maxPositionSize:1e5,maxDailyLoss:5e3,maxOrderSize:1e4,maxConcentration:.2,varLimit:1e4},breaches:[],updateMetrics:n=>{t(r=>({metrics:{...r.metrics,...n}}))},updateLimits:n=>{t(r=>({limits:{...r.limits,...n}}))},checkLimits:(n,r)=>{const{limits:i}=e();let o=!1;return Math.abs(n)>i.maxPositionSize&&(e().addBreach({type:"POSITION_SIZE",message:`Position size ${n.toLocaleString()} exceeds limit ${i.maxPositionSize.toLocaleString()}`,timestamp:Date.now(),severity:"CRITICAL"}),o=!0),r<-i.maxDailyLoss&&(e().addBreach({type:"DAILY_LOSS",message:`Daily loss ${Math.abs(r).toLocaleString()} exceeds limit ${i.maxDailyLoss.toLocaleString()}`,timestamp:Date.now(),severity:"CRITICAL"}),o=!0),!o},addBreach:n=>{t(r=>({breaches:[...r.breaches,n].slice(-50)}))},clearBreaches:()=>{t({breaches:[]})}}))),qNe=()=>{const{getAllPositions:t,totalPnL:e,totalMarketValue:n}=Zf(),{marketData:r}=Ji(),{instruments:i}=Ta(),[o,a]=I.useState(""),[s,l]=I.useState("value"),[c,u]=I.useState("all"),f=t(),d=I.useMemo(()=>f.filter(b=>b.quantity!==0).map(b=>{const w=r.get(b.symbol),E=(w==null?void 0:w.price)||0,M=v2(b,E),A=Math.abs(b.quantity)*E,P=i.find(R=>R.symbol===b.symbol);return{...b,currentPrice:E,unrealizedPnL:M,marketValue:A,instrument:P,percentageOfPortfolio:n>0?A/n*100:0,pnlPercentage:b.averagePrice>0?(E-b.averagePrice)/b.averagePrice*100:0}}),[f,r,i,n]),h=I.useMemo(()=>{let b=d;return o&&(b=b.filter(w=>{var E,M;return w.symbol.toLowerCase().includes(o.toLowerCase())||((M=(E=w.instrument)==null?void 0:E.name)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))})),c!=="all"&&(b=b.filter(w=>w.side===c)),b.sort((w,E)=>{switch(s){case"symbol":return w.symbol.localeCompare(E.symbol);case"value":return E.marketValue-w.marketValue;case"pnl":return E.unrealizedPnL-w.unrealizedPnL;case"percentage":return E.percentageOfPortfolio-w.percentageOfPortfolio;default:return 0}})},[d,o,c,s]),y=I.useMemo(()=>{const b=h.filter(E=>E.side==="LONG"),w=h.filter(E=>E.side==="SHORT");return{totalPositions:h.length,longPositions:b.length,shortPositions:w.length,longValue:b.reduce((E,M)=>E+M.marketValue,0),shortValue:w.reduce((E,M)=>E+M.marketValue,0),totalUnrealizedPnL:h.reduce((E,M)=>E+M.unrealizedPnL,0),winners:h.filter(E=>E.unrealizedPnL>0).length,losers:h.filter(E=>E.unrealizedPnL<0).length}},[h]),x=I.useMemo(()=>{const b=new Map;return h.forEach(w=>{var A;const E=((A=w.instrument)==null?void 0:A.sector)||"Unknown",M=b.get(E)||{value:0,pnl:0};b.set(E,{value:M.value+w.marketValue,pnl:M.pnl+w.unrealizedPnL})}),Array.from(b.entries()).map(([w,E])=>({name:w,value:E.value,pnl:E.pnl,percentage:n>0?E.value/n*100:0})).sort((w,E)=>E.value-w.value)},[h,n]),v=I.useMemo(()=>h.slice(0,10),[h]),m=b=>{switch(b){case"LONG":return"default";case"SHORT":return"destructive";default:return"secondary"}},_=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"];return S.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(LU,{className:"h-5 w-5 text-primary"}),S.jsx("h3",{className:"text-lg font-semibold",children:"Position Overview"}),S.jsxs(Er,{variant:"outline",children:[y.totalPositions," positions"]})]}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsxs("div",{className:`text-sm font-medium ${ba(y.totalUnrealizedPnL)}`,children:["Total P&L: ",On(y.totalUnrealizedPnL)]})})]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[S.jsx(Nt,{children:S.jsx(Dt,{className:"p-3",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(nc,{className:"h-4 w-4 text-green-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-green-500",children:y.longPositions}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Long"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-3",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(tc,{className:"h-4 w-4 text-red-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-red-500",children:y.shortPositions}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Short"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-3",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(koe,{className:"h-4 w-4 text-blue-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold",children:On(n)}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Market Value"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-3",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(nc,{className:"h-4 w-4 text-green-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-green-500",children:y.winners}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Winners"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-3",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(tc,{className:"h-4 w-4 text-red-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-red-500",children:y.losers}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Losers"})]})]})})})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Top Positions by Value"})}),S.jsx(Dt,{children:S.jsx("div",{className:"h-48",children:S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(hD,{data:v,children:[S.jsx(rd,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),S.jsx(os,{dataKey:"symbol",fontSize:10,stroke:"hsl(var(--muted-foreground))"}),S.jsx(as,{fontSize:10,stroke:"hsl(var(--muted-foreground))",tickFormatter:b=>On(b)}),S.jsx(ni,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:b=>[On(b),"Market Value"]}),S.jsx(pc,{dataKey:"marketValue",radius:[2,2,0,0],children:v.map((b,w)=>S.jsx(wu,{fill:b.side==="LONG"?"#10b981":"#ef4444"},`cell-${w}`))})]})})})})]}),S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Sector Allocation"})}),S.jsx(Dt,{children:S.jsx("div",{className:"h-48",children:S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(pD,{children:[S.jsx(gs,{dataKey:"percentage",data:x,cx:"50%",cy:"50%",outerRadius:60,label:({name:b,percentage:w})=>w>5?`${b} ${w.toFixed(1)}%`:"",labelLine:!1,fontSize:10,children:x.map((b,w)=>S.jsx(wu,{fill:_[w%_.length]},`cell-${w}`))}),S.jsx(ni,{formatter:b=>[`${b.toFixed(2)}%`,"Allocation"]})]})})})})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsxs("div",{className:"relative min-w-48",children:[S.jsx(Lm,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),S.jsx(xr,{placeholder:"Search positions...",value:o,onChange:b=>a(b.target.value),className:"pl-8"})]}),S.jsxs(Ws,{value:s,onValueChange:b=>l(b),children:[S.jsx(es,{className:"w-32",children:S.jsx(Xs,{})}),S.jsxs(ts,{children:[S.jsx(en,{value:"value",children:"By Value"}),S.jsx(en,{value:"pnl",children:"By P&L"}),S.jsx(en,{value:"percentage",children:"By %"}),S.jsx(en,{value:"symbol",children:"By Symbol"})]})]}),S.jsxs(Ws,{value:c,onValueChange:b=>u(b),children:[S.jsx(es,{className:"w-24",children:S.jsx(Xs,{})}),S.jsxs(ts,{children:[S.jsx(en,{value:"all",children:"All"}),S.jsx(en,{value:"LONG",children:"Long"}),S.jsx(en,{value:"SHORT",children:"Short"})]})]})]}),S.jsxs(Nt,{className:"flex-1",children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Position Details"})}),S.jsxs(Dt,{className:"p-0",children:[S.jsxs("div",{className:"overflow-auto max-h-96",children:[S.jsxs("div",{className:"grid grid-cols-8 gap-2 px-4 py-2 bg-muted/50 text-xs font-semibold border-b sticky top-0",children:[S.jsx("div",{children:"Symbol"}),S.jsx("div",{children:"Side"}),S.jsx("div",{className:"text-right",children:"Quantity"}),S.jsx("div",{className:"text-right",children:"Avg Price"}),S.jsx("div",{className:"text-right",children:"Current Price"}),S.jsx("div",{className:"text-right",children:"Market Value"}),S.jsx("div",{className:"text-right",children:"Unrealized P&L"}),S.jsx("div",{className:"text-right",children:"Portfolio %"})]}),S.jsx("div",{className:"space-y-0",children:h.length===0?S.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground",children:S.jsxs("div",{className:"text-center",children:[S.jsx(LU,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),S.jsx("p",{className:"text-sm",children:"No positions found"})]})}):h.map(b=>{var w;return S.jsxs("div",{className:"grid grid-cols-8 gap-2 px-4 py-3 text-xs hover:bg-muted/30 border-b",children:[S.jsxs("div",{className:"space-y-0",children:[S.jsx("div",{className:"font-medium",children:b.symbol}),S.jsx("div",{className:"text-muted-foreground text-xs",children:(w=b.instrument)==null?void 0:w.assetClass})]}),S.jsx("div",{children:S.jsx(Er,{variant:m(b.side),className:"text-xs",children:J8(b.side)})}),S.jsx("div",{className:"text-right font-mono",children:Math.abs(b.quantity).toLocaleString()}),S.jsx("div",{className:"text-right font-mono",children:hr(b.averagePrice)}),S.jsx("div",{className:"text-right font-mono",children:hr(b.currentPrice)}),S.jsx("div",{className:"text-right font-mono",children:On(b.marketValue)}),S.jsx("div",{className:`text-right font-mono ${ba(b.unrealizedPnL)}`,children:On(b.unrealizedPnL)}),S.jsxs("div",{className:"text-right font-mono text-muted-foreground",children:[b.percentageOfPortfolio.toFixed(2),"%"]})]},b.symbol)})})]}),h.length>0&&S.jsx("div",{className:"border-t p-4 bg-muted/30",children:S.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[S.jsxs("div",{children:[S.jsx("span",{className:"text-muted-foreground",children:"Total Positions: "}),S.jsx("span",{className:"font-medium",children:h.length})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-muted-foreground",children:"Total Market Value: "}),S.jsx("span",{className:"font-mono",children:On(n)})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-muted-foreground",children:"Total Unrealized P&L: "}),S.jsx("span",{className:`font-mono ${ba(y.totalUnrealizedPnL)}`,children:On(y.totalUnrealizedPnL)})]})]})})]})]})]})},YNe={low:"#10b981",medium:"#f59e0b",high:"#ef4444",critical:"#dc2626"},KNe=()=>{const{metrics:t,limits:e,breaches:n,updateMetrics:r,updateLimits:i,checkLimits:o,clearBreaches:a}=XNe(),{getAllPositions:s,totalPnL:l,totalMarketValue:c}=Zf();mi();const{marketData:u}=Ji(),[f,d]=I.useState("overview"),[h,y]=I.useState([]),x=s();I.useEffect(()=>{y(R=>R.length===0?[{timestamp:Date.now(),pnl:l,value:c}]:R);const P=setInterval(()=>{y(R=>{const O={timestamp:Date.now(),pnl:l,value:c};return[...R,O].slice(-100)})},2e3);return()=>clearInterval(P)},[l,c]);const v=I.useMemo(()=>{const A=h.map(N=>N.pnl),P=Array.from(u.values()).map(N=>N.price).filter(N=>N>0),R=A.length>=2,O=x.length>0;if(!R&&!O)return{var95:1e5*.18*1.65*-1,var99:1e5*.18*2.33*-1,sharpeRatio:1.2,maxDrawdown:.08,volatility:.18,beta:1};if(!R&&O){const N=Math.abs(c)||1e4,L=P.length>1?ZU(P):.15;return{var95:N*L*1.65*-1,var99:N*L*2.33*-1,sharpeRatio:l>0?1.5:l<0?-.5:0,maxDrawdown:l<0?Math.abs(l)/N:0,volatility:L,beta:1}}return{var95:JU(A,.95),var99:JU(A,.99),sharpeRatio:Yse(A),maxDrawdown:Kse(A),volatility:P.length>1?ZU(P):0,beta:1}},[h,u,x.length,c,l]);I.useEffect(()=>{r(v)},[v,r]);const m=I.useMemo(()=>{const A=Math.abs(c);return x.map(P=>({symbol:P.symbol,value:Math.abs(P.marketValue),percentage:A>0?Math.abs(P.marketValue)/A*100:0,risk:P.unrealizedPnL<0?Math.abs(P.unrealizedPnL):0,side:P.side})).sort((P,R)=>R.percentage-P.percentage)},[x,c]),_=I.useMemo(()=>{var P,R;const A=x.reduce((O,N)=>Math.max(O,Math.abs(N.marketValue)),0);return{position:{current:A,limit:e.maxPositionSize,utilization:A/e.maxPositionSize*100},dailyLoss:{current:Math.abs(Math.min(0,l)),limit:e.maxDailyLoss,utilization:Math.abs(Math.min(0,l))/e.maxDailyLoss*100},var:{current:Math.abs(v.var95),limit:e.varLimit,utilization:Math.abs(v.var95)/e.varLimit*100},concentration:{current:((P=m[0])==null?void 0:P.percentage)||0,limit:e.maxConcentration*100,utilization:(((R=m[0])==null?void 0:R.percentage)||0)/(e.maxConcentration*100)*100}}},[x,l,e,v,m]),b=I.useMemo(()=>{const A=Object.values(_).map(R=>R.utilization),P=Math.max(...A);return P>=90?"critical":P>=70?"high":P>=50?"medium":"low"},[_]),w=A=>YNe[A],E=A=>A>=90?"Critical":A>=70?"High":A>=50?"Medium":"Low",M=I.useMemo(()=>h.map(A=>({time:new Date(A.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),pnl:A.pnl,value:A.value,timestamp:A.timestamp})),[h]);return S.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(NU,{className:"h-5 w-5 text-primary"}),S.jsx("h2",{className:"text-lg font-semibold",children:"Risk Dashboard"}),S.jsxs(Er,{variant:"outline",className:"border-2",style:{borderColor:w(b),color:w(b)},children:[b.toUpperCase()," RISK"]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(gn,{variant:"outline",size:"sm",onClick:a,children:"Clear Alerts"}),S.jsx(gn,{variant:"outline",size:"sm",children:S.jsx(G8,{className:"h-4 w-4"})})]})]}),n.length>0&&S.jsxs(fq,{variant:"destructive",children:[S.jsx(Qoe,{className:"h-4 w-4"}),S.jsx(dq,{children:S.jsxs("div",{className:"space-y-1",children:[n.slice(0,3).map((A,P)=>S.jsx("div",{className:"text-sm",children:A.message},P)),n.length>3&&S.jsxs("div",{className:"text-xs opacity-80",children:["+",n.length-3," more alerts"]})]})})]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(tc,{className:"h-4 w-4 text-orange-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold",children:On(Math.abs(v.var95))}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"VaR (95%)"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(gy,{className:"h-4 w-4 text-blue-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold",children:v.sharpeRatio.toFixed(2)}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Sharpe Ratio"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(FI,{className:"h-4 w-4 text-purple-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold",children:Ls(v.maxDrawdown*100)}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Max Drawdown"})]})]})})}),S.jsx(Nt,{children:S.jsx(Dt,{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(eae,{className:"h-4 w-4 text-yellow-500"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-2xl font-bold",children:Ls(v.volatility*100)}),S.jsx("div",{className:"text-xs text-muted-foreground",children:"Volatility"})]})]})})})]}),S.jsx("div",{className:"flex-1",children:S.jsxs(Rm,{value:f,onValueChange:d,className:"h-full flex flex-col",children:[S.jsxs(Fd,{className:"grid w-full grid-cols-4",children:[S.jsx(Hn,{value:"overview",children:"Overview"}),S.jsx(Hn,{value:"limits",children:"Risk Limits"}),S.jsx(Hn,{value:"positions",children:"Positions"}),S.jsx(Hn,{value:"analysis",children:"Analysis"})]}),S.jsx(gi,{value:"overview",className:"flex-1 space-y-4",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 h-full",children:[S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"P&L History"})}),S.jsx(Dt,{children:S.jsx("div",{className:"h-48",children:S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(uq,{data:M,children:[S.jsx(rd,{strokeDasharray:"3 3",stroke:"hsl(var(--muted))"}),S.jsx(os,{dataKey:"time",fontSize:10,stroke:"hsl(var(--muted-foreground))"}),S.jsx(as,{fontSize:10,stroke:"hsl(var(--muted-foreground))",tickFormatter:A=>On(A)}),S.jsx(ni,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:A=>[On(A),"P&L"]}),S.jsx(mc,{type:"monotone",dataKey:"pnl",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3})]})})})})]}),S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Risk Limits Utilization"})}),S.jsx(Dt,{className:"space-y-4",children:Object.entries(_).map(([A,P])=>S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-sm",children:[S.jsx("span",{className:"capitalize",children:A.replace(/([A-Z])/g," $1")}),S.jsxs("span",{className:`font-mono ${ba(P.utilization-50)}`,children:[P.utilization.toFixed(1),"%"]})]}),S.jsx(BI,{value:P.utilization,className:"h-2"}),S.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[S.jsx("span",{children:On(P.current)}),S.jsxs("span",{children:["Limit: ",On(P.limit)]})]})]},A))})]})]})}),S.jsx(gi,{value:"limits",className:"flex-1",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Risk Limits"})}),S.jsx(Dt,{className:"space-y-4",children:S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs text-muted-foreground",children:"Max Position Size"}),S.jsx("div",{className:"text-lg font-mono",children:On(e.maxPositionSize)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-xs text-muted-foreground",children:"Max Daily Loss"}),S.jsx("div",{className:"text-lg font-mono",children:On(e.maxDailyLoss)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-xs text-muted-foreground",children:"Max Order Size"}),S.jsx("div",{className:"text-lg font-mono",children:On(e.maxOrderSize)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-xs text-muted-foreground",children:"VaR Limit"}),S.jsx("div",{className:"text-lg font-mono",children:On(e.varLimit)})]})]})})]}),S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Recent Breaches"})}),S.jsx(Dt,{children:S.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:n.length===0?S.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[S.jsx(NU,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),S.jsx("p",{className:"text-sm",children:"No risk breaches"})]}):n.map((A,P)=>S.jsx("div",{className:"p-3 border rounded-lg",children:S.jsx("div",{className:"flex items-start justify-between",children:S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Er,{variant:A.severity==="CRITICAL"?"destructive":"secondary",className:"text-xs",children:A.severity}),S.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(A.timestamp).toLocaleTimeString()})]}),S.jsx("div",{className:"text-sm",children:A.message})]})})},P))})})]})]})}),S.jsx(gi,{value:"positions",className:"flex-1",children:S.jsx(qNe,{})}),S.jsx(gi,{value:"analysis",className:"flex-1 space-y-4",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Position Concentration"})}),S.jsx(Dt,{children:S.jsx("div",{className:"h-48",children:S.jsx(Gl,{width:"100%",height:"100%",children:S.jsxs(pD,{children:[S.jsx(gs,{dataKey:"percentage",data:m.slice(0,8),cx:"50%",cy:"50%",outerRadius:60,label:({symbol:A,percentage:P})=>P>5?`${A} ${P.toFixed(1)}%`:"",labelLine:!1,fontSize:10,children:m.slice(0,8).map((A,P)=>S.jsx(wu,{fill:A.side==="LONG"?"#10b981":"#ef4444"},`cell-${P}`))}),S.jsx(ni,{formatter:A=>[`${A.toFixed(2)}%`,"Allocation"]})]})})})})]}),S.jsxs(Nt,{children:[S.jsx(bn,{children:S.jsx(_n,{className:"text-sm",children:"Risk Metrics Summary"})}),S.jsxs(Dt,{className:"space-y-4",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Beta:"}),S.jsx("span",{className:"font-mono",children:v.beta.toFixed(2)})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Sharpe Ratio:"}),S.jsx("span",{className:"font-mono",children:v.sharpeRatio.toFixed(2)})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Max Drawdown:"}),S.jsx("span",{className:"font-mono text-red-500",children:Ls(v.maxDrawdown*100)})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"VaR 95%:"}),S.jsx("span",{className:"font-mono text-orange-500",children:On(Math.abs(v.var95))})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"VaR 99%:"}),S.jsx("span",{className:"font-mono text-red-500",children:On(Math.abs(v.var99))})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{children:"Volatility:"}),S.jsx("span",{className:"font-mono",children:Ls(v.volatility*100)})]})]})]}),S.jsxs("div",{className:"pt-4 border-t",children:[S.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Risk Assessment"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w(b)}}),S.jsxs("span",{className:"text-sm font-medium",children:[E(Math.max(...Object.values(_).map(A=>A.utilization)))," Risk Level"]})]}),S.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Based on current position exposure and market conditions"})]})]})]})]})})]})})]})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const B0="170",Mf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Tf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hq=0,XO=1,pq=2,QNe=3,mq=0,oM=1,kv=2,$a=3,ac=0,oo=1,Qa=2,Xl=0,id=1,qO=2,YO=3,KO=4,gq=5,Yc=100,vq=101,yq=102,xq=103,bq=104,_q=200,Sq=201,wq=202,Eq=203,$S=204,VS=205,Mq=206,Tq=207,Aq=208,Pq=209,Cq=210,Oq=211,Rq=212,Iq=213,Nq=214,HS=0,GS=1,WS=2,Od=3,XS=4,qS=5,YS=6,KS=7,$0=0,Dq=1,Lq=2,Qs=0,kq=1,Uq=2,Fq=3,mD=4,jq=5,zq=6,Bq=7,QO="attached",$q="detached",aM=300,sc=301,Eu=302,t0=303,n0=304,Km=306,r0=1e3,Sa=1001,i0=1002,yi=1003,gD=1004,ZNe=1004,up=1005,JNe=1005,wr=1006,Uv=1007,eDe=1007,Bs=1008,tDe=1008,fs=1009,vD=1010,yD=1011,wm=1012,sM=1013,lc=1014,So=1015,Qm=1016,lM=1017,cM=1018,Rd=1020,xD=35902,bD=1021,_D=1022,Ui=1023,SD=1024,wD=1025,od=1026,Id=1027,uM=1028,V0=1029,ED=1030,fM=1031,nDe=1032,dM=1033,Fv=33776,jv=33777,zv=33778,Bv=33779,QS=35840,ZS=35841,JS=35842,ew=35843,tw=36196,nw=37492,rw=37496,iw=37808,ow=37809,aw=37810,sw=37811,lw=37812,cw=37813,uw=37814,fw=37815,dw=37816,hw=37817,pw=37818,mw=37819,gw=37820,vw=37821,$v=36492,yw=36494,xw=36495,MD=36283,bw=36284,_w=36285,Sw=36286,Vq=2200,Hq=2201,Gq=2202,o0=2300,ww=2301,Jb=2302,zf=2400,Bf=2401,a0=2402,hM=2500,TD=2501,rDe=0,iDe=1,oDe=2,Wq=3200,AD=3201,aDe=3202,sDe=3203,Lu=0,Xq=1,Ll="",vo="srgb",Hd="srgb-linear",H0="linear",Sn="srgb",lDe=0,Af=7680,cDe=7681,uDe=7682,fDe=7683,dDe=34055,hDe=34056,pDe=5386,mDe=512,gDe=513,vDe=514,yDe=515,xDe=516,bDe=517,_De=518,ZO=519,qq=512,Yq=513,Kq=514,PD=515,Qq=516,Zq=517,Jq=518,eY=519,s0=35044,SDe=35048,wDe=35040,EDe=35045,MDe=35049,TDe=35041,ADe=35046,PDe=35050,CDe=35042,ODe="100",JO="300 es",$s=2e3,l0=2001;let sl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}};const Ri=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let n4=1234567;const ad=Math.PI/180,Em=180/Math.PI;function Qo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ri[t&255]+Ri[t>>8&255]+Ri[t>>16&255]+Ri[t>>24&255]+"-"+Ri[e&255]+Ri[e>>8&255]+"-"+Ri[e>>16&15|64]+Ri[e>>24&255]+"-"+Ri[n&63|128]+Ri[n>>8&255]+"-"+Ri[n>>16&255]+Ri[n>>24&255]+Ri[r&255]+Ri[r>>8&255]+Ri[r>>16&255]+Ri[r>>24&255]).toLowerCase()}function pr(t,e,n){return Math.max(e,Math.min(n,t))}function CD(t,e){return(t%e+e)%e}function RDe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function IDe(t,e,n){return t!==e?(n-t)/(e-t):0}function Vv(t,e,n){return(1-n)*t+n*e}function NDe(t,e,n,r){return Vv(t,e,1-Math.exp(-n*r))}function DDe(t,e=1){return e-Math.abs(CD(t,e*2)-e)}function LDe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function kDe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function UDe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function FDe(t,e){return t+Math.random()*(e-t)}function jDe(t){return t*(.5-Math.random())}function zDe(t){t!==void 0&&(n4=t);let e=n4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function BDe(t){return t*ad}function $De(t){return t*Em}function VDe(t){return(t&t-1)===0&&t!==0}function HDe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function GDe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function WDe(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),f=o((e-r)/2),d=a((e-r)/2),h=o((r-e)/2),y=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*f,l*d,s*c);break;case"YZY":t.set(l*d,s*u,l*f,s*c);break;case"ZXZ":t.set(l*f,l*d,s*u,s*c);break;case"XZX":t.set(s*u,l*y,l*h,s*c);break;case"YXY":t.set(l*h,s*u,l*y,s*c);break;case"ZYZ":t.set(l*y,l*h,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function eo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ht(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const tY={DEG2RAD:ad,RAD2DEG:Em,generateUUID:Qo,clamp:pr,euclideanModulo:CD,mapLinear:RDe,inverseLerp:IDe,lerp:Vv,damp:NDe,pingpong:DDe,smoothstep:LDe,smootherstep:kDe,randInt:UDe,randFloat:FDe,randFloatSpread:jDe,seededRandom:zDe,degToRad:BDe,radToDeg:$De,isPowerOfTwo:VDe,ceilPowerOfTwo:HDe,floorPowerOfTwo:GDe,setQuaternionFromProperEuler:WDe,normalize:Ht,denormalize:eo};class $e{constructor(e=0,n=0){$e.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jt{constructor(e,n,r,i,o,a,s,l,c){jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],y=r[8],x=i[0],v=i[3],m=i[6],_=i[1],b=i[4],w=i[7],E=i[2],M=i[5],A=i[8];return o[0]=a*x+s*_+l*E,o[3]=a*v+s*b+l*M,o[6]=a*m+s*w+l*A,o[1]=c*x+u*_+f*E,o[4]=c*v+u*b+f*M,o[7]=c*m+u*w+f*A,o[2]=d*x+h*_+y*E,o[5]=d*v+h*b+y*M,o[8]=d*m+h*w+y*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*a-s*c,d=s*l-u*o,h=c*o-a*l,y=n*f+r*d+i*h;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=f*x,e[1]=(i*c-u*r)*x,e[2]=(s*r-i*a)*x,e[3]=d*x,e[4]=(u*n-i*l)*x,e[5]=(i*o-s*n)*x,e[6]=h*x,e[7]=(r*l-c*n)*x,e[8]=(a*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(eP.makeScale(e,n)),this}rotate(e){return this.premultiply(eP.makeRotation(-e)),this}translate(e,n){return this.premultiply(eP.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const eP=new jt;function nY(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const XDe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fp(t,e){return new XDe[t](e)}function c0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function rY(){const t=c0("canvas");return t.style.display="block",t}const r4={};function gv(t){t in r4||(r4[t]=!0,console.warn(t))}function qDe(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function YDe(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function KDe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const ln={enabled:!0,workingColorSpace:Hd,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===Sn&&(t.r=ql(t.r),t.g=ql(t.g),t.b=ql(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===Sn&&(t.r=Ip(t.r),t.g=Ip(t.g),t.b=Ip(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===Ll?H0:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function ql(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Ip(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const i4=[.64,.33,.3,.6,.15,.06],o4=[.2126,.7152,.0722],a4=[.3127,.329],s4=new jt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),l4=new jt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);ln.define({[Hd]:{primaries:i4,whitePoint:a4,transfer:H0,toXYZ:s4,fromXYZ:l4,luminanceCoefficients:o4,workingColorSpaceConfig:{unpackColorSpace:vo},outputColorSpaceConfig:{drawingBufferColorSpace:vo}},[vo]:{primaries:i4,whitePoint:a4,transfer:Sn,toXYZ:s4,fromXYZ:l4,luminanceCoefficients:o4,outputColorSpaceConfig:{drawingBufferColorSpace:vo}}});let _h;class iY{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{_h===void 0&&(_h=c0("canvas")),_h.width=e.width,_h.height=e.height;const r=_h.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=_h}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=c0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=ql(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ql(n[r]/255)*255):n[r]=ql(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let QDe=0;class $f{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:QDe++}),this.uuid=Qo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(tP(i[a].image)):o.push(tP(i[a]))}else o=tP(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function tP(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?iY.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ZDe=0;class ir extends sl{constructor(e=ir.DEFAULT_IMAGE,n=ir.DEFAULT_MAPPING,r=Sa,i=Sa,o=wr,a=Bs,s=Ui,l=fs,c=ir.DEFAULT_ANISOTROPY,u=Ll){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ZDe++}),this.uuid=Qo(),this.name="",this.source=new $f(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==aM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case r0:e.x=e.x-Math.floor(e.x);break;case Sa:e.x=e.x<0?0:1;break;case i0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case r0:e.y=e.y-Math.floor(e.y);break;case Sa:e.y=e.y<0?0:1;break;case i0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ir.DEFAULT_IMAGE=null;ir.DEFAULT_MAPPING=aM;ir.DEFAULT_ANISOTROPY=1;class qt{constructor(e=0,n=0,r=0,i=1){qt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],y=l[9],x=l[2],v=l[6],m=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-x)<.01&&Math.abs(y-v)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+x)<.1&&Math.abs(y+v)<.1&&Math.abs(c+h+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,w=(h+1)/2,E=(m+1)/2,M=(u+d)/4,A=(f+x)/4,P=(y+v)/4;return b>w&&b>E?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=M/r,o=A/r):w>E?w<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(w),r=M/i,o=P/i):E<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(E),r=A/o,i=P/o),this.set(r,i,o,n),this}let _=Math.sqrt((v-y)*(v-y)+(f-x)*(f-x)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(v-y)/_,this.y=(f-x)/_,this.z=(d-u)/_,this.w=Math.acos((c+h+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oY extends sl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new qt(0,0,e,n),this.scissorTest=!1,this.viewport=new qt(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:wr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new ir(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new $f(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ds extends oY{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class pM extends ir{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=yi,this.minFilter=yi,this.wrapR=Sa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class JDe extends ds{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new pM(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class OD extends ir{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=yi,this.minFilter=yi,this.wrapR=Sa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class eLe extends ds{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new OD(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Fi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=o[a+0],h=o[a+1],y=o[a+2],x=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(s===1){e[n+0]=d,e[n+1]=h,e[n+2]=y,e[n+3]=x;return}if(f!==x||l!==d||c!==h||u!==y){let v=1-s;const m=l*d+c*h+u*y+f*x,_=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){const E=Math.sqrt(b),M=Math.atan2(E,m*_);v=Math.sin(v*M)/E,s=Math.sin(s*M)/E}const w=s*_;if(l=l*v+d*w,c=c*v+h*w,u=u*v+y*w,f=f*v+x*w,v===1-s){const E=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=E,c*=E,u*=E,f*=E}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=o[a],d=o[a+1],h=o[a+2],y=o[a+3];return e[n]=s*y+u*f+l*h-c*d,e[n+1]=l*y+u*d+c*f-s*h,e[n+2]=c*y+u*h+s*d-l*f,e[n+3]=u*y-s*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),f=s(o/2),d=l(r/2),h=l(i/2),y=l(o/2);switch(a){case"XYZ":this._x=d*u*f+c*h*y,this._y=c*h*f-d*u*y,this._z=c*u*y+d*h*f,this._w=c*u*f-d*h*y;break;case"YXZ":this._x=d*u*f+c*h*y,this._y=c*h*f-d*u*y,this._z=c*u*y-d*h*f,this._w=c*u*f+d*h*y;break;case"ZXY":this._x=d*u*f-c*h*y,this._y=c*h*f+d*u*y,this._z=c*u*y+d*h*f,this._w=c*u*f-d*h*y;break;case"ZYX":this._x=d*u*f-c*h*y,this._y=c*h*f+d*u*y,this._z=c*u*y-d*h*f,this._w=c*u*f+d*h*y;break;case"YZX":this._x=d*u*f+c*h*y,this._y=c*h*f+d*u*y,this._z=c*u*y-d*h*f,this._w=c*u*f-d*h*y;break;case"XZY":this._x=d*u*f-c*h*y,this._y=c*h*f-d*u*y,this._z=c*u*y+d*h*f,this._w=c*u*f+d*h*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+s+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(a-i)*h}else if(r>s&&r>f){const h=2*Math.sqrt(1+r-s-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+c)/h}else if(s>f){const h=2*Math.sqrt(1+s-r-f);this._w=(o-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-s);this._w=(a-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=a*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,n=0,r=0){ne.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(c4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(c4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),u=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*c+a*f-s*u,this.y=r+l*u+s*c-o*f,this.z=i+l*f+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return nP.copy(this).projectOnVector(e),this.sub(nP)}reflect(e){return this.sub(nP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const nP=new ne,c4=new Fi;class Ir{constructor(e=new ne(1/0,1/0,1/0),n=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ka.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ka.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ka.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,ka):ka.fromBufferAttribute(o,a),ka.applyMatrix4(e.matrixWorld),this.expandByPoint(ka);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),N1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),N1.copy(r.boundingBox)),N1.applyMatrix4(e.matrixWorld),this.union(N1)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ka),ka.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xg),D1.subVectors(this.max,Xg),Sh.subVectors(e.a,Xg),wh.subVectors(e.b,Xg),Eh.subVectors(e.c,Xg),Ic.subVectors(wh,Sh),Nc.subVectors(Eh,wh),af.subVectors(Sh,Eh);let n=[0,-Ic.z,Ic.y,0,-Nc.z,Nc.y,0,-af.z,af.y,Ic.z,0,-Ic.x,Nc.z,0,-Nc.x,af.z,0,-af.x,-Ic.y,Ic.x,0,-Nc.y,Nc.x,0,-af.y,af.x,0];return!rP(n,Sh,wh,Eh,D1)||(n=[1,0,0,0,1,0,0,0,1],!rP(n,Sh,wh,Eh,D1))?!1:(L1.crossVectors(Ic,Nc),n=[L1.x,L1.y,L1.z],rP(n,Sh,wh,Eh,D1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ka).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ka).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Sl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Sl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Sl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Sl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Sl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Sl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Sl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Sl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Sl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Sl=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],ka=new ne,N1=new Ir,Sh=new ne,wh=new ne,Eh=new ne,Ic=new ne,Nc=new ne,af=new ne,Xg=new ne,D1=new ne,L1=new ne,sf=new ne;function rP(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){sf.fromArray(t,o);const s=i.x*Math.abs(sf.x)+i.y*Math.abs(sf.y)+i.z*Math.abs(sf.z),l=e.dot(sf),c=n.dot(sf),u=r.dot(sf);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const tLe=new Ir,qg=new ne,iP=new ne;let Hr=class{constructor(e=new ne,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):tLe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;qg.subVectors(e,this.center);const n=qg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(qg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(iP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(qg.copy(e.center).add(iP)),this.expandByPoint(qg.copy(e.center).sub(iP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const wl=new ne,oP=new ne,k1=new ne,Dc=new ne,aP=new ne,U1=new ne,sP=new ne;class Gd{constructor(e=new ne,n=new ne(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=wl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(wl.copy(this.origin).addScaledVector(this.direction,n),wl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){oP.copy(e).add(n).multiplyScalar(.5),k1.copy(n).sub(e).normalize(),Dc.copy(this.origin).sub(oP);const o=e.distanceTo(n)*.5,a=-this.direction.dot(k1),s=Dc.dot(this.direction),l=-Dc.dot(k1),c=Dc.lengthSq(),u=Math.abs(1-a*a);let f,d,h,y;if(u>0)if(f=a*l-s,d=a*s-l,y=o*u,f>=0)if(d>=-y)if(d<=y){const x=1/u;f*=x,d*=x,h=f*(f+a*d+2*s)+d*(a*f+d+2*l)+c}else d=o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d=-o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d<=-y?(f=Math.max(0,-(-a*o+s)),d=f>0?-o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c):d<=y?(f=0,d=Math.min(Math.max(-o,-l),o),h=d*(d+2*l)+c):(f=Math.max(0,-(a*o+s)),d=f>0?o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c);else d=a>0?-o:o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(oP).addScaledVector(k1,d),h}intersectSphere(e,n){wl.subVectors(e.center,this.origin);const r=wl.dot(this.direction),i=wl.dot(wl)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(o=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(o=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(s=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,wl)!==null}intersectTriangle(e,n,r,i,o){aP.subVectors(n,e),U1.subVectors(r,e),sP.crossVectors(aP,U1);let a=this.direction.dot(sP),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Dc.subVectors(this.origin,e);const l=s*this.direction.dot(U1.crossVectors(Dc,U1));if(l<0)return null;const c=s*this.direction.dot(aP.cross(Dc));if(c<0||l+c>a)return null;const u=-s*Dc.dot(sP);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ct{constructor(e,n,r,i,o,a,s,l,c,u,f,d,h,y,x,v){Ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,f,d,h,y,x,v)}set(e,n,r,i,o,a,s,l,c,u,f,d,h,y,x,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=i,m[1]=o,m[5]=a,m[9]=s,m[13]=l,m[2]=c,m[6]=u,m[10]=f,m[14]=d,m[3]=h,m[7]=y,m[11]=x,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ct().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Mh.setFromMatrixColumn(e,0).length(),o=1/Mh.setFromMatrixColumn(e,1).length(),a=1/Mh.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=a*u,h=a*f,y=s*u,x=s*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+y*c,n[5]=d-x*c,n[9]=-s*l,n[2]=x-d*c,n[6]=y+h*c,n[10]=a*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,y=c*u,x=c*f;n[0]=d+x*s,n[4]=y*s-h,n[8]=a*c,n[1]=a*f,n[5]=a*u,n[9]=-s,n[2]=h*s-y,n[6]=x+d*s,n[10]=a*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,y=c*u,x=c*f;n[0]=d-x*s,n[4]=-a*f,n[8]=y+h*s,n[1]=h+y*s,n[5]=a*u,n[9]=x-d*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const d=a*u,h=a*f,y=s*u,x=s*f;n[0]=l*u,n[4]=y*c-h,n[8]=d*c+x,n[1]=l*f,n[5]=x*c+d,n[9]=h*c-y,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const d=a*l,h=a*c,y=s*l,x=s*c;n[0]=l*u,n[4]=x-d*f,n[8]=y*f+h,n[1]=f,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=h*f+y,n[10]=d-x*f}else if(e.order==="XZY"){const d=a*l,h=a*c,y=s*l,x=s*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+x,n[5]=a*u,n[9]=h*f-y,n[2]=y*f-h,n[6]=s*u,n[10]=x*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nLe,e,rLe)}lookAt(e,n,r){const i=this.elements;return ko.subVectors(e,n),ko.lengthSq()===0&&(ko.z=1),ko.normalize(),Lc.crossVectors(r,ko),Lc.lengthSq()===0&&(Math.abs(r.z)===1?ko.x+=1e-4:ko.z+=1e-4,ko.normalize(),Lc.crossVectors(r,ko)),Lc.normalize(),F1.crossVectors(ko,Lc),i[0]=Lc.x,i[4]=F1.x,i[8]=ko.x,i[1]=Lc.y,i[5]=F1.y,i[9]=ko.y,i[2]=Lc.z,i[6]=F1.z,i[10]=ko.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],y=r[2],x=r[6],v=r[10],m=r[14],_=r[3],b=r[7],w=r[11],E=r[15],M=i[0],A=i[4],P=i[8],R=i[12],O=i[1],N=i[5],L=i[9],j=i[13],U=i[2],H=i[6],z=i[10],Q=i[14],k=i[3],B=i[7],W=i[11],$=i[15];return o[0]=a*M+s*O+l*U+c*k,o[4]=a*A+s*N+l*H+c*B,o[8]=a*P+s*L+l*z+c*W,o[12]=a*R+s*j+l*Q+c*$,o[1]=u*M+f*O+d*U+h*k,o[5]=u*A+f*N+d*H+h*B,o[9]=u*P+f*L+d*z+h*W,o[13]=u*R+f*j+d*Q+h*$,o[2]=y*M+x*O+v*U+m*k,o[6]=y*A+x*N+v*H+m*B,o[10]=y*P+x*L+v*z+m*W,o[14]=y*R+x*j+v*Q+m*$,o[3]=_*M+b*O+w*U+E*k,o[7]=_*A+b*N+w*H+E*B,o[11]=_*P+b*L+w*z+E*W,o[15]=_*R+b*j+w*Q+E*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],y=e[3],x=e[7],v=e[11],m=e[15];return y*(+o*l*f-i*c*f-o*s*d+r*c*d+i*s*h-r*l*h)+x*(+n*l*h-n*c*d+o*a*d-i*a*h+i*c*u-o*l*u)+v*(+n*c*f-n*s*h-o*a*f+r*a*h+o*s*u-r*c*u)+m*(-i*s*u-n*l*f+n*s*d+i*a*f-r*a*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],y=e[12],x=e[13],v=e[14],m=e[15],_=f*v*c-x*d*c+x*l*h-s*v*h-f*l*m+s*d*m,b=y*d*c-u*v*c-y*l*h+a*v*h+u*l*m-a*d*m,w=u*x*c-y*f*c+y*s*h-a*x*h-u*s*m+a*f*m,E=y*f*l-u*x*l-y*s*d+a*x*d+u*s*v-a*f*v,M=n*_+r*b+i*w+o*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/M;return e[0]=_*A,e[1]=(x*d*o-f*v*o-x*i*h+r*v*h+f*i*m-r*d*m)*A,e[2]=(s*v*o-x*l*o+x*i*c-r*v*c-s*i*m+r*l*m)*A,e[3]=(f*l*o-s*d*o-f*i*c+r*d*c+s*i*h-r*l*h)*A,e[4]=b*A,e[5]=(u*v*o-y*d*o+y*i*h-n*v*h-u*i*m+n*d*m)*A,e[6]=(y*l*o-a*v*o-y*i*c+n*v*c+a*i*m-n*l*m)*A,e[7]=(a*d*o-u*l*o+u*i*c-n*d*c-a*i*h+n*l*h)*A,e[8]=w*A,e[9]=(y*f*o-u*x*o-y*r*h+n*x*h+u*r*m-n*f*m)*A,e[10]=(a*x*o-y*s*o+y*r*c-n*x*c-a*r*m+n*s*m)*A,e[11]=(u*s*o-a*f*o-u*r*c+n*f*c+a*r*h-n*s*h)*A,e[12]=E*A,e[13]=(u*x*i-y*f*i+y*r*d-n*x*d-u*r*v+n*f*v)*A,e[14]=(y*s*i-a*x*i-y*r*l+n*x*l+a*r*v-n*s*v)*A,e[15]=(a*f*i-u*s*i+u*r*l-n*f*l-a*r*d+n*s*d)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,f=s+s,d=o*c,h=o*u,y=o*f,x=a*u,v=a*f,m=s*f,_=l*c,b=l*u,w=l*f,E=r.x,M=r.y,A=r.z;return i[0]=(1-(x+m))*E,i[1]=(h+w)*E,i[2]=(y-b)*E,i[3]=0,i[4]=(h-w)*M,i[5]=(1-(d+m))*M,i[6]=(v+_)*M,i[7]=0,i[8]=(y+b)*A,i[9]=(v-_)*A,i[10]=(1-(d+x))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Mh.set(i[0],i[1],i[2]).length();const a=Mh.set(i[4],i[5],i[6]).length(),s=Mh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Ua.copy(this);const c=1/o,u=1/a,f=1/s;return Ua.elements[0]*=c,Ua.elements[1]*=c,Ua.elements[2]*=c,Ua.elements[4]*=u,Ua.elements[5]*=u,Ua.elements[6]*=u,Ua.elements[8]*=f,Ua.elements[9]*=f,Ua.elements[10]*=f,n.setFromRotationMatrix(Ua),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=$s){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,y;if(s===$s)h=-(a+o)/(a-o),y=-2*a*o/(a-o);else if(s===l0)h=-a/(a-o),y=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=$s){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(a-o),d=(n+e)*c,h=(r+i)*u;let y,x;if(s===$s)y=(a+o)*f,x=-2*f;else if(s===l0)y=o*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=x,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Mh=new ne,Ua=new Ct,nLe=new ne(0,0,0),rLe=new ne(1,1,1),Lc=new ne,F1=new ne,ko=new ne,u4=new Ct,f4=new Fi;class Jo{constructor(e=0,n=0,r=0,i=Jo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(pr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-pr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(pr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-pr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(pr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-pr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return u4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(u4,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return f4.setFromEuler(this),this.setFromQuaternion(f4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Jo.DEFAULT_ORDER="XYZ";class sd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let iLe=0;const d4=new ne,Th=new Fi,El=new Ct,j1=new ne,Yg=new ne,oLe=new ne,aLe=new Fi,h4=new ne(1,0,0),p4=new ne(0,1,0),m4=new ne(0,0,1),g4={type:"added"},sLe={type:"removed"},Ah={type:"childadded",child:null},lP={type:"childremoved",child:null};class dn extends sl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:iLe++}),this.uuid=Qo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dn.DEFAULT_UP.clone();const e=new ne,n=new Jo,r=new Fi,i=new ne(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ct},normalMatrix:{value:new jt}}),this.matrix=new Ct,this.matrixWorld=new Ct,this.matrixAutoUpdate=dn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new sd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Th.setFromAxisAngle(e,n),this.quaternion.multiply(Th),this}rotateOnWorldAxis(e,n){return Th.setFromAxisAngle(e,n),this.quaternion.premultiply(Th),this}rotateX(e){return this.rotateOnAxis(h4,e)}rotateY(e){return this.rotateOnAxis(p4,e)}rotateZ(e){return this.rotateOnAxis(m4,e)}translateOnAxis(e,n){return d4.copy(e).applyQuaternion(this.quaternion),this.position.add(d4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(h4,e)}translateY(e){return this.translateOnAxis(p4,e)}translateZ(e){return this.translateOnAxis(m4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(El.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?j1.copy(e):j1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Yg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?El.lookAt(Yg,j1,this.up):El.lookAt(j1,Yg,this.up),this.quaternion.setFromRotationMatrix(El),i&&(El.extractRotation(i.matrixWorld),Th.setFromRotationMatrix(El),this.quaternion.premultiply(Th.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(g4),Ah.child=e,this.dispatchEvent(Ah),Ah.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(sLe),lP.child=e,this.dispatchEvent(lP),lP.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),El.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),El.multiply(e.parent.matrixWorld)),e.applyMatrix4(El),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(g4),Ah.child=e,this.dispatchEvent(Ah),Ah.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yg,e,oLe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yg,aLe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),f=a(e.shapes),d=a(e.skeletons),h=a(e.animations),y=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),y.length>0&&(r.nodes=y)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}dn.DEFAULT_UP=new ne(0,1,0);dn.DEFAULT_MATRIX_AUTO_UPDATE=!0;dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Fa=new ne,Ml=new ne,cP=new ne,Tl=new ne,Ph=new ne,Ch=new ne,v4=new ne,uP=new ne,fP=new ne,dP=new ne,hP=new qt,pP=new qt,mP=new qt;class xo{constructor(e=new ne,n=new ne,r=new ne){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Fa.subVectors(e,n),i.cross(Fa);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Fa.subVectors(i,n),Ml.subVectors(r,n),cP.subVectors(e,n);const a=Fa.dot(Fa),s=Fa.dot(Ml),l=Fa.dot(cP),c=Ml.dot(Ml),u=Ml.dot(cP),f=a*c-s*s;if(f===0)return o.set(0,0,0),null;const d=1/f,h=(c*l-s*u)*d,y=(a*u-s*l)*d;return o.set(1-h-y,y,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Tl)===null?!1:Tl.x>=0&&Tl.y>=0&&Tl.x+Tl.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Tl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Tl.x),l.addScaledVector(a,Tl.y),l.addScaledVector(s,Tl.z),l)}static getInterpolatedAttribute(e,n,r,i,o,a){return hP.setScalar(0),pP.setScalar(0),mP.setScalar(0),hP.fromBufferAttribute(e,n),pP.fromBufferAttribute(e,r),mP.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(hP,o.x),a.addScaledVector(pP,o.y),a.addScaledVector(mP,o.z),a}static isFrontFacing(e,n,r,i){return Fa.subVectors(r,n),Ml.subVectors(e,n),Fa.cross(Ml).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fa.subVectors(this.c,this.b),Ml.subVectors(this.a,this.b),Fa.cross(Ml).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return xo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return xo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return xo.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return xo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return xo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;Ph.subVectors(i,r),Ch.subVectors(o,r),uP.subVectors(e,r);const l=Ph.dot(uP),c=Ch.dot(uP);if(l<=0&&c<=0)return n.copy(r);fP.subVectors(e,i);const u=Ph.dot(fP),f=Ch.dot(fP);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(Ph,a);dP.subVectors(e,o);const h=Ph.dot(dP),y=Ch.dot(dP);if(y>=0&&h<=y)return n.copy(o);const x=h*c-l*y;if(x<=0&&c>=0&&y<=0)return s=c/(c-y),n.copy(r).addScaledVector(Ch,s);const v=u*y-h*f;if(v<=0&&f-u>=0&&h-y>=0)return v4.subVectors(o,i),s=(f-u)/(f-u+(h-y)),n.copy(i).addScaledVector(v4,s);const m=1/(v+x+d);return a=x*m,s=d*m,n.copy(r).addScaledVector(Ph,a).addScaledVector(Ch,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const aY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},kc={h:0,s:0,l:0},z1={h:0,s:0,l:0};function gP(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class at{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=vo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ln.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ln.workingColorSpace){return this.r=e,this.g=n,this.b=r,ln.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ln.workingColorSpace){if(e=CD(e,1),n=pr(n,0,1),r=pr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=gP(a,o,e+1/3),this.g=gP(a,o,e),this.b=gP(a,o,e-1/3)}return ln.toWorkingColorSpace(this,i),this}setStyle(e,n=vo){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=vo){const r=aY[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ql(e.r),this.g=ql(e.g),this.b=ql(e.b),this}copyLinearToSRGB(e){return this.r=Ip(e.r),this.g=Ip(e.g),this.b=Ip(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=vo){return ln.fromWorkingColorSpace(Ii.copy(this),e),Math.round(pr(Ii.r*255,0,255))*65536+Math.round(pr(Ii.g*255,0,255))*256+Math.round(pr(Ii.b*255,0,255))}getHexString(e=vo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ln.workingColorSpace){ln.fromWorkingColorSpace(Ii.copy(this),n);const r=Ii.r,i=Ii.g,o=Ii.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const f=a-s;switch(c=u<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=ln.workingColorSpace){return ln.fromWorkingColorSpace(Ii.copy(this),n),e.r=Ii.r,e.g=Ii.g,e.b=Ii.b,e}getStyle(e=vo){ln.fromWorkingColorSpace(Ii.copy(this),e);const n=Ii.r,r=Ii.g,i=Ii.b;return e!==vo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(kc),this.setHSL(kc.h+e,kc.s+n,kc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(kc),e.getHSL(z1);const r=Vv(kc.h,z1.h,n),i=Vv(kc.s,z1.s,n),o=Vv(kc.l,z1.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ii=new at;at.NAMES=aY;let lLe=0;class zi extends sl{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lLe++}),this.uuid=Qo(),this.name="",this.blending=id,this.side=ac,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$S,this.blendDst=VS,this.blendEquation=Yc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new at(0,0,0),this.blendAlpha=0,this.depthFunc=Od,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ZO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Af,this.stencilZFail=Af,this.stencilZPass=Af,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==id&&(r.blending=this.blending),this.side!==ac&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==$S&&(r.blendSrc=this.blendSrc),this.blendDst!==VS&&(r.blendDst=this.blendDst),this.blendEquation!==Yc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Od&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ZO&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Af&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Af&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Af&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class gc extends zi{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jo,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const kl=cLe();function cLe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function go(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=pr(t,-65504,65504),kl.floatView[0]=t;const e=kl.uint32View[0],n=e>>23&511;return kl.baseTable[n]+((e&8388607)>>kl.shiftTable[n])}function vv(t){const e=t>>10;return kl.uint32View[0]=kl.mantissaTable[kl.offsetTable[e]+(t&1023)]+kl.exponentTable[e],kl.floatView[0]}const uLe={toHalfFloat:go,fromHalfFloat:vv},Pr=new ne,B1=new $e;class An{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=s0,this.updateRanges=[],this.gpuType=So,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)B1.fromBufferAttribute(this,n),B1.applyMatrix3(e),this.setXY(n,B1.x,B1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix3(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix4(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.applyNormalMatrix(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.transformDirection(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=eo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ht(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=eo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=eo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=eo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=eo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array),i=Ht(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array),i=Ht(i,this.array),o=Ht(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==s0&&(e.usage=this.usage),e}}class fLe extends An{constructor(e,n,r){super(new Int8Array(e),n,r)}}class dLe extends An{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class hLe extends An{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class pLe extends An{constructor(e,n,r){super(new Int16Array(e),n,r)}}class RD extends An{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class mLe extends An{constructor(e,n,r){super(new Int32Array(e),n,r)}}class ID extends An{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class gLe extends An{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=vv(this.array[e*this.itemSize]);return this.normalized&&(n=eo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize]=go(n),this}getY(e){let n=vv(this.array[e*this.itemSize+1]);return this.normalized&&(n=eo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize+1]=go(n),this}getZ(e){let n=vv(this.array[e*this.itemSize+2]);return this.normalized&&(n=eo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize+2]=go(n),this}getW(e){let n=vv(this.array[e*this.itemSize+3]);return this.normalized&&(n=eo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ht(n,this.array)),this.array[e*this.itemSize+3]=go(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array)),this.array[e+0]=go(n),this.array[e+1]=go(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array),i=Ht(i,this.array)),this.array[e+0]=go(n),this.array[e+1]=go(r),this.array[e+2]=go(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array),i=Ht(i,this.array),o=Ht(o,this.array)),this.array[e+0]=go(n),this.array[e+1]=go(r),this.array[e+2]=go(i),this.array[e+3]=go(o),this}}class gt extends An{constructor(e,n,r){super(new Float32Array(e),n,r)}}let vLe=0;const pa=new Ct,vP=new dn,Oh=new ne,Uo=new Ir,Kg=new Ir,Zr=new ne;class Yt extends sl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:vLe++}),this.uuid=Qo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(nY(e)?ID:RD)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new jt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return pa.makeRotationFromQuaternion(e),this.applyMatrix4(pa),this}rotateX(e){return pa.makeRotationX(e),this.applyMatrix4(pa),this}rotateY(e){return pa.makeRotationY(e),this.applyMatrix4(pa),this}rotateZ(e){return pa.makeRotationZ(e),this.applyMatrix4(pa),this}translate(e,n,r){return pa.makeTranslation(e,n,r),this.applyMatrix4(pa),this}scale(e,n,r){return pa.makeScale(e,n,r),this.applyMatrix4(pa),this}lookAt(e){return vP.lookAt(e),vP.updateMatrix(),this.applyMatrix4(vP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Oh).negate(),this.translate(Oh.x,Oh.y,Oh.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new gt(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ir);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Uo.setFromBufferAttribute(o),this.morphTargetsRelative?(Zr.addVectors(this.boundingBox.min,Uo.min),this.boundingBox.expandByPoint(Zr),Zr.addVectors(this.boundingBox.max,Uo.max),this.boundingBox.expandByPoint(Zr)):(this.boundingBox.expandByPoint(Uo.min),this.boundingBox.expandByPoint(Uo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ne,1/0);return}if(e){const r=this.boundingSphere.center;if(Uo.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Kg.setFromBufferAttribute(s),this.morphTargetsRelative?(Zr.addVectors(Uo.min,Kg.min),Uo.expandByPoint(Zr),Zr.addVectors(Uo.max,Kg.max),Uo.expandByPoint(Zr)):(Uo.expandByPoint(Kg.min),Uo.expandByPoint(Kg.max))}Uo.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Zr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Zr));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)Zr.fromBufferAttribute(s,c),l&&(Oh.fromBufferAttribute(e,c),Zr.add(Oh)),i=Math.max(i,r.distanceToSquared(Zr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new An(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let P=0;P<r.count;P++)s[P]=new ne,l[P]=new ne;const c=new ne,u=new ne,f=new ne,d=new $e,h=new $e,y=new $e,x=new ne,v=new ne;function m(P,R,O){c.fromBufferAttribute(r,P),u.fromBufferAttribute(r,R),f.fromBufferAttribute(r,O),d.fromBufferAttribute(o,P),h.fromBufferAttribute(o,R),y.fromBufferAttribute(o,O),u.sub(c),f.sub(c),h.sub(d),y.sub(d);const N=1/(h.x*y.y-y.x*h.y);isFinite(N)&&(x.copy(u).multiplyScalar(y.y).addScaledVector(f,-h.y).multiplyScalar(N),v.copy(f).multiplyScalar(h.x).addScaledVector(u,-y.x).multiplyScalar(N),s[P].add(x),s[R].add(x),s[O].add(x),l[P].add(v),l[R].add(v),l[O].add(v))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let P=0,R=_.length;P<R;++P){const O=_[P],N=O.start,L=O.count;for(let j=N,U=N+L;j<U;j+=3)m(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const b=new ne,w=new ne,E=new ne,M=new ne;function A(P){E.fromBufferAttribute(i,P),M.copy(E);const R=s[P];b.copy(R),b.sub(E.multiplyScalar(E.dot(R))).normalize(),w.crossVectors(M,R);const N=w.dot(l[P])<0?-1:1;a.setXYZW(P,b.x,b.y,b.z,N)}for(let P=0,R=_.length;P<R;++P){const O=_[P],N=O.start,L=O.count;for(let j=N,U=N+L;j<U;j+=3)A(e.getX(j+0)),A(e.getX(j+1)),A(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new An(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new ne,o=new ne,a=new ne,s=new ne,l=new ne,c=new ne,u=new ne,f=new ne;if(e)for(let d=0,h=e.count;d<h;d+=3){const y=e.getX(d+0),x=e.getX(d+1),v=e.getX(d+2);i.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),a.fromBufferAttribute(n,v),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),s.fromBufferAttribute(r,y),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,v),s.add(u),l.add(u),c.add(u),r.setXYZ(y,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Zr.fromBufferAttribute(e,n),Zr.normalize(),e.setXYZ(n,Zr.x,Zr.y,Zr.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,f=s.normalized,d=new c.constructor(l.length*u);let h=0,y=0;for(let x=0,v=l.length;x<v;x++){s.isInterleavedBufferAttribute?h=l[x]*s.data.stride+s.offset:h=l[x]*u;for(let m=0;m<u;m++)d[y++]=c[h++]}return new An(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Yt,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],f=o[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const y4=new Ct,lf=new Gd,$1=new Hr,x4=new ne,V1=new ne,H1=new ne,G1=new ne,yP=new ne,W1=new ne,b4=new ne,X1=new ne;class Qn extends dn{constructor(e=new Yt,n=new gc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){W1.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],f=o[l];u!==0&&(yP.fromBufferAttribute(f,e),a?W1.addScaledVector(yP,u):W1.addScaledVector(yP.sub(n),u))}n.add(W1)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$1.copy(r.boundingSphere),$1.applyMatrix4(o),lf.copy(e.ray).recast(e.near),!($1.containsPoint(lf.origin)===!1&&(lf.intersectSphere($1,x4)===null||lf.origin.distanceToSquared(x4)>(e.far-e.near)**2))&&(y4.copy(o).invert(),lf.copy(e.ray).applyMatrix4(y4),!(r.boundingBox!==null&&lf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,lf)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,f=o.attributes.normal,d=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let y=0,x=d.length;y<x;y++){const v=d[y],m=a[v.materialIndex],_=Math.max(v.start,h.start),b=Math.min(s.count,Math.min(v.start+v.count,h.start+h.count));for(let w=_,E=b;w<E;w+=3){const M=s.getX(w),A=s.getX(w+1),P=s.getX(w+2);i=q1(this,m,e,r,c,u,f,M,A,P),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,h.start),x=Math.min(s.count,h.start+h.count);for(let v=y,m=x;v<m;v+=3){const _=s.getX(v),b=s.getX(v+1),w=s.getX(v+2);i=q1(this,a,e,r,c,u,f,_,b,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let y=0,x=d.length;y<x;y++){const v=d[y],m=a[v.materialIndex],_=Math.max(v.start,h.start),b=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let w=_,E=b;w<E;w+=3){const M=w,A=w+1,P=w+2;i=q1(this,m,e,r,c,u,f,M,A,P),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,h.start),x=Math.min(l.count,h.start+h.count);for(let v=y,m=x;v<m;v+=3){const _=v,b=v+1,w=v+2;i=q1(this,a,e,r,c,u,f,_,b,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function yLe(t,e,n,r,i,o,a,s){let l;if(e.side===oo?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===ac,s),l===null)return null;X1.copy(s),X1.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(X1);return c<n.near||c>n.far?null:{distance:c,point:X1.clone(),object:t}}function q1(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,V1),t.getVertexPosition(l,H1),t.getVertexPosition(c,G1);const u=yLe(t,e,n,r,V1,H1,G1,b4);if(u){const f=new ne;xo.getBarycoord(b4,V1,H1,G1,f),i&&(u.uv=xo.getInterpolatedAttribute(i,s,l,c,f,new $e)),o&&(u.uv1=xo.getInterpolatedAttribute(o,s,l,c,f,new $e)),a&&(u.normal=xo.getInterpolatedAttribute(a,s,l,c,f,new ne),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a:s,b:l,c,normal:new ne,materialIndex:0};xo.getNormal(V1,H1,G1,d.normal),u.face=d,u.barycoord=f}return u}class Wd extends Yt{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],f=[];let d=0,h=0;y("z","y","x",-1,-1,r,n,e,a,o,0),y("z","y","x",1,-1,r,n,-e,a,o,1),y("x","z","y",1,1,e,r,n,i,a,2),y("x","z","y",1,-1,e,r,-n,i,a,3),y("x","y","z",1,-1,e,n,r,i,o,4),y("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new gt(c,3)),this.setAttribute("normal",new gt(u,3)),this.setAttribute("uv",new gt(f,2));function y(x,v,m,_,b,w,E,M,A,P,R){const O=w/A,N=E/P,L=w/2,j=E/2,U=M/2,H=A+1,z=P+1;let Q=0,k=0;const B=new ne;for(let W=0;W<z;W++){const $=W*N-j;for(let Y=0;Y<H;Y++){const J=Y*O-L;B[x]=J*_,B[v]=$*b,B[m]=U,c.push(B.x,B.y,B.z),B[x]=0,B[v]=0,B[m]=M>0?1:-1,u.push(B.x,B.y,B.z),f.push(Y/A),f.push(1-W/P),Q+=1}}for(let W=0;W<P;W++)for(let $=0;$<A;$++){const Y=d+$+H*W,J=d+$+H*(W+1),X=d+($+1)+H*(W+1),te=d+($+1)+H*W;l.push(Y,J,te),l.push(J,X,te),k+=6}s.addGroup(h,k,R),h+=k,d+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Mm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Yi(t){const e={};for(let n=0;n<t.length;n++){const r=Mm(t[n]);for(const i in r)e[i]=r[i]}return e}function xLe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function sY(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ln.workingColorSpace}const u0={clone:Mm,merge:Yi};var bLe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_Le=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Pa extends zi{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=bLe,this.fragmentShader=_Le,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Mm(e.uniforms),this.uniformsGroups=xLe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class G0 extends dn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ct,this.projectionMatrix=new Ct,this.projectionMatrixInverse=new Ct,this.coordinateSystem=$s}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Uc=new ne,_4=new $e,S4=new $e;class _r extends G0{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Em*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ad*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Em*2*Math.atan(Math.tan(ad*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Uc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Uc.x,Uc.y).multiplyScalar(-e/Uc.z),Uc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Uc.x,Uc.y).multiplyScalar(-e/Uc.z)}getViewSize(e,n){return this.getViewBounds(e,_4,S4),n.subVectors(S4,_4)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ad*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Rh=-90,Ih=1;class lY extends dn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new _r(Rh,Ih,e,n);i.layers=this.layers,this.add(i);const o=new _r(Rh,Ih,e,n);o.layers=this.layers,this.add(o);const a=new _r(Rh,Ih,e,n);a.layers=this.layers,this.add(a);const s=new _r(Rh,Ih,e,n);s.layers=this.layers,this.add(s);const l=new _r(Rh,Ih,e,n);l.layers=this.layers,this.add(l);const c=new _r(Rh,Ih,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===$s)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===l0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,h),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class W0 extends ir{constructor(e,n,r,i,o,a,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:sc,super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class cY extends ds{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new W0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:wr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Wd(5,5,5),o=new Pa({name:"CubemapFromEquirect",uniforms:Mm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:oo,blending:Xl});o.uniforms.tEquirect.value=n;const a=new Qn(i,o),s=n.minFilter;return n.minFilter===Bs&&(n.minFilter=wr),new lY(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const xP=new ne,SLe=new ne,wLe=new jt;class Il{constructor(e=new ne(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=xP.subVectors(r,n).cross(SLe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(xP),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||wLe.getNormalMatrix(e),i=this.coplanarPoint(xP).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const cf=new Hr,Y1=new ne;class X0{constructor(e=new Il,n=new Il,r=new Il,i=new Il,o=new Il,a=new Il){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=$s){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],y=i[9],x=i[10],v=i[11],m=i[12],_=i[13],b=i[14],w=i[15];if(r[0].setComponents(l-o,d-c,v-h,w-m).normalize(),r[1].setComponents(l+o,d+c,v+h,w+m).normalize(),r[2].setComponents(l+a,d+u,v+y,w+_).normalize(),r[3].setComponents(l-a,d-u,v-y,w-_).normalize(),r[4].setComponents(l-s,d-f,v-x,w-b).normalize(),n===$s)r[5].setComponents(l+s,d+f,v+x,w+b).normalize();else if(n===l0)r[5].setComponents(s,f,x,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),cf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),cf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(cf)}intersectsSprite(e){return cf.center.set(0,0,0),cf.radius=.7071067811865476,cf.applyMatrix4(e.matrixWorld),this.intersectsSphere(cf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Y1.x=i.normal.x>0?e.max.x:e.min.x,Y1.y=i.normal.y>0?e.max.y:e.min.y,Y1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Y1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function uY(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function ELe(t){const e=new WeakMap;function n(s,l){const c=s.array,u=s.usage,f=c.byteLength,d=t.createBuffer();t.bindBuffer(l,d),t.bufferData(l,c,u),s.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,s),f.length===0)t.bufferSubData(c,0,u);else{f.sort((h,y)=>h.start-y.start);let d=0;for(let h=1;h<f.length;h++){const y=f[d],x=f[h];x.start<=y.start+y.count+1?y.count=Math.max(y.count,x.start+x.count-y.start):(++d,f[d]=x)}f.length=d+1;for(let h=0,y=f.length;h<y;h++){const x=f[h];t.bufferSubData(c,x.start*u.BYTES_PER_ELEMENT,u,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const u=e.get(s);(!u||u.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,s,l),c.version=s.version}}return{get:i,remove:o,update:a}}class vc extends Yt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,f=e/s,d=n/l,h=[],y=[],x=[],v=[];for(let m=0;m<u;m++){const _=m*d-a;for(let b=0;b<c;b++){const w=b*f-o;y.push(w,-_,0),x.push(0,0,1),v.push(b/s),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let _=0;_<s;_++){const b=_+c*m,w=_+c*(m+1),E=_+1+c*(m+1),M=_+1+c*m;h.push(b,w,M),h.push(w,E,M)}this.setIndex(h),this.setAttribute("position",new gt(y,3)),this.setAttribute("normal",new gt(x,3)),this.setAttribute("uv",new gt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.width,e.height,e.widthSegments,e.heightSegments)}}var MLe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,TLe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ALe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,PLe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,CLe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,OLe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RLe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ILe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,NLe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,DLe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,LLe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,kLe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ULe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,FLe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,jLe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zLe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,BLe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$Le=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,VLe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,HLe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,GLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,WLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,XLe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,qLe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,YLe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,KLe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,QLe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ZLe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,JLe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,eke=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,tke="gl_FragColor = linearToOutputTexel( gl_FragColor );",nke=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,rke=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ike=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,oke=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,ake=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ske=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,lke=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,cke=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,uke=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fke=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,dke=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,hke=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,pke=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,mke=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,gke=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,vke=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,yke=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,xke=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bke=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,_ke=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ske=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,wke=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Eke=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Mke=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Tke=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Ake=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Pke=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Cke=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Oke=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Rke=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Ike=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Nke=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Dke=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Lke=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kke=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Uke=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Fke=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,jke=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,zke=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Bke=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$ke=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Vke=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Hke=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Gke=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Wke=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Xke=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,qke=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Yke=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Kke=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Qke=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Zke=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Jke=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,e3e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,t3e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,n3e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,r3e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,i3e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,o3e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,a3e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,s3e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,l3e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,c3e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,u3e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,f3e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,d3e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,h3e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,p3e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,m3e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,g3e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,v3e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,y3e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,x3e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,b3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,S3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,w3e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const E3e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,M3e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,T3e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,A3e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,P3e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,C3e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,O3e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,R3e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,I3e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,N3e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,D3e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,L3e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,k3e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,U3e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,F3e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,j3e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z3e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,B3e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$3e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,V3e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,H3e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,G3e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,W3e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,X3e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q3e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Y3e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,K3e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Q3e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Z3e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,J3e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eUe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tUe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nUe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rUe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Vt={alphahash_fragment:MLe,alphahash_pars_fragment:TLe,alphamap_fragment:ALe,alphamap_pars_fragment:PLe,alphatest_fragment:CLe,alphatest_pars_fragment:OLe,aomap_fragment:RLe,aomap_pars_fragment:ILe,batching_pars_vertex:NLe,batching_vertex:DLe,begin_vertex:LLe,beginnormal_vertex:kLe,bsdfs:ULe,iridescence_fragment:FLe,bumpmap_pars_fragment:jLe,clipping_planes_fragment:zLe,clipping_planes_pars_fragment:BLe,clipping_planes_pars_vertex:$Le,clipping_planes_vertex:VLe,color_fragment:HLe,color_pars_fragment:GLe,color_pars_vertex:WLe,color_vertex:XLe,common:qLe,cube_uv_reflection_fragment:YLe,defaultnormal_vertex:KLe,displacementmap_pars_vertex:QLe,displacementmap_vertex:ZLe,emissivemap_fragment:JLe,emissivemap_pars_fragment:eke,colorspace_fragment:tke,colorspace_pars_fragment:nke,envmap_fragment:rke,envmap_common_pars_fragment:ike,envmap_pars_fragment:oke,envmap_pars_vertex:ake,envmap_physical_pars_fragment:vke,envmap_vertex:ske,fog_vertex:lke,fog_pars_vertex:cke,fog_fragment:uke,fog_pars_fragment:fke,gradientmap_pars_fragment:dke,lightmap_pars_fragment:hke,lights_lambert_fragment:pke,lights_lambert_pars_fragment:mke,lights_pars_begin:gke,lights_toon_fragment:yke,lights_toon_pars_fragment:xke,lights_phong_fragment:bke,lights_phong_pars_fragment:_ke,lights_physical_fragment:Ske,lights_physical_pars_fragment:wke,lights_fragment_begin:Eke,lights_fragment_maps:Mke,lights_fragment_end:Tke,logdepthbuf_fragment:Ake,logdepthbuf_pars_fragment:Pke,logdepthbuf_pars_vertex:Cke,logdepthbuf_vertex:Oke,map_fragment:Rke,map_pars_fragment:Ike,map_particle_fragment:Nke,map_particle_pars_fragment:Dke,metalnessmap_fragment:Lke,metalnessmap_pars_fragment:kke,morphinstance_vertex:Uke,morphcolor_vertex:Fke,morphnormal_vertex:jke,morphtarget_pars_vertex:zke,morphtarget_vertex:Bke,normal_fragment_begin:$ke,normal_fragment_maps:Vke,normal_pars_fragment:Hke,normal_pars_vertex:Gke,normal_vertex:Wke,normalmap_pars_fragment:Xke,clearcoat_normal_fragment_begin:qke,clearcoat_normal_fragment_maps:Yke,clearcoat_pars_fragment:Kke,iridescence_pars_fragment:Qke,opaque_fragment:Zke,packing:Jke,premultiplied_alpha_fragment:e3e,project_vertex:t3e,dithering_fragment:n3e,dithering_pars_fragment:r3e,roughnessmap_fragment:i3e,roughnessmap_pars_fragment:o3e,shadowmap_pars_fragment:a3e,shadowmap_pars_vertex:s3e,shadowmap_vertex:l3e,shadowmask_pars_fragment:c3e,skinbase_vertex:u3e,skinning_pars_vertex:f3e,skinning_vertex:d3e,skinnormal_vertex:h3e,specularmap_fragment:p3e,specularmap_pars_fragment:m3e,tonemapping_fragment:g3e,tonemapping_pars_fragment:v3e,transmission_fragment:y3e,transmission_pars_fragment:x3e,uv_pars_fragment:b3e,uv_pars_vertex:_3e,uv_vertex:S3e,worldpos_vertex:w3e,background_vert:E3e,background_frag:M3e,backgroundCube_vert:T3e,backgroundCube_frag:A3e,cube_vert:P3e,cube_frag:C3e,depth_vert:O3e,depth_frag:R3e,distanceRGBA_vert:I3e,distanceRGBA_frag:N3e,equirect_vert:D3e,equirect_frag:L3e,linedashed_vert:k3e,linedashed_frag:U3e,meshbasic_vert:F3e,meshbasic_frag:j3e,meshlambert_vert:z3e,meshlambert_frag:B3e,meshmatcap_vert:$3e,meshmatcap_frag:V3e,meshnormal_vert:H3e,meshnormal_frag:G3e,meshphong_vert:W3e,meshphong_frag:X3e,meshphysical_vert:q3e,meshphysical_frag:Y3e,meshtoon_vert:K3e,meshtoon_frag:Q3e,points_vert:Z3e,points_frag:J3e,shadow_vert:eUe,shadow_frag:tUe,sprite_vert:nUe,sprite_frag:rUe},tt={common:{diffuse:{value:new at(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jt}},envmap:{envMap:{value:null},envMapRotation:{value:new jt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jt},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new at(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new at(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0},uvTransform:{value:new jt}},sprite:{diffuse:{value:new at(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}}},Ya={basic:{uniforms:Yi([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.fog]),vertexShader:Vt.meshbasic_vert,fragmentShader:Vt.meshbasic_frag},lambert:{uniforms:Yi([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new at(0)}}]),vertexShader:Vt.meshlambert_vert,fragmentShader:Vt.meshlambert_frag},phong:{uniforms:Yi([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:Vt.meshphong_vert,fragmentShader:Vt.meshphong_frag},standard:{uniforms:Yi([tt.common,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.roughnessmap,tt.metalnessmap,tt.fog,tt.lights,{emissive:{value:new at(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vt.meshphysical_vert,fragmentShader:Vt.meshphysical_frag},toon:{uniforms:Yi([tt.common,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.gradientmap,tt.fog,tt.lights,{emissive:{value:new at(0)}}]),vertexShader:Vt.meshtoon_vert,fragmentShader:Vt.meshtoon_frag},matcap:{uniforms:Yi([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,{matcap:{value:null}}]),vertexShader:Vt.meshmatcap_vert,fragmentShader:Vt.meshmatcap_frag},points:{uniforms:Yi([tt.points,tt.fog]),vertexShader:Vt.points_vert,fragmentShader:Vt.points_frag},dashed:{uniforms:Yi([tt.common,tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vt.linedashed_vert,fragmentShader:Vt.linedashed_frag},depth:{uniforms:Yi([tt.common,tt.displacementmap]),vertexShader:Vt.depth_vert,fragmentShader:Vt.depth_frag},normal:{uniforms:Yi([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,{opacity:{value:1}}]),vertexShader:Vt.meshnormal_vert,fragmentShader:Vt.meshnormal_frag},sprite:{uniforms:Yi([tt.sprite,tt.fog]),vertexShader:Vt.sprite_vert,fragmentShader:Vt.sprite_frag},background:{uniforms:{uvTransform:{value:new jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Vt.background_vert,fragmentShader:Vt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jt}},vertexShader:Vt.backgroundCube_vert,fragmentShader:Vt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vt.cube_vert,fragmentShader:Vt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vt.equirect_vert,fragmentShader:Vt.equirect_frag},distanceRGBA:{uniforms:Yi([tt.common,tt.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vt.distanceRGBA_vert,fragmentShader:Vt.distanceRGBA_frag},shadow:{uniforms:Yi([tt.lights,tt.fog,{color:{value:new at(0)},opacity:{value:1}}]),vertexShader:Vt.shadow_vert,fragmentShader:Vt.shadow_frag}};Ya.physical={uniforms:Yi([Ya.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jt},clearcoatNormalScale:{value:new $e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jt},sheen:{value:0},sheenColor:{value:new at(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jt},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jt},attenuationDistance:{value:0},attenuationColor:{value:new at(0)},specularColor:{value:new at(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jt},anisotropyVector:{value:new $e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jt}}]),vertexShader:Vt.meshphysical_vert,fragmentShader:Vt.meshphysical_frag};const K1={r:0,b:0,g:0},uf=new Jo,iUe=new Ct;function oUe(t,e,n,r,i,o,a){const s=new at(0);let l=o===!0?0:1,c,u,f=null,d=0,h=null;function y(_){let b=_.isScene===!0?_.background:null;return b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b)),b}function x(_){let b=!1;const w=y(_);w===null?m(s,l):w&&w.isColor&&(m(w,1),b=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,a):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(_,b){const w=y(b);w&&(w.isCubeTexture||w.mapping===Km)?(u===void 0&&(u=new Qn(new Wd(1,1,1),new Pa({name:"BackgroundCubeMaterial",uniforms:Mm(Ya.backgroundCube.uniforms),vertexShader:Ya.backgroundCube.vertexShader,fragmentShader:Ya.backgroundCube.fragmentShader,side:oo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,M,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),uf.copy(b.backgroundRotation),uf.x*=-1,uf.y*=-1,uf.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(uf.y*=-1,uf.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(iUe.makeRotationFromEuler(uf)),u.material.toneMapped=ln.getTransfer(w.colorSpace)!==Sn,(f!==w||d!==w.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=w,d=w.version,h=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Qn(new vc(2,2),new Pa({name:"BackgroundMaterial",uniforms:Mm(Ya.background.uniforms),vertexShader:Ya.background.vertexShader,fragmentShader:Ya.background.fragmentShader,side:ac,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=ln.getTransfer(w.colorSpace)!==Sn,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,h=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function m(_,b){_.getRGB(K1,sY(t)),r.buffers.color.setClear(K1.r,K1.g,K1.b,b,a)}return{getClearColor:function(){return s},setClearColor:function(_,b=1){s.set(_),l=b,m(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,m(s,l)},render:x,addToRenderList:v}}function aUe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=d(null);let o=i,a=!1;function s(O,N,L,j,U){let H=!1;const z=f(j,L,N);o!==z&&(o=z,c(o.object)),H=h(O,j,L,U),H&&y(O,j,L,U),U!==null&&e.update(U,t.ELEMENT_ARRAY_BUFFER),(H||a)&&(a=!1,w(O,N,L,j),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(U).buffer))}function l(){return t.createVertexArray()}function c(O){return t.bindVertexArray(O)}function u(O){return t.deleteVertexArray(O)}function f(O,N,L){const j=L.wireframe===!0;let U=r[O.id];U===void 0&&(U={},r[O.id]=U);let H=U[N.id];H===void 0&&(H={},U[N.id]=H);let z=H[j];return z===void 0&&(z=d(l()),H[j]=z),z}function d(O){const N=[],L=[],j=[];for(let U=0;U<n;U++)N[U]=0,L[U]=0,j[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:L,attributeDivisors:j,object:O,attributes:{},index:null}}function h(O,N,L,j){const U=o.attributes,H=N.attributes;let z=0;const Q=L.getAttributes();for(const k in Q)if(Q[k].location>=0){const W=U[k];let $=H[k];if($===void 0&&(k==="instanceMatrix"&&O.instanceMatrix&&($=O.instanceMatrix),k==="instanceColor"&&O.instanceColor&&($=O.instanceColor)),W===void 0||W.attribute!==$||$&&W.data!==$.data)return!0;z++}return o.attributesNum!==z||o.index!==j}function y(O,N,L,j){const U={},H=N.attributes;let z=0;const Q=L.getAttributes();for(const k in Q)if(Q[k].location>=0){let W=H[k];W===void 0&&(k==="instanceMatrix"&&O.instanceMatrix&&(W=O.instanceMatrix),k==="instanceColor"&&O.instanceColor&&(W=O.instanceColor));const $={};$.attribute=W,W&&W.data&&($.data=W.data),U[k]=$,z++}o.attributes=U,o.attributesNum=z,o.index=j}function x(){const O=o.newAttributes;for(let N=0,L=O.length;N<L;N++)O[N]=0}function v(O){m(O,0)}function m(O,N){const L=o.newAttributes,j=o.enabledAttributes,U=o.attributeDivisors;L[O]=1,j[O]===0&&(t.enableVertexAttribArray(O),j[O]=1),U[O]!==N&&(t.vertexAttribDivisor(O,N),U[O]=N)}function _(){const O=o.newAttributes,N=o.enabledAttributes;for(let L=0,j=N.length;L<j;L++)N[L]!==O[L]&&(t.disableVertexAttribArray(L),N[L]=0)}function b(O,N,L,j,U,H,z){z===!0?t.vertexAttribIPointer(O,N,L,U,H):t.vertexAttribPointer(O,N,L,j,U,H)}function w(O,N,L,j){x();const U=j.attributes,H=L.getAttributes(),z=N.defaultAttributeValues;for(const Q in H){const k=H[Q];if(k.location>=0){let B=U[Q];if(B===void 0&&(Q==="instanceMatrix"&&O.instanceMatrix&&(B=O.instanceMatrix),Q==="instanceColor"&&O.instanceColor&&(B=O.instanceColor)),B!==void 0){const W=B.normalized,$=B.itemSize,Y=e.get(B);if(Y===void 0)continue;const J=Y.buffer,X=Y.type,te=Y.bytesPerElement,ie=X===t.INT||X===t.UNSIGNED_INT||B.gpuType===sM;if(B.isInterleavedBufferAttribute){const ee=B.data,le=ee.stride,ue=B.offset;if(ee.isInstancedInterleavedBuffer){for(let he=0;he<k.locationSize;he++)m(k.location+he,ee.meshPerAttribute);O.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let he=0;he<k.locationSize;he++)v(k.location+he);t.bindBuffer(t.ARRAY_BUFFER,J);for(let he=0;he<k.locationSize;he++)b(k.location+he,$/k.locationSize,X,W,le*te,(ue+$/k.locationSize*he)*te,ie)}else{if(B.isInstancedBufferAttribute){for(let ee=0;ee<k.locationSize;ee++)m(k.location+ee,B.meshPerAttribute);O.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let ee=0;ee<k.locationSize;ee++)v(k.location+ee);t.bindBuffer(t.ARRAY_BUFFER,J);for(let ee=0;ee<k.locationSize;ee++)b(k.location+ee,$/k.locationSize,X,W,$*te,$/k.locationSize*ee*te,ie)}}else if(z!==void 0){const W=z[Q];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(k.location,W);break;case 3:t.vertexAttrib3fv(k.location,W);break;case 4:t.vertexAttrib4fv(k.location,W);break;default:t.vertexAttrib1fv(k.location,W)}}}}_()}function E(){P();for(const O in r){const N=r[O];for(const L in N){const j=N[L];for(const U in j)u(j[U].object),delete j[U];delete N[L]}delete r[O]}}function M(O){if(r[O.id]===void 0)return;const N=r[O.id];for(const L in N){const j=N[L];for(const U in j)u(j[U].object),delete j[U];delete N[L]}delete r[O.id]}function A(O){for(const N in r){const L=r[N];if(L[O.id]===void 0)continue;const j=L[O.id];for(const U in j)u(j[U].object),delete j[U];delete L[O.id]}}function P(){R(),a=!0,o!==i&&(o=i,c(o.object))}function R(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:P,resetDefaultState:R,dispose:E,releaseStatesOfGeometry:M,releaseStatesOfProgram:A,initAttributes:x,enableAttribute:v,disableUnusedAttributes:_}}function sUe(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function a(c,u,f){f!==0&&(t.drawArraysInstanced(r,c,u,f),n.update(u,r,f))}function s(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,f);let h=0;for(let y=0;y<f;y++)h+=u[y];n.update(h,r,1)}function l(c,u,f,d){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let y=0;y<c.length;y++)a(c[y],u[y],d[y]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,f);let y=0;for(let x=0;x<f;x++)y+=u[x]*d[x];n.update(y,r,1)}}this.setMode=i,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function lUe(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(A){return!(A!==Ui&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(A){const P=A===Qm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==fs&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==So&&!P)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,d=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=y>0,M=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:d,maxTextures:h,maxVertexTextures:y,maxTextureSize:x,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:_,maxVaryings:b,maxFragmentUniforms:w,vertexTextures:E,maxSamples:M}}function cUe(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Il,s=new jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const y=f.clippingPlanes,x=f.clipIntersection,v=f.clipShadows,m=t.get(f);if(!i||y===null||y.length===0||o&&!v)o?u(null):c();else{const _=o?0:r,b=_*4;let w=m.clippingState||null;l.value=w,w=u(y,d,b,h);for(let E=0;E!==b;++E)w[E]=n[E];m.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,y){const x=f!==null?f.length:0;let v=null;if(x!==0){if(v=l.value,y!==!0||v===null){const m=h+x*4,_=d.matrixWorldInverse;s.getNormalMatrix(_),(v===null||v.length<m)&&(v=new Float32Array(m));for(let b=0,w=h;b!==x;++b,w+=4)a.copy(f[b]).applyMatrix4(_,s),a.normal.toArray(v,w),v[w+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function uUe(t){let e=new WeakMap;function n(a,s){return s===t0?a.mapping=sc:s===n0&&(a.mapping=Eu),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===t0||s===n0)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new cY(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class gu extends G0{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const dp=4,w4=[.125,.215,.35,.446,.526,.582],Rf=20,bP=new gu,E4=new at;let _P=null,SP=0,wP=0,EP=!1;const Pf=(1+Math.sqrt(5))/2,Nh=1/Pf,M4=[new ne(-Pf,Nh,0),new ne(Pf,Nh,0),new ne(-Nh,0,Pf),new ne(Nh,0,Pf),new ne(0,Pf,-Nh),new ne(0,Pf,Nh),new ne(-1,1,-1),new ne(1,1,-1),new ne(-1,1,1),new ne(1,1,1)];class eR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){_P=this._renderer.getRenderTarget(),SP=this._renderer.getActiveCubeFace(),wP=this._renderer.getActiveMipmapLevel(),EP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=P4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=A4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_P,SP,wP),this._renderer.xr.enabled=EP,e.scissorTest=!1,Q1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===sc||e.mapping===Eu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_P=this._renderer.getRenderTarget(),SP=this._renderer.getActiveCubeFace(),wP=this._renderer.getActiveMipmapLevel(),EP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:wr,minFilter:wr,generateMipmaps:!1,type:Qm,format:Ui,colorSpace:Hd,depthBuffer:!1},i=T4(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=T4(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=fUe(o)),this._blurMaterial=dUe(o,e,n)}return i}_compileMaterial(e){const n=new Qn(this._lodPlanes[0],e);this._renderer.compile(n,bP)}_sceneToCubeUV(e,n,r,i){const s=new _r(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(E4),u.toneMapping=Qs,u.autoClear=!1;const h=new gc({name:"PMREM.Background",side:oo,depthWrite:!1,depthTest:!1}),y=new Qn(new Wd,h);let x=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,x=!0):(h.color.copy(E4),x=!0);for(let m=0;m<6;m++){const _=m%3;_===0?(s.up.set(0,l[m],0),s.lookAt(c[m],0,0)):_===1?(s.up.set(0,0,l[m]),s.lookAt(0,c[m],0)):(s.up.set(0,l[m],0),s.lookAt(0,0,c[m]));const b=this._cubeSize;Q1(i,_*b,m>2?b:0,b,b),u.setRenderTarget(i),x&&u.render(y,s),u.render(e,s)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===sc||e.mapping===Eu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=P4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=A4());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new Qn(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;Q1(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,bP)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=M4[(i-o-1)%M4.length];this._blur(e,o-1,o,a,s)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Qn(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,y=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Rf-1),x=o/y,v=isFinite(o)?1+Math.floor(u*x):Rf;v>Rf&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Rf}`);const m=[];let _=0;for(let A=0;A<Rf;++A){const P=A/x,R=Math.exp(-P*P/2);m.push(R),A===0?_+=R:A<v&&(_+=2*R)}for(let A=0;A<m.length;A++)m[A]=m[A]/_;d.envMap.value=e.texture,d.samples.value=v,d.weights.value=m,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:b}=this;d.dTheta.value=y,d.mipInt.value=b-r;const w=this._sizeLods[i],E=3*w*(i>b-dp?i-b+dp:0),M=4*(this._cubeSize-w);Q1(n,E,M,3*w,2*w),l.setRenderTarget(n),l.render(f,bP)}}function fUe(t){const e=[],n=[],r=[];let i=t;const o=t-dp+1+w4.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-dp?l=w4[a-t+dp-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,y=6,x=3,v=2,m=1,_=new Float32Array(x*y*h),b=new Float32Array(v*y*h),w=new Float32Array(m*y*h);for(let M=0;M<h;M++){const A=M%3*2/3-1,P=M>2?0:-1,R=[A,P,0,A+2/3,P,0,A+2/3,P+1,0,A,P,0,A+2/3,P+1,0,A,P+1,0];_.set(R,x*y*M),b.set(d,v*y*M);const O=[M,M,M,M,M,M];w.set(O,m*y*M)}const E=new Yt;E.setAttribute("position",new An(_,x)),E.setAttribute("uv",new An(b,v)),E.setAttribute("faceIndex",new An(w,m)),e.push(E),i>dp&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function T4(t,e,n){const r=new ds(t,e,n);return r.texture.mapping=Km,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Q1(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function dUe(t,e,n){const r=new Float32Array(Rf),i=new ne(0,1,0);return new Pa({name:"SphericalGaussianBlur",defines:{n:Rf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ND(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xl,depthTest:!1,depthWrite:!1})}function A4(){return new Pa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ND(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xl,depthTest:!1,depthWrite:!1})}function P4(){return new Pa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ND(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xl,depthTest:!1,depthWrite:!1})}function ND(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hUe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===t0||l===n0,u=l===sc||l===Eu;if(c||u){let f=e.get(s);const d=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==d)return n===null&&(n=new eR(t)),f=c?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const h=s.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new eR(t)),f=c?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",o),f.texture):null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function pUe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&gv("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function mUe(t,e,n,r){const i={},o=new WeakMap;function a(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const y in d.attributes)e.remove(d.attributes[y]);for(const y in d.morphAttributes){const x=d.morphAttributes[y];for(let v=0,m=x.length;v<m;v++)e.remove(x[v])}d.removeEventListener("dispose",a),delete i[d.id];const h=o.get(d);h&&(e.remove(h),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const y in d)e.update(d[y],t.ARRAY_BUFFER);const h=f.morphAttributes;for(const y in h){const x=h[y];for(let v=0,m=x.length;v<m;v++)e.update(x[v],t.ARRAY_BUFFER)}}function c(f){const d=[],h=f.index,y=f.attributes.position;let x=0;if(h!==null){const _=h.array;x=h.version;for(let b=0,w=_.length;b<w;b+=3){const E=_[b+0],M=_[b+1],A=_[b+2];d.push(E,M,M,A,A,E)}}else if(y!==void 0){const _=y.array;x=y.version;for(let b=0,w=_.length/3-1;b<w;b+=3){const E=b+0,M=b+1,A=b+2;d.push(E,M,M,A,A,E)}}else return;const v=new(nY(d)?ID:RD)(d,1);v.version=x;const m=o.get(f);m&&e.remove(m),o.set(f,v)}function u(f){const d=o.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:u}}function gUe(t,e,n){let r;function i(d){r=d}let o,a;function s(d){o=d.type,a=d.bytesPerElement}function l(d,h){t.drawElements(r,h,o,d*a),n.update(h,r,1)}function c(d,h,y){y!==0&&(t.drawElementsInstanced(r,h,o,d*a,y),n.update(h,r,y))}function u(d,h,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,d,0,y);let v=0;for(let m=0;m<y;m++)v+=h[m];n.update(v,r,1)}function f(d,h,y,x){if(y===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<d.length;m++)c(d[m]/a,h[m],x[m]);else{v.multiDrawElementsInstancedWEBGL(r,h,0,o,d,0,x,0,y);let m=0;for(let _=0;_<y;_++)m+=h[_]*x[_];n.update(m,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function vUe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function yUe(t,e,n){const r=new WeakMap,i=new qt;function o(a,s,l){const c=a.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=u!==void 0?u.length:0;let d=r.get(s);if(d===void 0||d.count!==f){let O=function(){P.dispose(),r.delete(s),s.removeEventListener("dispose",O)};var h=O;d!==void 0&&d.texture.dispose();const y=s.morphAttributes.position!==void 0,x=s.morphAttributes.normal!==void 0,v=s.morphAttributes.color!==void 0,m=s.morphAttributes.position||[],_=s.morphAttributes.normal||[],b=s.morphAttributes.color||[];let w=0;y===!0&&(w=1),x===!0&&(w=2),v===!0&&(w=3);let E=s.attributes.position.count*w,M=1;E>e.maxTextureSize&&(M=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const A=new Float32Array(E*M*4*f),P=new pM(A,E,M,f);P.type=So,P.needsUpdate=!0;const R=w*4;for(let N=0;N<f;N++){const L=m[N],j=_[N],U=b[N],H=E*M*4*N;for(let z=0;z<L.count;z++){const Q=z*R;y===!0&&(i.fromBufferAttribute(L,z),A[H+Q+0]=i.x,A[H+Q+1]=i.y,A[H+Q+2]=i.z,A[H+Q+3]=0),x===!0&&(i.fromBufferAttribute(j,z),A[H+Q+4]=i.x,A[H+Q+5]=i.y,A[H+Q+6]=i.z,A[H+Q+7]=0),v===!0&&(i.fromBufferAttribute(U,z),A[H+Q+8]=i.x,A[H+Q+9]=i.y,A[H+Q+10]=i.z,A[H+Q+11]=U.itemSize===4?i.w:1)}}d={count:f,texture:P,size:new $e(E,M)},r.set(s,d),s.addEventListener("dispose",O)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let y=0;for(let v=0;v<c.length;v++)y+=c[v];const x=s.morphTargetsRelative?1:1-y;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}return{update:o}}function xUe(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}class DD extends ir{constructor(e,n,r,i,o,a,s,l,c,u=od){if(u!==od&&u!==Id)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===od&&(r=lc),r===void 0&&u===Id&&(r=Rd),super(null,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:yi,this.minFilter=l!==void 0?l:yi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const fY=new ir,C4=new DD(1,1),dY=new pM,hY=new OD,pY=new W0,O4=[],R4=[],I4=new Float32Array(16),N4=new Float32Array(9),D4=new Float32Array(4);function Zm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=O4[i];if(o===void 0&&(o=new Float32Array(i),O4[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Gr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Wr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function mM(t,e){let n=R4[e];n===void 0&&(n=new Int32Array(e),R4[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function bUe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function _Ue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2fv(this.addr,e),Wr(n,e)}}function SUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Gr(n,e))return;t.uniform3fv(this.addr,e),Wr(n,e)}}function wUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4fv(this.addr,e),Wr(n,e)}}function EUe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Wr(n,e)}else{if(Gr(n,r))return;D4.set(r),t.uniformMatrix2fv(this.addr,!1,D4),Wr(n,r)}}function MUe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Wr(n,e)}else{if(Gr(n,r))return;N4.set(r),t.uniformMatrix3fv(this.addr,!1,N4),Wr(n,r)}}function TUe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Wr(n,e)}else{if(Gr(n,r))return;I4.set(r),t.uniformMatrix4fv(this.addr,!1,I4),Wr(n,r)}}function AUe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function PUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2iv(this.addr,e),Wr(n,e)}}function CUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gr(n,e))return;t.uniform3iv(this.addr,e),Wr(n,e)}}function OUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4iv(this.addr,e),Wr(n,e)}}function RUe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function IUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gr(n,e))return;t.uniform2uiv(this.addr,e),Wr(n,e)}}function NUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gr(n,e))return;t.uniform3uiv(this.addr,e),Wr(n,e)}}function DUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gr(n,e))return;t.uniform4uiv(this.addr,e),Wr(n,e)}}function LUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(C4.compareFunction=PD,o=C4):o=fY,n.setTexture2D(e||o,i)}function kUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||hY,i)}function UUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||pY,i)}function FUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||dY,i)}function jUe(t){switch(t){case 5126:return bUe;case 35664:return _Ue;case 35665:return SUe;case 35666:return wUe;case 35674:return EUe;case 35675:return MUe;case 35676:return TUe;case 5124:case 35670:return AUe;case 35667:case 35671:return PUe;case 35668:case 35672:return CUe;case 35669:case 35673:return OUe;case 5125:return RUe;case 36294:return IUe;case 36295:return NUe;case 36296:return DUe;case 35678:case 36198:case 36298:case 36306:case 35682:return LUe;case 35679:case 36299:case 36307:return kUe;case 35680:case 36300:case 36308:case 36293:return UUe;case 36289:case 36303:case 36311:case 36292:return FUe}}function zUe(t,e){t.uniform1fv(this.addr,e)}function BUe(t,e){const n=Zm(e,this.size,2);t.uniform2fv(this.addr,n)}function $Ue(t,e){const n=Zm(e,this.size,3);t.uniform3fv(this.addr,n)}function VUe(t,e){const n=Zm(e,this.size,4);t.uniform4fv(this.addr,n)}function HUe(t,e){const n=Zm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function GUe(t,e){const n=Zm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function WUe(t,e){const n=Zm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function XUe(t,e){t.uniform1iv(this.addr,e)}function qUe(t,e){t.uniform2iv(this.addr,e)}function YUe(t,e){t.uniform3iv(this.addr,e)}function KUe(t,e){t.uniform4iv(this.addr,e)}function QUe(t,e){t.uniform1uiv(this.addr,e)}function ZUe(t,e){t.uniform2uiv(this.addr,e)}function JUe(t,e){t.uniform3uiv(this.addr,e)}function eFe(t,e){t.uniform4uiv(this.addr,e)}function tFe(t,e,n){const r=this.cache,i=e.length,o=mM(n,i);Gr(r,o)||(t.uniform1iv(this.addr,o),Wr(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||fY,o[a])}function nFe(t,e,n){const r=this.cache,i=e.length,o=mM(n,i);Gr(r,o)||(t.uniform1iv(this.addr,o),Wr(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||hY,o[a])}function rFe(t,e,n){const r=this.cache,i=e.length,o=mM(n,i);Gr(r,o)||(t.uniform1iv(this.addr,o),Wr(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||pY,o[a])}function iFe(t,e,n){const r=this.cache,i=e.length,o=mM(n,i);Gr(r,o)||(t.uniform1iv(this.addr,o),Wr(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||dY,o[a])}function oFe(t){switch(t){case 5126:return zUe;case 35664:return BUe;case 35665:return $Ue;case 35666:return VUe;case 35674:return HUe;case 35675:return GUe;case 35676:return WUe;case 5124:case 35670:return XUe;case 35667:case 35671:return qUe;case 35668:case 35672:return YUe;case 35669:case 35673:return KUe;case 5125:return QUe;case 36294:return ZUe;case 36295:return JUe;case 36296:return eFe;case 35678:case 36198:case 36298:case 36306:case 35682:return tFe;case 35679:case 36299:case 36307:return nFe;case 35680:case 36300:case 36308:case 36293:return rFe;case 36289:case 36303:case 36311:case 36292:return iFe}}class aFe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=jUe(n.type)}}class sFe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=oFe(n.type)}}class lFe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const MP=/(\w+)(\])?(\[|\.)?/g;function L4(t,e){t.seq.push(e),t.map[e.id]=e}function cFe(t,e,n){const r=t.name,i=r.length;for(MP.lastIndex=0;;){const o=MP.exec(r),a=MP.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){L4(n,c===void 0?new aFe(s,t,e):new sFe(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new lFe(s),L4(n,f)),n=f}}}class e_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);cFe(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function k4(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const uFe=37297;let fFe=0;function dFe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}const U4=new jt;function hFe(t){ln._getMatrix(U4,ln.workingColorSpace,t);const e=`mat3( ${U4.elements.map(n=>n.toFixed(4))} )`;switch(ln.getTransfer(t)){case H0:return[e,"LinearTransferOETF"];case Sn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function F4(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+dFe(t.getShaderSource(e),a)}else return i}function pFe(t,e){const n=hFe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function mFe(t,e){let n;switch(e){case kq:n="Linear";break;case Uq:n="Reinhard";break;case Fq:n="Cineon";break;case mD:n="ACESFilmic";break;case zq:n="AgX";break;case Bq:n="Neutral";break;case jq:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Z1=new ne;function gFe(){ln.getLuminanceCoefficients(Z1);const t=Z1.x.toFixed(4),e=Z1.y.toFixed(4),n=Z1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function vFe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(yv).join(`
`)}function yFe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function xFe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function yv(t){return t!==""}function j4(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function z4(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bFe=/^[ \t]*#include +<([\w\d./]+)>/gm;function tR(t){return t.replace(bFe,SFe)}const _Fe=new Map;function SFe(t,e){let n=Vt[e];if(n===void 0){const r=_Fe.get(e);if(r!==void 0)n=Vt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return tR(n)}const wFe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function B4(t){return t.replace(wFe,EFe)}function EFe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function $4(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function MFe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===oM?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===kv?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===$a&&(e="SHADOWMAP_TYPE_VSM"),e}function TFe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case sc:case Eu:e="ENVMAP_TYPE_CUBE";break;case Km:e="ENVMAP_TYPE_CUBE_UV";break}return e}function AFe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Eu:e="ENVMAP_MODE_REFRACTION";break}return e}function PFe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case $0:e="ENVMAP_BLENDING_MULTIPLY";break;case Dq:e="ENVMAP_BLENDING_MIX";break;case Lq:e="ENVMAP_BLENDING_ADD";break}return e}function CFe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function OFe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=MFe(n),c=TFe(n),u=AFe(n),f=PFe(n),d=CFe(n),h=vFe(n),y=yFe(o),x=i.createProgram();let v,m,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(yv).join(`
`),v.length>0&&(v+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(yv).join(`
`),m.length>0&&(m+=`
`)):(v=[$4(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(yv).join(`
`),m=[$4(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Qs?"#define TONE_MAPPING":"",n.toneMapping!==Qs?Vt.tonemapping_pars_fragment:"",n.toneMapping!==Qs?mFe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Vt.colorspace_pars_fragment,pFe("linearToOutputTexel",n.outputColorSpace),gFe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(yv).join(`
`)),a=tR(a),a=j4(a,n),a=z4(a,n),s=tR(s),s=j4(s,n),s=z4(s,n),a=B4(a),s=B4(s),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",n.glslVersion===JO?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===JO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const b=_+v+a,w=_+m+s,E=k4(i,i.VERTEX_SHADER,b),M=k4(i,i.FRAGMENT_SHADER,w);i.attachShader(x,E),i.attachShader(x,M),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function A(N){if(t.debug.checkShaderErrors){const L=i.getProgramInfoLog(x).trim(),j=i.getShaderInfoLog(E).trim(),U=i.getShaderInfoLog(M).trim();let H=!0,z=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,E,M);else{const Q=F4(i,E,"vertex"),k=F4(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+L+`
`+Q+`
`+k)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(j===""||U==="")&&(z=!1);z&&(N.diagnostics={runnable:H,programLog:L,vertexShader:{log:j,prefix:v},fragmentShader:{log:U,prefix:m}})}i.deleteShader(E),i.deleteShader(M),P=new e_(i,x),R=xFe(i,x)}let P;this.getUniforms=function(){return P===void 0&&A(this),P};let R;this.getAttributes=function(){return R===void 0&&A(this),R};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(x,uFe)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=fFe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=E,this.fragmentShader=M,this}let RFe=0;class IFe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new NFe(e),n.set(e,r)),r}}class NFe{constructor(e){this.id=RFe++,this.code=e,this.usedTimes=0}}function DFe(t,e,n,r,i,o,a){const s=new sd,l=new IFe,c=new Set,u=[],f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(R){return c.add(R),R===0?"uv":`uv${R}`}function v(R,O,N,L,j){const U=L.fog,H=j.geometry,z=R.isMeshStandardMaterial?L.environment:null,Q=(R.isMeshStandardMaterial?n:e).get(R.envMap||z),k=Q&&Q.mapping===Km?Q.image.height:null,B=y[R.type];R.precision!==null&&(h=i.getMaxPrecision(R.precision),h!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",h,"instead."));const W=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,$=W!==void 0?W.length:0;let Y=0;H.morphAttributes.position!==void 0&&(Y=1),H.morphAttributes.normal!==void 0&&(Y=2),H.morphAttributes.color!==void 0&&(Y=3);let J,X,te,ie;if(B){const mt=Ya[B];J=mt.vertexShader,X=mt.fragmentShader}else J=R.vertexShader,X=R.fragmentShader,l.update(R),te=l.getVertexShaderID(R),ie=l.getFragmentShaderID(R);const ee=t.getRenderTarget(),le=t.state.buffers.depth.getReversed(),ue=j.isInstancedMesh===!0,he=j.isBatchedMesh===!0,fe=!!R.map,K=!!R.matcap,de=!!Q,q=!!R.aoMap,Pe=!!R.lightMap,be=!!R.bumpMap,Re=!!R.normalMap,me=!!R.displacementMap,Fe=!!R.emissiveMap,Ce=!!R.metalnessMap,G=!!R.roughnessMap,V=R.anisotropy>0,se=R.clearcoat>0,pe=R.dispersion>0,_e=R.iridescence>0,Me=R.sheen>0,Be=R.transmission>0,De=V&&!!R.anisotropyMap,He=se&&!!R.clearcoatMap,it=se&&!!R.clearcoatNormalMap,Ue=se&&!!R.clearcoatRoughnessMap,Xe=_e&&!!R.iridescenceMap,qe=_e&&!!R.iridescenceThicknessMap,Ye=Me&&!!R.sheenColorMap,ke=Me&&!!R.sheenRoughnessMap,ce=!!R.specularMap,Te=!!R.specularColorMap,Je=!!R.specularIntensityMap,ae=Be&&!!R.transmissionMap,Oe=Be&&!!R.thicknessMap,Se=!!R.gradientMap,je=!!R.alphaMap,We=R.alphaTest>0,Ge=!!R.alphaHash,rt=!!R.extensions;let vt=Qs;R.toneMapped&&(ee===null||ee.isXRRenderTarget===!0)&&(vt=t.toneMapping);const ct={shaderID:B,shaderType:R.type,shaderName:R.name,vertexShader:J,fragmentShader:X,defines:R.defines,customVertexShaderID:te,customFragmentShaderID:ie,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:h,batching:he,batchingColor:he&&j._colorsTexture!==null,instancing:ue,instancingColor:ue&&j.instanceColor!==null,instancingMorph:ue&&j.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:ee===null?t.outputColorSpace:ee.isXRRenderTarget===!0?ee.texture.colorSpace:Hd,alphaToCoverage:!!R.alphaToCoverage,map:fe,matcap:K,envMap:de,envMapMode:de&&Q.mapping,envMapCubeUVHeight:k,aoMap:q,lightMap:Pe,bumpMap:be,normalMap:Re,displacementMap:d&&me,emissiveMap:Fe,normalMapObjectSpace:Re&&R.normalMapType===Xq,normalMapTangentSpace:Re&&R.normalMapType===Lu,metalnessMap:Ce,roughnessMap:G,anisotropy:V,anisotropyMap:De,clearcoat:se,clearcoatMap:He,clearcoatNormalMap:it,clearcoatRoughnessMap:Ue,dispersion:pe,iridescence:_e,iridescenceMap:Xe,iridescenceThicknessMap:qe,sheen:Me,sheenColorMap:Ye,sheenRoughnessMap:ke,specularMap:ce,specularColorMap:Te,specularIntensityMap:Je,transmission:Be,transmissionMap:ae,thicknessMap:Oe,gradientMap:Se,opaque:R.transparent===!1&&R.blending===id&&R.alphaToCoverage===!1,alphaMap:je,alphaTest:We,alphaHash:Ge,combine:R.combine,mapUv:fe&&x(R.map.channel),aoMapUv:q&&x(R.aoMap.channel),lightMapUv:Pe&&x(R.lightMap.channel),bumpMapUv:be&&x(R.bumpMap.channel),normalMapUv:Re&&x(R.normalMap.channel),displacementMapUv:me&&x(R.displacementMap.channel),emissiveMapUv:Fe&&x(R.emissiveMap.channel),metalnessMapUv:Ce&&x(R.metalnessMap.channel),roughnessMapUv:G&&x(R.roughnessMap.channel),anisotropyMapUv:De&&x(R.anisotropyMap.channel),clearcoatMapUv:He&&x(R.clearcoatMap.channel),clearcoatNormalMapUv:it&&x(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ue&&x(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Xe&&x(R.iridescenceMap.channel),iridescenceThicknessMapUv:qe&&x(R.iridescenceThicknessMap.channel),sheenColorMapUv:Ye&&x(R.sheenColorMap.channel),sheenRoughnessMapUv:ke&&x(R.sheenRoughnessMap.channel),specularMapUv:ce&&x(R.specularMap.channel),specularColorMapUv:Te&&x(R.specularColorMap.channel),specularIntensityMapUv:Je&&x(R.specularIntensityMap.channel),transmissionMapUv:ae&&x(R.transmissionMap.channel),thicknessMapUv:Oe&&x(R.thicknessMap.channel),alphaMapUv:je&&x(R.alphaMap.channel),vertexTangents:!!H.attributes.tangent&&(Re||V),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!H.attributes.uv&&(fe||je),fog:!!U,useFog:R.fog===!0,fogExp2:!!U&&U.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:le,skinning:j.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:Y,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:vt,decodeVideoTexture:fe&&R.map.isVideoTexture===!0&&ln.getTransfer(R.map.colorSpace)===Sn,decodeVideoTextureEmissive:Fe&&R.emissiveMap.isVideoTexture===!0&&ln.getTransfer(R.emissiveMap.colorSpace)===Sn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===Qa,flipSided:R.side===oo,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:rt&&R.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(rt&&R.extensions.multiDraw===!0||he)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return ct.vertexUv1s=c.has(1),ct.vertexUv2s=c.has(2),ct.vertexUv3s=c.has(3),c.clear(),ct}function m(R){const O=[];if(R.shaderID?O.push(R.shaderID):(O.push(R.customVertexShaderID),O.push(R.customFragmentShaderID)),R.defines!==void 0)for(const N in R.defines)O.push(N),O.push(R.defines[N]);return R.isRawShaderMaterial===!1&&(_(O,R),b(O,R),O.push(t.outputColorSpace)),O.push(R.customProgramCacheKey),O.join()}function _(R,O){R.push(O.precision),R.push(O.outputColorSpace),R.push(O.envMapMode),R.push(O.envMapCubeUVHeight),R.push(O.mapUv),R.push(O.alphaMapUv),R.push(O.lightMapUv),R.push(O.aoMapUv),R.push(O.bumpMapUv),R.push(O.normalMapUv),R.push(O.displacementMapUv),R.push(O.emissiveMapUv),R.push(O.metalnessMapUv),R.push(O.roughnessMapUv),R.push(O.anisotropyMapUv),R.push(O.clearcoatMapUv),R.push(O.clearcoatNormalMapUv),R.push(O.clearcoatRoughnessMapUv),R.push(O.iridescenceMapUv),R.push(O.iridescenceThicknessMapUv),R.push(O.sheenColorMapUv),R.push(O.sheenRoughnessMapUv),R.push(O.specularMapUv),R.push(O.specularColorMapUv),R.push(O.specularIntensityMapUv),R.push(O.transmissionMapUv),R.push(O.thicknessMapUv),R.push(O.combine),R.push(O.fogExp2),R.push(O.sizeAttenuation),R.push(O.morphTargetsCount),R.push(O.morphAttributeCount),R.push(O.numDirLights),R.push(O.numPointLights),R.push(O.numSpotLights),R.push(O.numSpotLightMaps),R.push(O.numHemiLights),R.push(O.numRectAreaLights),R.push(O.numDirLightShadows),R.push(O.numPointLightShadows),R.push(O.numSpotLightShadows),R.push(O.numSpotLightShadowsWithMaps),R.push(O.numLightProbes),R.push(O.shadowMapType),R.push(O.toneMapping),R.push(O.numClippingPlanes),R.push(O.numClipIntersection),R.push(O.depthPacking)}function b(R,O){s.disableAll(),O.supportsVertexTextures&&s.enable(0),O.instancing&&s.enable(1),O.instancingColor&&s.enable(2),O.instancingMorph&&s.enable(3),O.matcap&&s.enable(4),O.envMap&&s.enable(5),O.normalMapObjectSpace&&s.enable(6),O.normalMapTangentSpace&&s.enable(7),O.clearcoat&&s.enable(8),O.iridescence&&s.enable(9),O.alphaTest&&s.enable(10),O.vertexColors&&s.enable(11),O.vertexAlphas&&s.enable(12),O.vertexUv1s&&s.enable(13),O.vertexUv2s&&s.enable(14),O.vertexUv3s&&s.enable(15),O.vertexTangents&&s.enable(16),O.anisotropy&&s.enable(17),O.alphaHash&&s.enable(18),O.batching&&s.enable(19),O.dispersion&&s.enable(20),O.batchingColor&&s.enable(21),R.push(s.mask),s.disableAll(),O.fog&&s.enable(0),O.useFog&&s.enable(1),O.flatShading&&s.enable(2),O.logarithmicDepthBuffer&&s.enable(3),O.reverseDepthBuffer&&s.enable(4),O.skinning&&s.enable(5),O.morphTargets&&s.enable(6),O.morphNormals&&s.enable(7),O.morphColors&&s.enable(8),O.premultipliedAlpha&&s.enable(9),O.shadowMapEnabled&&s.enable(10),O.doubleSided&&s.enable(11),O.flipSided&&s.enable(12),O.useDepthPacking&&s.enable(13),O.dithering&&s.enable(14),O.transmission&&s.enable(15),O.sheen&&s.enable(16),O.opaque&&s.enable(17),O.pointsUvs&&s.enable(18),O.decodeVideoTexture&&s.enable(19),O.decodeVideoTextureEmissive&&s.enable(20),O.alphaToCoverage&&s.enable(21),R.push(s.mask)}function w(R){const O=y[R.type];let N;if(O){const L=Ya[O];N=u0.clone(L.uniforms)}else N=R.uniforms;return N}function E(R,O){let N;for(let L=0,j=u.length;L<j;L++){const U=u[L];if(U.cacheKey===O){N=U,++N.usedTimes;break}}return N===void 0&&(N=new OFe(t,O,R,o),u.push(N)),N}function M(R){if(--R.usedTimes===0){const O=u.indexOf(R);u[O]=u[u.length-1],u.pop(),R.destroy()}}function A(R){l.remove(R)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:w,acquireProgram:E,releaseProgram:M,releaseShaderCache:A,programs:u,dispose:P}}function LFe(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function r(a){t.delete(a)}function i(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function kFe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function V4(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function H4(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,d,h,y,x,v){let m=t[e];return m===void 0?(m={id:f.id,object:f,geometry:d,material:h,groupOrder:y,renderOrder:f.renderOrder,z:x,group:v},t[e]=m):(m.id=f.id,m.object=f,m.geometry=d,m.material=h,m.groupOrder=y,m.renderOrder=f.renderOrder,m.z=x,m.group=v),e++,m}function s(f,d,h,y,x,v){const m=a(f,d,h,y,x,v);h.transmission>0?r.push(m):h.transparent===!0?i.push(m):n.push(m)}function l(f,d,h,y,x,v){const m=a(f,d,h,y,x,v);h.transmission>0?r.unshift(m):h.transparent===!0?i.unshift(m):n.unshift(m)}function c(f,d){n.length>1&&n.sort(f||kFe),r.length>1&&r.sort(d||V4),i.length>1&&i.sort(d||V4)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function UFe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new H4,t.set(r,[a])):i>=o.length?(a=new H4,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function FFe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ne,color:new at};break;case"SpotLight":n={position:new ne,direction:new ne,color:new at,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new at,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new at,groundColor:new at};break;case"RectAreaLight":n={color:new at,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=n,n}}}function jFe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let zFe=0;function BFe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function $Fe(t){const e=new FFe,n=jFe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new ne);const i=new ne,o=new Ct,a=new Ct;function s(c){let u=0,f=0,d=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let h=0,y=0,x=0,v=0,m=0,_=0,b=0,w=0,E=0,M=0,A=0;c.sort(BFe);for(let R=0,O=c.length;R<O;R++){const N=c[R],L=N.color,j=N.intensity,U=N.distance,H=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)u+=L.r*j,f+=L.g*j,d+=L.b*j;else if(N.isLightProbe){for(let z=0;z<9;z++)r.probe[z].addScaledVector(N.sh.coefficients[z],j);A++}else if(N.isDirectionalLight){const z=e.get(N);if(z.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const Q=N.shadow,k=n.get(N);k.shadowIntensity=Q.intensity,k.shadowBias=Q.bias,k.shadowNormalBias=Q.normalBias,k.shadowRadius=Q.radius,k.shadowMapSize=Q.mapSize,r.directionalShadow[h]=k,r.directionalShadowMap[h]=H,r.directionalShadowMatrix[h]=N.shadow.matrix,_++}r.directional[h]=z,h++}else if(N.isSpotLight){const z=e.get(N);z.position.setFromMatrixPosition(N.matrixWorld),z.color.copy(L).multiplyScalar(j),z.distance=U,z.coneCos=Math.cos(N.angle),z.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),z.decay=N.decay,r.spot[x]=z;const Q=N.shadow;if(N.map&&(r.spotLightMap[E]=N.map,E++,Q.updateMatrices(N),N.castShadow&&M++),r.spotLightMatrix[x]=Q.matrix,N.castShadow){const k=n.get(N);k.shadowIntensity=Q.intensity,k.shadowBias=Q.bias,k.shadowNormalBias=Q.normalBias,k.shadowRadius=Q.radius,k.shadowMapSize=Q.mapSize,r.spotShadow[x]=k,r.spotShadowMap[x]=H,w++}x++}else if(N.isRectAreaLight){const z=e.get(N);z.color.copy(L).multiplyScalar(j),z.halfWidth.set(N.width*.5,0,0),z.halfHeight.set(0,N.height*.5,0),r.rectArea[v]=z,v++}else if(N.isPointLight){const z=e.get(N);if(z.color.copy(N.color).multiplyScalar(N.intensity),z.distance=N.distance,z.decay=N.decay,N.castShadow){const Q=N.shadow,k=n.get(N);k.shadowIntensity=Q.intensity,k.shadowBias=Q.bias,k.shadowNormalBias=Q.normalBias,k.shadowRadius=Q.radius,k.shadowMapSize=Q.mapSize,k.shadowCameraNear=Q.camera.near,k.shadowCameraFar=Q.camera.far,r.pointShadow[y]=k,r.pointShadowMap[y]=H,r.pointShadowMatrix[y]=N.shadow.matrix,b++}r.point[y]=z,y++}else if(N.isHemisphereLight){const z=e.get(N);z.skyColor.copy(N.color).multiplyScalar(j),z.groundColor.copy(N.groundColor).multiplyScalar(j),r.hemi[m]=z,m++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=tt.LTC_FLOAT_1,r.rectAreaLTC2=tt.LTC_FLOAT_2):(r.rectAreaLTC1=tt.LTC_HALF_1,r.rectAreaLTC2=tt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=d;const P=r.hash;(P.directionalLength!==h||P.pointLength!==y||P.spotLength!==x||P.rectAreaLength!==v||P.hemiLength!==m||P.numDirectionalShadows!==_||P.numPointShadows!==b||P.numSpotShadows!==w||P.numSpotMaps!==E||P.numLightProbes!==A)&&(r.directional.length=h,r.spot.length=x,r.rectArea.length=v,r.point.length=y,r.hemi.length=m,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=w+E-M,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=M,r.numLightProbes=A,P.directionalLength=h,P.pointLength=y,P.spotLength=x,P.rectAreaLength=v,P.hemiLength=m,P.numDirectionalShadows=_,P.numPointShadows=b,P.numSpotShadows=w,P.numSpotMaps=E,P.numLightProbes=A,r.version=zFe++)}function l(c,u){let f=0,d=0,h=0,y=0,x=0;const v=u.matrixWorldInverse;for(let m=0,_=c.length;m<_;m++){const b=c[m];if(b.isDirectionalLight){const w=r.directional[f];w.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(v),f++}else if(b.isSpotLight){const w=r.spot[h];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(v),h++}else if(b.isRectAreaLight){const w=r.rectArea[y];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),a.identity(),o.copy(b.matrixWorld),o.premultiply(v),a.extractRotation(o),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),y++}else if(b.isPointLight){const w=r.point[d];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),d++}else if(b.isHemisphereLight){const w=r.hemi[x];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(v),x++}}}return{setup:s,setupView:l,state:r}}function G4(t){const e=new $Fe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function a(u){r.push(u)}function s(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function VFe(t){let e=new WeakMap;function n(i,o=0){const a=e.get(i);let s;return a===void 0?(s=new G4(t),e.set(i,[s])):o>=a.length?(s=new G4(t),a.push(s)):s=a[o],s}function r(){e=new WeakMap}return{get:n,dispose:r}}class gM extends zi{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=Wq,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class vM extends zi{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const HFe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GFe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WFe(t,e,n){let r=new X0;const i=new $e,o=new $e,a=new qt,s=new gM({depthPacking:AD}),l=new vM,c={},u=n.maxTextureSize,f={[ac]:oo,[oo]:ac,[Qa]:Qa},d=new Pa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:HFe,fragmentShader:GFe}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const y=new Yt;y.setAttribute("position",new An(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Qn(y,d),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oM;let m=this.type;this.render=function(M,A,P){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;const R=t.getRenderTarget(),O=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Xl),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const j=m!==$a&&this.type===$a,U=m===$a&&this.type!==$a;for(let H=0,z=M.length;H<z;H++){const Q=M[H],k=Q.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const B=k.getFrameExtents();if(i.multiply(B),o.copy(k.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/B.x),i.x=o.x*B.x,k.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/B.y),i.y=o.y*B.y,k.mapSize.y=o.y)),k.map===null||j===!0||U===!0){const $=this.type!==$a?{minFilter:yi,magFilter:yi}:{};k.map!==null&&k.map.dispose(),k.map=new ds(i.x,i.y,$),k.map.texture.name=Q.name+".shadowMap",k.camera.updateProjectionMatrix()}t.setRenderTarget(k.map),t.clear();const W=k.getViewportCount();for(let $=0;$<W;$++){const Y=k.getViewport($);a.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),L.viewport(a),k.updateMatrices(Q,$),r=k.getFrustum(),w(A,P,k.camera,Q,this.type)}k.isPointLightShadow!==!0&&this.type===$a&&_(k,P),k.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(R,O,N)};function _(M,A){const P=e.update(x);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,h.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new ds(i.x,i.y)),d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(A,null,P,d,x,null),h.uniforms.shadow_pass.value=M.mapPass.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(A,null,P,h,x,null)}function b(M,A,P,R){let O=null;const N=P.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(N!==void 0)O=N;else if(O=P.isPointLight===!0?l:s,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const L=O.uuid,j=A.uuid;let U=c[L];U===void 0&&(U={},c[L]=U);let H=U[j];H===void 0&&(H=O.clone(),U[j]=H,A.addEventListener("dispose",E)),O=H}if(O.visible=A.visible,O.wireframe=A.wireframe,R===$a?O.side=A.shadowSide!==null?A.shadowSide:A.side:O.side=A.shadowSide!==null?A.shadowSide:f[A.side],O.alphaMap=A.alphaMap,O.alphaTest=A.alphaTest,O.map=A.map,O.clipShadows=A.clipShadows,O.clippingPlanes=A.clippingPlanes,O.clipIntersection=A.clipIntersection,O.displacementMap=A.displacementMap,O.displacementScale=A.displacementScale,O.displacementBias=A.displacementBias,O.wireframeLinewidth=A.wireframeLinewidth,O.linewidth=A.linewidth,P.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const L=t.properties.get(O);L.light=P}return O}function w(M,A,P,R,O){if(M.visible===!1)return;if(M.layers.test(A.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&O===$a)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,M.matrixWorld);const j=e.update(M),U=M.material;if(Array.isArray(U)){const H=j.groups;for(let z=0,Q=H.length;z<Q;z++){const k=H[z],B=U[k.materialIndex];if(B&&B.visible){const W=b(M,B,R,O);M.onBeforeShadow(t,M,A,P,j,W,k),t.renderBufferDirect(P,null,j,W,M,k),M.onAfterShadow(t,M,A,P,j,W,k)}}}else if(U.visible){const H=b(M,U,R,O);M.onBeforeShadow(t,M,A,P,j,H,null),t.renderBufferDirect(P,null,j,H,M,null),M.onAfterShadow(t,M,A,P,j,H,null)}}const L=M.children;for(let j=0,U=L.length;j<U;j++)w(L[j],A,P,R,O)}function E(M){M.target.removeEventListener("dispose",E);for(const P in c){const R=c[P],O=M.target.uuid;O in R&&(R[O].dispose(),delete R[O])}}}const XFe={[HS]:GS,[WS]:YS,[XS]:KS,[Od]:qS,[GS]:HS,[YS]:WS,[KS]:XS,[qS]:Od};function qFe(t,e){function n(){let ae=!1;const Oe=new qt;let Se=null;const je=new qt(0,0,0,0);return{setMask:function(We){Se!==We&&!ae&&(t.colorMask(We,We,We,We),Se=We)},setLocked:function(We){ae=We},setClear:function(We,Ge,rt,vt,ct){ct===!0&&(We*=vt,Ge*=vt,rt*=vt),Oe.set(We,Ge,rt,vt),je.equals(Oe)===!1&&(t.clearColor(We,Ge,rt,vt),je.copy(Oe))},reset:function(){ae=!1,Se=null,je.set(-1,0,0,0)}}}function r(){let ae=!1,Oe=!1,Se=null,je=null,We=null;return{setReversed:function(Ge){if(Oe!==Ge){const rt=e.get("EXT_clip_control");Oe?rt.clipControlEXT(rt.LOWER_LEFT_EXT,rt.ZERO_TO_ONE_EXT):rt.clipControlEXT(rt.LOWER_LEFT_EXT,rt.NEGATIVE_ONE_TO_ONE_EXT);const vt=We;We=null,this.setClear(vt)}Oe=Ge},getReversed:function(){return Oe},setTest:function(Ge){Ge?ee(t.DEPTH_TEST):le(t.DEPTH_TEST)},setMask:function(Ge){Se!==Ge&&!ae&&(t.depthMask(Ge),Se=Ge)},setFunc:function(Ge){if(Oe&&(Ge=XFe[Ge]),je!==Ge){switch(Ge){case HS:t.depthFunc(t.NEVER);break;case GS:t.depthFunc(t.ALWAYS);break;case WS:t.depthFunc(t.LESS);break;case Od:t.depthFunc(t.LEQUAL);break;case XS:t.depthFunc(t.EQUAL);break;case qS:t.depthFunc(t.GEQUAL);break;case YS:t.depthFunc(t.GREATER);break;case KS:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}je=Ge}},setLocked:function(Ge){ae=Ge},setClear:function(Ge){We!==Ge&&(Oe&&(Ge=1-Ge),t.clearDepth(Ge),We=Ge)},reset:function(){ae=!1,Se=null,je=null,We=null,Oe=!1}}}function i(){let ae=!1,Oe=null,Se=null,je=null,We=null,Ge=null,rt=null,vt=null,ct=null;return{setTest:function(mt){ae||(mt?ee(t.STENCIL_TEST):le(t.STENCIL_TEST))},setMask:function(mt){Oe!==mt&&!ae&&(t.stencilMask(mt),Oe=mt)},setFunc:function(mt,an,cn){(Se!==mt||je!==an||We!==cn)&&(t.stencilFunc(mt,an,cn),Se=mt,je=an,We=cn)},setOp:function(mt,an,cn){(Ge!==mt||rt!==an||vt!==cn)&&(t.stencilOp(mt,an,cn),Ge=mt,rt=an,vt=cn)},setLocked:function(mt){ae=mt},setClear:function(mt){ct!==mt&&(t.clearStencil(mt),ct=mt)},reset:function(){ae=!1,Oe=null,Se=null,je=null,We=null,Ge=null,rt=null,vt=null,ct=null}}}const o=new n,a=new r,s=new i,l=new WeakMap,c=new WeakMap;let u={},f={},d=new WeakMap,h=[],y=null,x=!1,v=null,m=null,_=null,b=null,w=null,E=null,M=null,A=new at(0,0,0),P=0,R=!1,O=null,N=null,L=null,j=null,U=null;const H=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,Q=0;const k=t.getParameter(t.VERSION);k.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(k)[1]),z=Q>=1):k.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),z=Q>=2);let B=null,W={};const $=t.getParameter(t.SCISSOR_BOX),Y=t.getParameter(t.VIEWPORT),J=new qt().fromArray($),X=new qt().fromArray(Y);function te(ae,Oe,Se,je){const We=new Uint8Array(4),Ge=t.createTexture();t.bindTexture(ae,Ge),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let rt=0;rt<Se;rt++)ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY?t.texImage3D(Oe,0,t.RGBA,1,1,je,0,t.RGBA,t.UNSIGNED_BYTE,We):t.texImage2D(Oe+rt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,We);return Ge}const ie={};ie[t.TEXTURE_2D]=te(t.TEXTURE_2D,t.TEXTURE_2D,1),ie[t.TEXTURE_CUBE_MAP]=te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ie[t.TEXTURE_2D_ARRAY]=te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ie[t.TEXTURE_3D]=te(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),ee(t.DEPTH_TEST),a.setFunc(Od),be(!1),Re(XO),ee(t.CULL_FACE),q(Xl);function ee(ae){u[ae]!==!0&&(t.enable(ae),u[ae]=!0)}function le(ae){u[ae]!==!1&&(t.disable(ae),u[ae]=!1)}function ue(ae,Oe){return f[ae]!==Oe?(t.bindFramebuffer(ae,Oe),f[ae]=Oe,ae===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Oe),ae===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Oe),!0):!1}function he(ae,Oe){let Se=h,je=!1;if(ae){Se=d.get(Oe),Se===void 0&&(Se=[],d.set(Oe,Se));const We=ae.textures;if(Se.length!==We.length||Se[0]!==t.COLOR_ATTACHMENT0){for(let Ge=0,rt=We.length;Ge<rt;Ge++)Se[Ge]=t.COLOR_ATTACHMENT0+Ge;Se.length=We.length,je=!0}}else Se[0]!==t.BACK&&(Se[0]=t.BACK,je=!0);je&&t.drawBuffers(Se)}function fe(ae){return y!==ae?(t.useProgram(ae),y=ae,!0):!1}const K={[Yc]:t.FUNC_ADD,[vq]:t.FUNC_SUBTRACT,[yq]:t.FUNC_REVERSE_SUBTRACT};K[xq]=t.MIN,K[bq]=t.MAX;const de={[_q]:t.ZERO,[Sq]:t.ONE,[wq]:t.SRC_COLOR,[$S]:t.SRC_ALPHA,[Cq]:t.SRC_ALPHA_SATURATE,[Aq]:t.DST_COLOR,[Mq]:t.DST_ALPHA,[Eq]:t.ONE_MINUS_SRC_COLOR,[VS]:t.ONE_MINUS_SRC_ALPHA,[Pq]:t.ONE_MINUS_DST_COLOR,[Tq]:t.ONE_MINUS_DST_ALPHA,[Oq]:t.CONSTANT_COLOR,[Rq]:t.ONE_MINUS_CONSTANT_COLOR,[Iq]:t.CONSTANT_ALPHA,[Nq]:t.ONE_MINUS_CONSTANT_ALPHA};function q(ae,Oe,Se,je,We,Ge,rt,vt,ct,mt){if(ae===Xl){x===!0&&(le(t.BLEND),x=!1);return}if(x===!1&&(ee(t.BLEND),x=!0),ae!==gq){if(ae!==v||mt!==R){if((m!==Yc||w!==Yc)&&(t.blendEquation(t.FUNC_ADD),m=Yc,w=Yc),mt)switch(ae){case id:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qO:t.blendFunc(t.ONE,t.ONE);break;case YO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case KO:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case id:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qO:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case YO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case KO:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}_=null,b=null,E=null,M=null,A.set(0,0,0),P=0,v=ae,R=mt}return}We=We||Oe,Ge=Ge||Se,rt=rt||je,(Oe!==m||We!==w)&&(t.blendEquationSeparate(K[Oe],K[We]),m=Oe,w=We),(Se!==_||je!==b||Ge!==E||rt!==M)&&(t.blendFuncSeparate(de[Se],de[je],de[Ge],de[rt]),_=Se,b=je,E=Ge,M=rt),(vt.equals(A)===!1||ct!==P)&&(t.blendColor(vt.r,vt.g,vt.b,ct),A.copy(vt),P=ct),v=ae,R=!1}function Pe(ae,Oe){ae.side===Qa?le(t.CULL_FACE):ee(t.CULL_FACE);let Se=ae.side===oo;Oe&&(Se=!Se),be(Se),ae.blending===id&&ae.transparent===!1?q(Xl):q(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.blendColor,ae.blendAlpha,ae.premultipliedAlpha),a.setFunc(ae.depthFunc),a.setTest(ae.depthTest),a.setMask(ae.depthWrite),o.setMask(ae.colorWrite);const je=ae.stencilWrite;s.setTest(je),je&&(s.setMask(ae.stencilWriteMask),s.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),s.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),Fe(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?ee(t.SAMPLE_ALPHA_TO_COVERAGE):le(t.SAMPLE_ALPHA_TO_COVERAGE)}function be(ae){O!==ae&&(ae?t.frontFace(t.CW):t.frontFace(t.CCW),O=ae)}function Re(ae){ae!==hq?(ee(t.CULL_FACE),ae!==N&&(ae===XO?t.cullFace(t.BACK):ae===pq?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):le(t.CULL_FACE),N=ae}function me(ae){ae!==L&&(z&&t.lineWidth(ae),L=ae)}function Fe(ae,Oe,Se){ae?(ee(t.POLYGON_OFFSET_FILL),(j!==Oe||U!==Se)&&(t.polygonOffset(Oe,Se),j=Oe,U=Se)):le(t.POLYGON_OFFSET_FILL)}function Ce(ae){ae?ee(t.SCISSOR_TEST):le(t.SCISSOR_TEST)}function G(ae){ae===void 0&&(ae=t.TEXTURE0+H-1),B!==ae&&(t.activeTexture(ae),B=ae)}function V(ae,Oe,Se){Se===void 0&&(B===null?Se=t.TEXTURE0+H-1:Se=B);let je=W[Se];je===void 0&&(je={type:void 0,texture:void 0},W[Se]=je),(je.type!==ae||je.texture!==Oe)&&(B!==Se&&(t.activeTexture(Se),B=Se),t.bindTexture(ae,Oe||ie[ae]),je.type=ae,je.texture=Oe)}function se(){const ae=W[B];ae!==void 0&&ae.type!==void 0&&(t.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function pe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function _e(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Me(){try{t.texSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Be(){try{t.texSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function De(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function He(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function it(){try{t.texStorage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ue(){try{t.texStorage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Xe(){try{t.texImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function qe(){try{t.texImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ye(ae){J.equals(ae)===!1&&(t.scissor(ae.x,ae.y,ae.z,ae.w),J.copy(ae))}function ke(ae){X.equals(ae)===!1&&(t.viewport(ae.x,ae.y,ae.z,ae.w),X.copy(ae))}function ce(ae,Oe){let Se=c.get(Oe);Se===void 0&&(Se=new WeakMap,c.set(Oe,Se));let je=Se.get(ae);je===void 0&&(je=t.getUniformBlockIndex(Oe,ae.name),Se.set(ae,je))}function Te(ae,Oe){const je=c.get(Oe).get(ae);l.get(Oe)!==je&&(t.uniformBlockBinding(Oe,je,ae.__bindingPointIndex),l.set(Oe,je))}function Je(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},B=null,W={},f={},d=new WeakMap,h=[],y=null,x=!1,v=null,m=null,_=null,b=null,w=null,E=null,M=null,A=new at(0,0,0),P=0,R=!1,O=null,N=null,L=null,j=null,U=null,J.set(0,0,t.canvas.width,t.canvas.height),X.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:ee,disable:le,bindFramebuffer:ue,drawBuffers:he,useProgram:fe,setBlending:q,setMaterial:Pe,setFlipSided:be,setCullFace:Re,setLineWidth:me,setPolygonOffset:Fe,setScissorTest:Ce,activeTexture:G,bindTexture:V,unbindTexture:se,compressedTexImage2D:pe,compressedTexImage3D:_e,texImage2D:Xe,texImage3D:qe,updateUBOMapping:ce,uniformBlockBinding:Te,texStorage2D:it,texStorage3D:Ue,texSubImage2D:Me,texSubImage3D:Be,compressedTexSubImage2D:De,compressedTexSubImage3D:He,scissor:Ye,viewport:ke,reset:Je}}function YFe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function KFe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function QFe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function nR(t,e,n,r){const i=ZFe(r);switch(n){case bD:return t*e;case SD:return t*e;case wD:return t*e*2;case uM:return t*e/i.components*i.byteLength;case V0:return t*e/i.components*i.byteLength;case ED:return t*e*2/i.components*i.byteLength;case fM:return t*e*2/i.components*i.byteLength;case _D:return t*e*3/i.components*i.byteLength;case Ui:return t*e*4/i.components*i.byteLength;case dM:return t*e*4/i.components*i.byteLength;case Fv:case jv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case zv:case Bv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ZS:case ew:return Math.max(t,16)*Math.max(e,8)/4;case QS:case JS:return Math.max(t,8)*Math.max(e,8)/2;case tw:case nw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case rw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case iw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ow:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case aw:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case sw:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case lw:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case cw:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case uw:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case fw:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case dw:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case hw:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case pw:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case mw:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case gw:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case vw:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case $v:case yw:case xw:return Math.ceil(t/4)*Math.ceil(e/4)*16;case MD:case bw:return Math.ceil(t/4)*Math.ceil(e/4)*8;case _w:case Sw:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function ZFe(t){switch(t){case fs:case vD:return{byteLength:1,components:1};case wm:case yD:case Qm:return{byteLength:2,components:1};case lM:case cM:return{byteLength:2,components:4};case lc:case sM:case So:return{byteLength:4,components:1};case xD:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const JFe={contain:YFe,cover:KFe,fill:QFe,getByteLength:nR};function eje(t,e,n,r,i,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new $e,u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(G,V){return h?new OffscreenCanvas(G,V):c0("canvas")}function x(G,V,se){let pe=1;const _e=Ce(G);if((_e.width>se||_e.height>se)&&(pe=se/Math.max(_e.width,_e.height)),pe<1)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap||typeof VideoFrame<"u"&&G instanceof VideoFrame){const Me=Math.floor(pe*_e.width),Be=Math.floor(pe*_e.height);f===void 0&&(f=y(Me,Be));const De=V?y(Me,Be):f;return De.width=Me,De.height=Be,De.getContext("2d").drawImage(G,0,0,Me,Be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+_e.width+"x"+_e.height+") to ("+Me+"x"+Be+")."),De}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+_e.width+"x"+_e.height+")."),G;return G}function v(G){return G.generateMipmaps}function m(G){t.generateMipmap(G)}function _(G){return G.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:G.isWebGL3DRenderTarget?t.TEXTURE_3D:G.isWebGLArrayRenderTarget||G.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(G,V,se,pe,_e=!1){if(G!==null){if(t[G]!==void 0)return t[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let Me=V;if(V===t.RED&&(se===t.FLOAT&&(Me=t.R32F),se===t.HALF_FLOAT&&(Me=t.R16F),se===t.UNSIGNED_BYTE&&(Me=t.R8)),V===t.RED_INTEGER&&(se===t.UNSIGNED_BYTE&&(Me=t.R8UI),se===t.UNSIGNED_SHORT&&(Me=t.R16UI),se===t.UNSIGNED_INT&&(Me=t.R32UI),se===t.BYTE&&(Me=t.R8I),se===t.SHORT&&(Me=t.R16I),se===t.INT&&(Me=t.R32I)),V===t.RG&&(se===t.FLOAT&&(Me=t.RG32F),se===t.HALF_FLOAT&&(Me=t.RG16F),se===t.UNSIGNED_BYTE&&(Me=t.RG8)),V===t.RG_INTEGER&&(se===t.UNSIGNED_BYTE&&(Me=t.RG8UI),se===t.UNSIGNED_SHORT&&(Me=t.RG16UI),se===t.UNSIGNED_INT&&(Me=t.RG32UI),se===t.BYTE&&(Me=t.RG8I),se===t.SHORT&&(Me=t.RG16I),se===t.INT&&(Me=t.RG32I)),V===t.RGB_INTEGER&&(se===t.UNSIGNED_BYTE&&(Me=t.RGB8UI),se===t.UNSIGNED_SHORT&&(Me=t.RGB16UI),se===t.UNSIGNED_INT&&(Me=t.RGB32UI),se===t.BYTE&&(Me=t.RGB8I),se===t.SHORT&&(Me=t.RGB16I),se===t.INT&&(Me=t.RGB32I)),V===t.RGBA_INTEGER&&(se===t.UNSIGNED_BYTE&&(Me=t.RGBA8UI),se===t.UNSIGNED_SHORT&&(Me=t.RGBA16UI),se===t.UNSIGNED_INT&&(Me=t.RGBA32UI),se===t.BYTE&&(Me=t.RGBA8I),se===t.SHORT&&(Me=t.RGBA16I),se===t.INT&&(Me=t.RGBA32I)),V===t.RGB&&se===t.UNSIGNED_INT_5_9_9_9_REV&&(Me=t.RGB9_E5),V===t.RGBA){const Be=_e?H0:ln.getTransfer(pe);se===t.FLOAT&&(Me=t.RGBA32F),se===t.HALF_FLOAT&&(Me=t.RGBA16F),se===t.UNSIGNED_BYTE&&(Me=Be===Sn?t.SRGB8_ALPHA8:t.RGBA8),se===t.UNSIGNED_SHORT_4_4_4_4&&(Me=t.RGBA4),se===t.UNSIGNED_SHORT_5_5_5_1&&(Me=t.RGB5_A1)}return(Me===t.R16F||Me===t.R32F||Me===t.RG16F||Me===t.RG32F||Me===t.RGBA16F||Me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function w(G,V){let se;return G?V===null||V===lc||V===Rd?se=t.DEPTH24_STENCIL8:V===So?se=t.DEPTH32F_STENCIL8:V===wm&&(se=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===lc||V===Rd?se=t.DEPTH_COMPONENT24:V===So?se=t.DEPTH_COMPONENT32F:V===wm&&(se=t.DEPTH_COMPONENT16),se}function E(G,V){return v(G)===!0||G.isFramebufferTexture&&G.minFilter!==yi&&G.minFilter!==wr?Math.log2(Math.max(V.width,V.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?V.mipmaps.length:1}function M(G){const V=G.target;V.removeEventListener("dispose",M),P(V),V.isVideoTexture&&u.delete(V)}function A(G){const V=G.target;V.removeEventListener("dispose",A),O(V)}function P(G){const V=r.get(G);if(V.__webglInit===void 0)return;const se=G.source,pe=d.get(se);if(pe){const _e=pe[V.__cacheKey];_e.usedTimes--,_e.usedTimes===0&&R(G),Object.keys(pe).length===0&&d.delete(se)}r.remove(G)}function R(G){const V=r.get(G);t.deleteTexture(V.__webglTexture);const se=G.source,pe=d.get(se);delete pe[V.__cacheKey],a.memory.textures--}function O(G){const V=r.get(G);if(G.depthTexture&&(G.depthTexture.dispose(),r.remove(G.depthTexture)),G.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray(V.__webglFramebuffer[pe]))for(let _e=0;_e<V.__webglFramebuffer[pe].length;_e++)t.deleteFramebuffer(V.__webglFramebuffer[pe][_e]);else t.deleteFramebuffer(V.__webglFramebuffer[pe]);V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[pe])}else{if(Array.isArray(V.__webglFramebuffer))for(let pe=0;pe<V.__webglFramebuffer.length;pe++)t.deleteFramebuffer(V.__webglFramebuffer[pe]);else t.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let pe=0;pe<V.__webglColorRenderbuffer.length;pe++)V.__webglColorRenderbuffer[pe]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[pe]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const se=G.textures;for(let pe=0,_e=se.length;pe<_e;pe++){const Me=r.get(se[pe]);Me.__webglTexture&&(t.deleteTexture(Me.__webglTexture),a.memory.textures--),r.remove(se[pe])}r.remove(G)}let N=0;function L(){N=0}function j(){const G=N;return G>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+i.maxTextures),N+=1,G}function U(G){const V=[];return V.push(G.wrapS),V.push(G.wrapT),V.push(G.wrapR||0),V.push(G.magFilter),V.push(G.minFilter),V.push(G.anisotropy),V.push(G.internalFormat),V.push(G.format),V.push(G.type),V.push(G.generateMipmaps),V.push(G.premultiplyAlpha),V.push(G.flipY),V.push(G.unpackAlignment),V.push(G.colorSpace),V.join()}function H(G,V){const se=r.get(G);if(G.isVideoTexture&&me(G),G.isRenderTargetTexture===!1&&G.version>0&&se.__version!==G.version){const pe=G.image;if(pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{X(se,G,V);return}}n.bindTexture(t.TEXTURE_2D,se.__webglTexture,t.TEXTURE0+V)}function z(G,V){const se=r.get(G);if(G.version>0&&se.__version!==G.version){X(se,G,V);return}n.bindTexture(t.TEXTURE_2D_ARRAY,se.__webglTexture,t.TEXTURE0+V)}function Q(G,V){const se=r.get(G);if(G.version>0&&se.__version!==G.version){X(se,G,V);return}n.bindTexture(t.TEXTURE_3D,se.__webglTexture,t.TEXTURE0+V)}function k(G,V){const se=r.get(G);if(G.version>0&&se.__version!==G.version){te(se,G,V);return}n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture,t.TEXTURE0+V)}const B={[r0]:t.REPEAT,[Sa]:t.CLAMP_TO_EDGE,[i0]:t.MIRRORED_REPEAT},W={[yi]:t.NEAREST,[gD]:t.NEAREST_MIPMAP_NEAREST,[up]:t.NEAREST_MIPMAP_LINEAR,[wr]:t.LINEAR,[Uv]:t.LINEAR_MIPMAP_NEAREST,[Bs]:t.LINEAR_MIPMAP_LINEAR},$={[qq]:t.NEVER,[eY]:t.ALWAYS,[Yq]:t.LESS,[PD]:t.LEQUAL,[Kq]:t.EQUAL,[Jq]:t.GEQUAL,[Qq]:t.GREATER,[Zq]:t.NOTEQUAL};function Y(G,V){if(V.type===So&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===wr||V.magFilter===Uv||V.magFilter===up||V.magFilter===Bs||V.minFilter===wr||V.minFilter===Uv||V.minFilter===up||V.minFilter===Bs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(G,t.TEXTURE_WRAP_S,B[V.wrapS]),t.texParameteri(G,t.TEXTURE_WRAP_T,B[V.wrapT]),(G===t.TEXTURE_3D||G===t.TEXTURE_2D_ARRAY)&&t.texParameteri(G,t.TEXTURE_WRAP_R,B[V.wrapR]),t.texParameteri(G,t.TEXTURE_MAG_FILTER,W[V.magFilter]),t.texParameteri(G,t.TEXTURE_MIN_FILTER,W[V.minFilter]),V.compareFunction&&(t.texParameteri(G,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(G,t.TEXTURE_COMPARE_FUNC,$[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===yi||V.minFilter!==up&&V.minFilter!==Bs||V.type===So&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const se=e.get("EXT_texture_filter_anisotropic");t.texParameterf(G,se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function J(G,V){let se=!1;G.__webglInit===void 0&&(G.__webglInit=!0,V.addEventListener("dispose",M));const pe=V.source;let _e=d.get(pe);_e===void 0&&(_e={},d.set(pe,_e));const Me=U(V);if(Me!==G.__cacheKey){_e[Me]===void 0&&(_e[Me]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,se=!0),_e[Me].usedTimes++;const Be=_e[G.__cacheKey];Be!==void 0&&(_e[G.__cacheKey].usedTimes--,Be.usedTimes===0&&R(V)),G.__cacheKey=Me,G.__webglTexture=_e[Me].texture}return se}function X(G,V,se){let pe=t.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(pe=t.TEXTURE_2D_ARRAY),V.isData3DTexture&&(pe=t.TEXTURE_3D);const _e=J(G,V),Me=V.source;n.bindTexture(pe,G.__webglTexture,t.TEXTURE0+se);const Be=r.get(Me);if(Me.version!==Be.__version||_e===!0){n.activeTexture(t.TEXTURE0+se);const De=ln.getPrimaries(ln.workingColorSpace),He=V.colorSpace===Ll?null:ln.getPrimaries(V.colorSpace),it=V.colorSpace===Ll||De===He?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);let Ue=x(V.image,!1,i.maxTextureSize);Ue=Fe(V,Ue);const Xe=o.convert(V.format,V.colorSpace),qe=o.convert(V.type);let Ye=b(V.internalFormat,Xe,qe,V.colorSpace,V.isVideoTexture);Y(pe,V);let ke;const ce=V.mipmaps,Te=V.isVideoTexture!==!0,Je=Be.__version===void 0||_e===!0,ae=Me.dataReady,Oe=E(V,Ue);if(V.isDepthTexture)Ye=w(V.format===Id,V.type),Je&&(Te?n.texStorage2D(t.TEXTURE_2D,1,Ye,Ue.width,Ue.height):n.texImage2D(t.TEXTURE_2D,0,Ye,Ue.width,Ue.height,0,Xe,qe,null));else if(V.isDataTexture)if(ce.length>0){Te&&Je&&n.texStorage2D(t.TEXTURE_2D,Oe,Ye,ce[0].width,ce[0].height);for(let Se=0,je=ce.length;Se<je;Se++)ke=ce[Se],Te?ae&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,ke.width,ke.height,Xe,qe,ke.data):n.texImage2D(t.TEXTURE_2D,Se,Ye,ke.width,ke.height,0,Xe,qe,ke.data);V.generateMipmaps=!1}else Te?(Je&&n.texStorage2D(t.TEXTURE_2D,Oe,Ye,Ue.width,Ue.height),ae&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ue.width,Ue.height,Xe,qe,Ue.data)):n.texImage2D(t.TEXTURE_2D,0,Ye,Ue.width,Ue.height,0,Xe,qe,Ue.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Te&&Je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,Ye,ce[0].width,ce[0].height,Ue.depth);for(let Se=0,je=ce.length;Se<je;Se++)if(ke=ce[Se],V.format!==Ui)if(Xe!==null)if(Te){if(ae)if(V.layerUpdates.size>0){const We=nR(ke.width,ke.height,V.format,V.type);for(const Ge of V.layerUpdates){const rt=ke.data.subarray(Ge*We/ke.data.BYTES_PER_ELEMENT,(Ge+1)*We/ke.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,Ge,ke.width,ke.height,1,Xe,rt)}V.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,ke.width,ke.height,Ue.depth,Xe,ke.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Se,Ye,ke.width,ke.height,Ue.depth,0,ke.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Te?ae&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,ke.width,ke.height,Ue.depth,Xe,qe,ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Se,Ye,ke.width,ke.height,Ue.depth,0,Xe,qe,ke.data)}else{Te&&Je&&n.texStorage2D(t.TEXTURE_2D,Oe,Ye,ce[0].width,ce[0].height);for(let Se=0,je=ce.length;Se<je;Se++)ke=ce[Se],V.format!==Ui?Xe!==null?Te?ae&&n.compressedTexSubImage2D(t.TEXTURE_2D,Se,0,0,ke.width,ke.height,Xe,ke.data):n.compressedTexImage2D(t.TEXTURE_2D,Se,Ye,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Te?ae&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,ke.width,ke.height,Xe,qe,ke.data):n.texImage2D(t.TEXTURE_2D,Se,Ye,ke.width,ke.height,0,Xe,qe,ke.data)}else if(V.isDataArrayTexture)if(Te){if(Je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Oe,Ye,Ue.width,Ue.height,Ue.depth),ae)if(V.layerUpdates.size>0){const Se=nR(Ue.width,Ue.height,V.format,V.type);for(const je of V.layerUpdates){const We=Ue.data.subarray(je*Se/Ue.data.BYTES_PER_ELEMENT,(je+1)*Se/Ue.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,je,Ue.width,Ue.height,1,Xe,qe,We)}V.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ue.width,Ue.height,Ue.depth,Xe,qe,Ue.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ye,Ue.width,Ue.height,Ue.depth,0,Xe,qe,Ue.data);else if(V.isData3DTexture)Te?(Je&&n.texStorage3D(t.TEXTURE_3D,Oe,Ye,Ue.width,Ue.height,Ue.depth),ae&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ue.width,Ue.height,Ue.depth,Xe,qe,Ue.data)):n.texImage3D(t.TEXTURE_3D,0,Ye,Ue.width,Ue.height,Ue.depth,0,Xe,qe,Ue.data);else if(V.isFramebufferTexture){if(Je)if(Te)n.texStorage2D(t.TEXTURE_2D,Oe,Ye,Ue.width,Ue.height);else{let Se=Ue.width,je=Ue.height;for(let We=0;We<Oe;We++)n.texImage2D(t.TEXTURE_2D,We,Ye,Se,je,0,Xe,qe,null),Se>>=1,je>>=1}}else if(ce.length>0){if(Te&&Je){const Se=Ce(ce[0]);n.texStorage2D(t.TEXTURE_2D,Oe,Ye,Se.width,Se.height)}for(let Se=0,je=ce.length;Se<je;Se++)ke=ce[Se],Te?ae&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,Xe,qe,ke):n.texImage2D(t.TEXTURE_2D,Se,Ye,Xe,qe,ke);V.generateMipmaps=!1}else if(Te){if(Je){const Se=Ce(Ue);n.texStorage2D(t.TEXTURE_2D,Oe,Ye,Se.width,Se.height)}ae&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Xe,qe,Ue)}else n.texImage2D(t.TEXTURE_2D,0,Ye,Xe,qe,Ue);v(V)&&m(pe),Be.__version=Me.version,V.onUpdate&&V.onUpdate(V)}G.__version=V.version}function te(G,V,se){if(V.image.length!==6)return;const pe=J(G,V),_e=V.source;n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture,t.TEXTURE0+se);const Me=r.get(_e);if(_e.version!==Me.__version||pe===!0){n.activeTexture(t.TEXTURE0+se);const Be=ln.getPrimaries(ln.workingColorSpace),De=V.colorSpace===Ll?null:ln.getPrimaries(V.colorSpace),He=V.colorSpace===Ll||Be===De?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);const it=V.isCompressedTexture||V.image[0].isCompressedTexture,Ue=V.image[0]&&V.image[0].isDataTexture,Xe=[];for(let je=0;je<6;je++)!it&&!Ue?Xe[je]=x(V.image[je],!0,i.maxCubemapSize):Xe[je]=Ue?V.image[je].image:V.image[je],Xe[je]=Fe(V,Xe[je]);const qe=Xe[0],Ye=o.convert(V.format,V.colorSpace),ke=o.convert(V.type),ce=b(V.internalFormat,Ye,ke,V.colorSpace),Te=V.isVideoTexture!==!0,Je=Me.__version===void 0||pe===!0,ae=_e.dataReady;let Oe=E(V,qe);Y(t.TEXTURE_CUBE_MAP,V);let Se;if(it){Te&&Je&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Oe,ce,qe.width,qe.height);for(let je=0;je<6;je++){Se=Xe[je].mipmaps;for(let We=0;We<Se.length;We++){const Ge=Se[We];V.format!==Ui?Ye!==null?Te?ae&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We,0,0,Ge.width,Ge.height,Ye,Ge.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We,ce,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Te?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We,0,0,Ge.width,Ge.height,Ye,ke,Ge.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We,ce,Ge.width,Ge.height,0,Ye,ke,Ge.data)}}}else{if(Se=V.mipmaps,Te&&Je){Se.length>0&&Oe++;const je=Ce(Xe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Oe,ce,je.width,je.height)}for(let je=0;je<6;je++)if(Ue){Te?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,Xe[je].width,Xe[je].height,Ye,ke,Xe[je].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,ce,Xe[je].width,Xe[je].height,0,Ye,ke,Xe[je].data);for(let We=0;We<Se.length;We++){const rt=Se[We].image[je].image;Te?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We+1,0,0,rt.width,rt.height,Ye,ke,rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We+1,ce,rt.width,rt.height,0,Ye,ke,rt.data)}}else{Te?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,Ye,ke,Xe[je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,ce,Ye,ke,Xe[je]);for(let We=0;We<Se.length;We++){const Ge=Se[We];Te?ae&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We+1,0,0,Ye,ke,Ge.image[je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,We+1,ce,Ye,ke,Ge.image[je])}}}v(V)&&m(t.TEXTURE_CUBE_MAP),Me.__version=_e.version,V.onUpdate&&V.onUpdate(V)}G.__version=V.version}function ie(G,V,se,pe,_e,Me){const Be=o.convert(se.format,se.colorSpace),De=o.convert(se.type),He=b(se.internalFormat,Be,De,se.colorSpace),it=r.get(V),Ue=r.get(se);if(Ue.__renderTarget=V,!it.__hasExternalTextures){const Xe=Math.max(1,V.width>>Me),qe=Math.max(1,V.height>>Me);_e===t.TEXTURE_3D||_e===t.TEXTURE_2D_ARRAY?n.texImage3D(_e,Me,He,Xe,qe,V.depth,0,Be,De,null):n.texImage2D(_e,Me,He,Xe,qe,0,Be,De,null)}n.bindFramebuffer(t.FRAMEBUFFER,G),Re(V)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pe,_e,Ue.__webglTexture,0,be(V)):(_e===t.TEXTURE_2D||_e>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&_e<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,pe,_e,Ue.__webglTexture,Me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ee(G,V,se){if(t.bindRenderbuffer(t.RENDERBUFFER,G),V.depthBuffer){const pe=V.depthTexture,_e=pe&&pe.isDepthTexture?pe.type:null,Me=w(V.stencilBuffer,_e),Be=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,De=be(V);Re(V)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,De,Me,V.width,V.height):se?t.renderbufferStorageMultisample(t.RENDERBUFFER,De,Me,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,Me,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Be,t.RENDERBUFFER,G)}else{const pe=V.textures;for(let _e=0;_e<pe.length;_e++){const Me=pe[_e],Be=o.convert(Me.format,Me.colorSpace),De=o.convert(Me.type),He=b(Me.internalFormat,Be,De,Me.colorSpace),it=be(V);se&&Re(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,it,He,V.width,V.height):Re(V)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,it,He,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,He,V.width,V.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function le(G,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,G),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const pe=r.get(V.depthTexture);pe.__renderTarget=V,(!pe.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),H(V.depthTexture,0);const _e=pe.__webglTexture,Me=be(V);if(V.depthTexture.format===od)Re(V)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0);else if(V.depthTexture.format===Id)Re(V)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0);else throw new Error("Unknown depthTexture format")}function ue(G){const V=r.get(G),se=G.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==G.depthTexture){const pe=G.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),pe){const _e=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,pe.removeEventListener("dispose",_e)};pe.addEventListener("dispose",_e),V.__depthDisposeCallback=_e}V.__boundDepthTexture=pe}if(G.depthTexture&&!V.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");le(V.__webglFramebuffer,G)}else if(se){V.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer[pe]),V.__webglDepthbuffer[pe]===void 0)V.__webglDepthbuffer[pe]=t.createRenderbuffer(),ee(V.__webglDepthbuffer[pe],G,!1);else{const _e=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=V.__webglDepthbuffer[pe];t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,_e,t.RENDERBUFFER,Me)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=t.createRenderbuffer(),ee(V.__webglDepthbuffer,G,!1);else{const pe=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,_e=V.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,_e),t.framebufferRenderbuffer(t.FRAMEBUFFER,pe,t.RENDERBUFFER,_e)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(G,V,se){const pe=r.get(G);V!==void 0&&ie(pe.__webglFramebuffer,G,G.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),se!==void 0&&ue(G)}function fe(G){const V=G.texture,se=r.get(G),pe=r.get(V);G.addEventListener("dispose",A);const _e=G.textures,Me=G.isWebGLCubeRenderTarget===!0,Be=_e.length>1;if(Be||(pe.__webglTexture===void 0&&(pe.__webglTexture=t.createTexture()),pe.__version=V.version,a.memory.textures++),Me){se.__webglFramebuffer=[];for(let De=0;De<6;De++)if(V.mipmaps&&V.mipmaps.length>0){se.__webglFramebuffer[De]=[];for(let He=0;He<V.mipmaps.length;He++)se.__webglFramebuffer[De][He]=t.createFramebuffer()}else se.__webglFramebuffer[De]=t.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){se.__webglFramebuffer=[];for(let De=0;De<V.mipmaps.length;De++)se.__webglFramebuffer[De]=t.createFramebuffer()}else se.__webglFramebuffer=t.createFramebuffer();if(Be)for(let De=0,He=_e.length;De<He;De++){const it=r.get(_e[De]);it.__webglTexture===void 0&&(it.__webglTexture=t.createTexture(),a.memory.textures++)}if(G.samples>0&&Re(G)===!1){se.__webglMultisampledFramebuffer=t.createFramebuffer(),se.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,se.__webglMultisampledFramebuffer);for(let De=0;De<_e.length;De++){const He=_e[De];se.__webglColorRenderbuffer[De]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,se.__webglColorRenderbuffer[De]);const it=o.convert(He.format,He.colorSpace),Ue=o.convert(He.type),Xe=b(He.internalFormat,it,Ue,He.colorSpace,G.isXRRenderTarget===!0),qe=be(G);t.renderbufferStorageMultisample(t.RENDERBUFFER,qe,Xe,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,se.__webglColorRenderbuffer[De])}t.bindRenderbuffer(t.RENDERBUFFER,null),G.depthBuffer&&(se.__webglDepthRenderbuffer=t.createRenderbuffer(),ee(se.__webglDepthRenderbuffer,G,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Me){n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture),Y(t.TEXTURE_CUBE_MAP,V);for(let De=0;De<6;De++)if(V.mipmaps&&V.mipmaps.length>0)for(let He=0;He<V.mipmaps.length;He++)ie(se.__webglFramebuffer[De][He],G,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,He);else ie(se.__webglFramebuffer[De],G,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0);v(V)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Be){for(let De=0,He=_e.length;De<He;De++){const it=_e[De],Ue=r.get(it);n.bindTexture(t.TEXTURE_2D,Ue.__webglTexture),Y(t.TEXTURE_2D,it),ie(se.__webglFramebuffer,G,it,t.COLOR_ATTACHMENT0+De,t.TEXTURE_2D,0),v(it)&&m(t.TEXTURE_2D)}n.unbindTexture()}else{let De=t.TEXTURE_2D;if((G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(De=G.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(De,pe.__webglTexture),Y(De,V),V.mipmaps&&V.mipmaps.length>0)for(let He=0;He<V.mipmaps.length;He++)ie(se.__webglFramebuffer[He],G,V,t.COLOR_ATTACHMENT0,De,He);else ie(se.__webglFramebuffer,G,V,t.COLOR_ATTACHMENT0,De,0);v(V)&&m(De),n.unbindTexture()}G.depthBuffer&&ue(G)}function K(G){const V=G.textures;for(let se=0,pe=V.length;se<pe;se++){const _e=V[se];if(v(_e)){const Me=_(G),Be=r.get(_e).__webglTexture;n.bindTexture(Me,Be),m(Me),n.unbindTexture()}}}const de=[],q=[];function Pe(G){if(G.samples>0){if(Re(G)===!1){const V=G.textures,se=G.width,pe=G.height;let _e=t.COLOR_BUFFER_BIT;const Me=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Be=r.get(G),De=V.length>1;if(De)for(let He=0;He<V.length;He++)n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Be.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglFramebuffer);for(let He=0;He<V.length;He++){if(G.resolveDepthBuffer&&(G.depthBuffer&&(_e|=t.DEPTH_BUFFER_BIT),G.stencilBuffer&&G.resolveStencilBuffer&&(_e|=t.STENCIL_BUFFER_BIT)),De){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Be.__webglColorRenderbuffer[He]);const it=r.get(V[He]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,it,0)}t.blitFramebuffer(0,0,se,pe,0,0,se,pe,_e,t.NEAREST),l===!0&&(de.length=0,q.length=0,de.push(t.COLOR_ATTACHMENT0+He),G.depthBuffer&&G.resolveDepthBuffer===!1&&(de.push(Me),q.push(Me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,q)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,de))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),De)for(let He=0;He<V.length;He++){n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,Be.__webglColorRenderbuffer[He]);const it=r.get(V[He]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.TEXTURE_2D,it,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglMultisampledFramebuffer)}else if(G.depthBuffer&&G.resolveDepthBuffer===!1&&l){const V=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[V])}}}function be(G){return Math.min(i.maxSamples,G.samples)}function Re(G){const V=r.get(G);return G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function me(G){const V=a.render.frame;u.get(G)!==V&&(u.set(G,V),G.update())}function Fe(G,V){const se=G.colorSpace,pe=G.format,_e=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||se!==Hd&&se!==Ll&&(ln.getTransfer(se)===Sn?(pe!==Ui||_e!==fs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",se)),V}function Ce(G){return typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement?(c.width=G.naturalWidth||G.width,c.height=G.naturalHeight||G.height):typeof VideoFrame<"u"&&G instanceof VideoFrame?(c.width=G.displayWidth,c.height=G.displayHeight):(c.width=G.width,c.height=G.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=L,this.setTexture2D=H,this.setTexture2DArray=z,this.setTexture3D=Q,this.setTextureCube=k,this.rebindTextures=he,this.setupRenderTarget=fe,this.updateRenderTargetMipmap=K,this.updateMultisampleRenderTarget=Pe,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=ie,this.useMultisampledRTT=Re}function mY(t,e){function n(r,i=Ll){let o;const a=ln.getTransfer(i);if(r===fs)return t.UNSIGNED_BYTE;if(r===lM)return t.UNSIGNED_SHORT_4_4_4_4;if(r===cM)return t.UNSIGNED_SHORT_5_5_5_1;if(r===xD)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===vD)return t.BYTE;if(r===yD)return t.SHORT;if(r===wm)return t.UNSIGNED_SHORT;if(r===sM)return t.INT;if(r===lc)return t.UNSIGNED_INT;if(r===So)return t.FLOAT;if(r===Qm)return t.HALF_FLOAT;if(r===bD)return t.ALPHA;if(r===_D)return t.RGB;if(r===Ui)return t.RGBA;if(r===SD)return t.LUMINANCE;if(r===wD)return t.LUMINANCE_ALPHA;if(r===od)return t.DEPTH_COMPONENT;if(r===Id)return t.DEPTH_STENCIL;if(r===uM)return t.RED;if(r===V0)return t.RED_INTEGER;if(r===ED)return t.RG;if(r===fM)return t.RG_INTEGER;if(r===dM)return t.RGBA_INTEGER;if(r===Fv||r===jv||r===zv||r===Bv)if(a===Sn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Fv)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===jv)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===zv)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Bv)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Fv)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===jv)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===zv)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Bv)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===QS||r===ZS||r===JS||r===ew)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===QS)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ZS)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===JS)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===ew)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===tw||r===nw||r===rw)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===tw||r===nw)return a===Sn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===rw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===iw||r===ow||r===aw||r===sw||r===lw||r===cw||r===uw||r===fw||r===dw||r===hw||r===pw||r===mw||r===gw||r===vw)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===iw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===ow)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===aw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===sw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===lw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===cw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===uw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===fw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===dw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===hw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===pw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===mw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===gw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===vw)return a===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===$v||r===yw||r===xw)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===$v)return a===Sn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===yw)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===xw)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===MD||r===bw||r===_w||r===Sw)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===$v)return o.COMPRESSED_RED_RGTC1_EXT;if(r===bw)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===_w)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Sw)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Rd?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class gY extends _r{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class hp extends dn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const tje={type:"move"};class TP{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new hp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new hp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new hp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const x of e.hand.values()){const v=n.getJointPose(x,r),m=this._getHandJoint(c,x);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,y=.005;c.inputState.pinching&&d>h+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(tje)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new hp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const nje=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,rje=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ije{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new ir,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Pa({vertexShader:nje,fragmentShader:rje,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Qn(new vc(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class oje extends sl{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,y=null;const x=new ije,v=n.getContextAttributes();let m=null,_=null;const b=[],w=[],E=new $e;let M=null;const A=new _r;A.viewport=new qt;const P=new _r;P.viewport=new qt;const R=[A,P],O=new gY;let N=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let te=b[X];return te===void 0&&(te=new TP,b[X]=te),te.getTargetRaySpace()},this.getControllerGrip=function(X){let te=b[X];return te===void 0&&(te=new TP,b[X]=te),te.getGripSpace()},this.getHand=function(X){let te=b[X];return te===void 0&&(te=new TP,b[X]=te),te.getHandSpace()};function j(X){const te=w.indexOf(X.inputSource);if(te===-1)return;const ie=b[te];ie!==void 0&&(ie.update(X.inputSource,X.frame,c||a),ie.dispatchEvent({type:X.type,data:X.inputSource}))}function U(){i.removeEventListener("select",j),i.removeEventListener("selectstart",j),i.removeEventListener("selectend",j),i.removeEventListener("squeeze",j),i.removeEventListener("squeezestart",j),i.removeEventListener("squeezeend",j),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",H);for(let X=0;X<b.length;X++){const te=w[X];te!==null&&(w[X]=null,b[X].disconnect(te))}N=null,L=null,x.reset(),e.setRenderTarget(m),h=null,d=null,f=null,i=null,_=null,J.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(E.width,E.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){o=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){s=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(X){c=X},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(X){if(i=X,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",j),i.addEventListener("selectstart",j),i.addEventListener("selectend",j),i.addEventListener("squeeze",j),i.addEventListener("squeezestart",j),i.addEventListener("squeezeend",j),i.addEventListener("end",U),i.addEventListener("inputsourceschange",H),v.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(E),i.renderState.layers===void 0){const te={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,te),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),_=new ds(h.framebufferWidth,h.framebufferHeight,{format:Ui,type:fs,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let te=null,ie=null,ee=null;v.depth&&(ee=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,te=v.stencil?Id:od,ie=v.stencil?Rd:lc);const le={colorFormat:n.RGBA8,depthFormat:ee,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(le),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),_=new ds(d.textureWidth,d.textureHeight,{format:Ui,type:fs,depthTexture:new DD(d.textureWidth,d.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,te),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),J.setContext(i),J.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function H(X){for(let te=0;te<X.removed.length;te++){const ie=X.removed[te],ee=w.indexOf(ie);ee>=0&&(w[ee]=null,b[ee].disconnect(ie))}for(let te=0;te<X.added.length;te++){const ie=X.added[te];let ee=w.indexOf(ie);if(ee===-1){for(let ue=0;ue<b.length;ue++)if(ue>=w.length){w.push(ie),ee=ue;break}else if(w[ue]===null){w[ue]=ie,ee=ue;break}if(ee===-1)break}const le=b[ee];le&&le.connect(ie)}}const z=new ne,Q=new ne;function k(X,te,ie){z.setFromMatrixPosition(te.matrixWorld),Q.setFromMatrixPosition(ie.matrixWorld);const ee=z.distanceTo(Q),le=te.projectionMatrix.elements,ue=ie.projectionMatrix.elements,he=le[14]/(le[10]-1),fe=le[14]/(le[10]+1),K=(le[9]+1)/le[5],de=(le[9]-1)/le[5],q=(le[8]-1)/le[0],Pe=(ue[8]+1)/ue[0],be=he*q,Re=he*Pe,me=ee/(-q+Pe),Fe=me*-q;if(te.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(Fe),X.translateZ(me),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert(),le[10]===-1)X.projectionMatrix.copy(te.projectionMatrix),X.projectionMatrixInverse.copy(te.projectionMatrixInverse);else{const Ce=he+me,G=fe+me,V=be-Fe,se=Re+(ee-Fe),pe=K*fe/G*Ce,_e=de*fe/G*Ce;X.projectionMatrix.makePerspective(V,se,pe,_e,Ce,G),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}}function B(X,te){te===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(te.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(i===null)return;let te=X.near,ie=X.far;x.texture!==null&&(x.depthNear>0&&(te=x.depthNear),x.depthFar>0&&(ie=x.depthFar)),O.near=P.near=A.near=te,O.far=P.far=A.far=ie,(N!==O.near||L!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),N=O.near,L=O.far),A.layers.mask=X.layers.mask|2,P.layers.mask=X.layers.mask|4,O.layers.mask=A.layers.mask|P.layers.mask;const ee=X.parent,le=O.cameras;B(O,ee);for(let ue=0;ue<le.length;ue++)B(le[ue],ee);le.length===2?k(O,A,P):O.projectionMatrix.copy(A.projectionMatrix),W(X,O,ee)};function W(X,te,ie){ie===null?X.matrix.copy(te.matrixWorld):(X.matrix.copy(ie.matrixWorld),X.matrix.invert(),X.matrix.multiply(te.matrixWorld)),X.matrix.decompose(X.position,X.quaternion,X.scale),X.updateMatrixWorld(!0),X.projectionMatrix.copy(te.projectionMatrix),X.projectionMatrixInverse.copy(te.projectionMatrixInverse),X.isPerspectiveCamera&&(X.fov=Em*2*Math.atan(1/X.projectionMatrix.elements[5]),X.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(X){l=X,d!==null&&(d.fixedFoveation=X),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=X)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(O)};let $=null;function Y(X,te){if(u=te.getViewerPose(c||a),y=te,u!==null){const ie=u.views;h!==null&&(e.setRenderTargetFramebuffer(_,h.framebuffer),e.setRenderTarget(_));let ee=!1;ie.length!==O.cameras.length&&(O.cameras.length=0,ee=!0);for(let ue=0;ue<ie.length;ue++){const he=ie[ue];let fe=null;if(h!==null)fe=h.getViewport(he);else{const de=f.getViewSubImage(d,he);fe=de.viewport,ue===0&&(e.setRenderTargetTextures(_,de.colorTexture,d.ignoreDepthValues?void 0:de.depthStencilTexture),e.setRenderTarget(_))}let K=R[ue];K===void 0&&(K=new _r,K.layers.enable(ue),K.viewport=new qt,R[ue]=K),K.matrix.fromArray(he.transform.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale),K.projectionMatrix.fromArray(he.projectionMatrix),K.projectionMatrixInverse.copy(K.projectionMatrix).invert(),K.viewport.set(fe.x,fe.y,fe.width,fe.height),ue===0&&(O.matrix.copy(K.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),ee===!0&&O.cameras.push(K)}const le=i.enabledFeatures;if(le&&le.includes("depth-sensing")){const ue=f.getDepthInformation(ie[0]);ue&&ue.isValid&&ue.texture&&x.init(e,ue,i.renderState)}}for(let ie=0;ie<b.length;ie++){const ee=w[ie],le=b[ie];ee!==null&&le!==void 0&&le.update(ee,te,c||a)}$&&$(X,te),te.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:te}),y=null}const J=new uY;J.setAnimationLoop(Y),this.setAnimationLoop=function(X){$=X},this.dispose=function(){}}}const ff=new Jo,aje=new Ct;function sje(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function r(v,m){m.color.getRGB(v.fogColor.value,sY(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function i(v,m,_,b,w){m.isMeshBasicMaterial||m.isMeshLambertMaterial?o(v,m):m.isMeshToonMaterial?(o(v,m),f(v,m)):m.isMeshPhongMaterial?(o(v,m),u(v,m)):m.isMeshStandardMaterial?(o(v,m),d(v,m),m.isMeshPhysicalMaterial&&h(v,m,w)):m.isMeshMatcapMaterial?(o(v,m),y(v,m)):m.isMeshDepthMaterial?o(v,m):m.isMeshDistanceMaterial?(o(v,m),x(v,m)):m.isMeshNormalMaterial?o(v,m):m.isLineBasicMaterial?(a(v,m),m.isLineDashedMaterial&&s(v,m)):m.isPointsMaterial?l(v,m,_,b):m.isSpriteMaterial?c(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function o(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===oo&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===oo&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const _=e.get(m),b=_.envMap,w=_.envMapRotation;b&&(v.envMap.value=b,ff.copy(w),ff.x*=-1,ff.y*=-1,ff.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(ff.y*=-1,ff.z*=-1),v.envMapRotation.value.setFromMatrix4(aje.makeRotationFromEuler(ff)),v.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap&&(v.lightMap.value=m.lightMap,v.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,v.lightMapTransform)),m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function a(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function s(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,_,b){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*_,v.scale.value=b*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function f(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function d(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),m.envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function h(v,m,_){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===oo&&v.clearcoatNormalScale.value.negate())),m.dispersion>0&&(v.dispersion.value=m.dispersion),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=_.texture,v.transmissionSamplerSize.value.set(_.width,_.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function y(v,m){m.matcap&&(v.matcap.value=m.matcap)}function x(v,m){const _=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(_.matrixWorld),v.nearDistance.value=_.shadow.camera.near,v.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function lje(t,e,n,r){let i={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,b){const w=b.program;r.uniformBlockBinding(_,w)}function c(_,b){let w=i[_.id];w===void 0&&(y(_),w=u(_),i[_.id]=w,_.addEventListener("dispose",v));const E=b.program;r.updateUBOMapping(_,E);const M=e.render.frame;o[_.id]!==M&&(d(_),o[_.id]=M)}function u(_){const b=f();_.__bindingPointIndex=b;const w=t.createBuffer(),E=_.__size,M=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,E,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,w),w}function f(){for(let _=0;_<s;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const b=i[_.id],w=_.uniforms,E=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let M=0,A=w.length;M<A;M++){const P=Array.isArray(w[M])?w[M]:[w[M]];for(let R=0,O=P.length;R<O;R++){const N=P[R];if(h(N,M,R,E)===!0){const L=N.__offset,j=Array.isArray(N.value)?N.value:[N.value];let U=0;for(let H=0;H<j.length;H++){const z=j[H],Q=x(z);typeof z=="number"||typeof z=="boolean"?(N.__data[0]=z,t.bufferSubData(t.UNIFORM_BUFFER,L+U,N.__data)):z.isMatrix3?(N.__data[0]=z.elements[0],N.__data[1]=z.elements[1],N.__data[2]=z.elements[2],N.__data[3]=0,N.__data[4]=z.elements[3],N.__data[5]=z.elements[4],N.__data[6]=z.elements[5],N.__data[7]=0,N.__data[8]=z.elements[6],N.__data[9]=z.elements[7],N.__data[10]=z.elements[8],N.__data[11]=0):(z.toArray(N.__data,U),U+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,L,N.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(_,b,w,E){const M=_.value,A=b+"_"+w;if(E[A]===void 0)return typeof M=="number"||typeof M=="boolean"?E[A]=M:E[A]=M.clone(),!0;{const P=E[A];if(typeof M=="number"||typeof M=="boolean"){if(P!==M)return E[A]=M,!0}else if(P.equals(M)===!1)return P.copy(M),!0}return!1}function y(_){const b=_.uniforms;let w=0;const E=16;for(let A=0,P=b.length;A<P;A++){const R=Array.isArray(b[A])?b[A]:[b[A]];for(let O=0,N=R.length;O<N;O++){const L=R[O],j=Array.isArray(L.value)?L.value:[L.value];for(let U=0,H=j.length;U<H;U++){const z=j[U],Q=x(z),k=w%E,B=k%Q.boundary,W=k+B;w+=B,W!==0&&E-W<Q.storage&&(w+=E-W),L.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=w,w+=Q.storage}}}const M=w%E;return M>0&&(w+=E-M),_.__size=w,_.__cache={},this}function x(_){const b={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function v(_){const b=_.target;b.removeEventListener("dispose",v);const w=a.indexOf(b.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete o[b.id]}function m(){for(const _ in i)t.deleteBuffer(i[_]);a=[],i={},o={}}return{bind:l,update:c,dispose:m}}class vY{constructor(e={}){const{canvas:n=rY(),context:r=null,depth:i=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=a;const y=new Uint32Array(4),x=new Int32Array(4);let v=null,m=null;const _=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=vo,this.toneMapping=Qs,this.toneMappingExposure=1;const w=this;let E=!1,M=0,A=0,P=null,R=-1,O=null;const N=new qt,L=new qt;let j=null;const U=new at(0);let H=0,z=n.width,Q=n.height,k=1,B=null,W=null;const $=new qt(0,0,z,Q),Y=new qt(0,0,z,Q);let J=!1;const X=new X0;let te=!1,ie=!1;const ee=new Ct,le=new Ct,ue=new ne,he=new qt,fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let K=!1;function de(){return P===null?k:1}let q=r;function Pe(Z,ye){return n.getContext(Z,ye)}try{const Z={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${B0}`),n.addEventListener("webglcontextlost",je,!1),n.addEventListener("webglcontextrestored",We,!1),n.addEventListener("webglcontextcreationerror",Ge,!1),q===null){const ye="webgl2";if(q=Pe(ye,Z),q===null)throw Pe(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let be,Re,me,Fe,Ce,G,V,se,pe,_e,Me,Be,De,He,it,Ue,Xe,qe,Ye,ke,ce,Te,Je,ae;function Oe(){be=new pUe(q),be.init(),Te=new mY(q,be),Re=new lUe(q,be,e,Te),me=new qFe(q,be),Re.reverseDepthBuffer&&d&&me.buffers.depth.setReversed(!0),Fe=new vUe(q),Ce=new LFe,G=new eje(q,be,me,Ce,Re,Te,Fe),V=new uUe(w),se=new hUe(w),pe=new ELe(q),Je=new aUe(q,pe),_e=new mUe(q,pe,Fe,Je),Me=new xUe(q,_e,pe,Fe),Ye=new yUe(q,Re,G),Ue=new cUe(Ce),Be=new DFe(w,V,se,be,Re,Je,Ue),De=new sje(w,Ce),He=new UFe,it=new VFe(be),qe=new oUe(w,V,se,me,Me,h,l),Xe=new WFe(w,Me,Re),ae=new lje(q,Fe,Re,me),ke=new sUe(q,be,Fe),ce=new gUe(q,be,Fe),Fe.programs=Be.programs,w.capabilities=Re,w.extensions=be,w.properties=Ce,w.renderLists=He,w.shadowMap=Xe,w.state=me,w.info=Fe}Oe();const Se=new oje(w,q);this.xr=Se,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const Z=be.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=be.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(Z){Z!==void 0&&(k=Z,this.setSize(z,Q,!1))},this.getSize=function(Z){return Z.set(z,Q)},this.setSize=function(Z,ye,Ae=!0){if(Se.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=Z,Q=ye,n.width=Math.floor(Z*k),n.height=Math.floor(ye*k),Ae===!0&&(n.style.width=Z+"px",n.style.height=ye+"px"),this.setViewport(0,0,Z,ye)},this.getDrawingBufferSize=function(Z){return Z.set(z*k,Q*k).floor()},this.setDrawingBufferSize=function(Z,ye,Ae){z=Z,Q=ye,k=Ae,n.width=Math.floor(Z*Ae),n.height=Math.floor(ye*Ae),this.setViewport(0,0,Z,ye)},this.getCurrentViewport=function(Z){return Z.copy(N)},this.getViewport=function(Z){return Z.copy($)},this.setViewport=function(Z,ye,Ae,Ee){Z.isVector4?$.set(Z.x,Z.y,Z.z,Z.w):$.set(Z,ye,Ae,Ee),me.viewport(N.copy($).multiplyScalar(k).round())},this.getScissor=function(Z){return Z.copy(Y)},this.setScissor=function(Z,ye,Ae,Ee){Z.isVector4?Y.set(Z.x,Z.y,Z.z,Z.w):Y.set(Z,ye,Ae,Ee),me.scissor(L.copy(Y).multiplyScalar(k).round())},this.getScissorTest=function(){return J},this.setScissorTest=function(Z){me.setScissorTest(J=Z)},this.setOpaqueSort=function(Z){B=Z},this.setTransparentSort=function(Z){W=Z},this.getClearColor=function(Z){return Z.copy(qe.getClearColor())},this.setClearColor=function(){qe.setClearColor.apply(qe,arguments)},this.getClearAlpha=function(){return qe.getClearAlpha()},this.setClearAlpha=function(){qe.setClearAlpha.apply(qe,arguments)},this.clear=function(Z=!0,ye=!0,Ae=!0){let Ee=0;if(Z){let ve=!1;if(P!==null){const Ze=P.texture.format;ve=Ze===dM||Ze===fM||Ze===V0}if(ve){const Ze=P.texture.type,Ne=Ze===fs||Ze===lc||Ze===wm||Ze===Rd||Ze===lM||Ze===cM,lt=qe.getClearColor(),pt=qe.getClearAlpha(),wt=lt.r,Ot=lt.g,dt=lt.b;Ne?(y[0]=wt,y[1]=Ot,y[2]=dt,y[3]=pt,q.clearBufferuiv(q.COLOR,0,y)):(x[0]=wt,x[1]=Ot,x[2]=dt,x[3]=pt,q.clearBufferiv(q.COLOR,0,x))}else Ee|=q.COLOR_BUFFER_BIT}ye&&(Ee|=q.DEPTH_BUFFER_BIT),Ae&&(Ee|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",je,!1),n.removeEventListener("webglcontextrestored",We,!1),n.removeEventListener("webglcontextcreationerror",Ge,!1),He.dispose(),it.dispose(),Ce.dispose(),V.dispose(),se.dispose(),Me.dispose(),Je.dispose(),ae.dispose(),Be.dispose(),Se.dispose(),Se.removeEventListener("sessionstart",Wn),Se.removeEventListener("sessionend",bi),Nr.stop()};function je(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function We(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const Z=Fe.autoReset,ye=Xe.enabled,Ae=Xe.autoUpdate,Ee=Xe.needsUpdate,ve=Xe.type;Oe(),Fe.autoReset=Z,Xe.enabled=ye,Xe.autoUpdate=Ae,Xe.needsUpdate=Ee,Xe.type=ve}function Ge(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function rt(Z){const ye=Z.target;ye.removeEventListener("dispose",rt),vt(ye)}function vt(Z){ct(Z),Ce.remove(Z)}function ct(Z){const ye=Ce.get(Z).programs;ye!==void 0&&(ye.forEach(function(Ae){Be.releaseProgram(Ae)}),Z.isShaderMaterial&&Be.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,ye,Ae,Ee,ve,Ze){ye===null&&(ye=fe);const Ne=ve.isMesh&&ve.matrixWorld.determinant()<0,lt=ng(Z,ye,Ae,Ee,ve);me.setMaterial(Ee,Ne);let pt=Ae.index,wt=1;if(Ee.wireframe===!0){if(pt=_e.getWireframeAttribute(Ae),pt===void 0)return;wt=2}const Ot=Ae.drawRange,dt=Ae.attributes.position;let zt=Ot.start*wt,Kt=(Ot.start+Ot.count)*wt;Ze!==null&&(zt=Math.max(zt,Ze.start*wt),Kt=Math.min(Kt,(Ze.start+Ze.count)*wt)),pt!==null?(zt=Math.max(zt,0),Kt=Math.min(Kt,pt.count)):dt!=null&&(zt=Math.max(zt,0),Kt=Math.min(Kt,dt.count));const St=Kt-zt;if(St<0||St===1/0)return;Je.setup(ve,Ee,lt,Ae,pt);let Ut,Ft=ke;if(pt!==null&&(Ut=pe.get(pt),Ft=ce,Ft.setIndex(Ut)),ve.isMesh)Ee.wireframe===!0?(me.setLineWidth(Ee.wireframeLinewidth*de()),Ft.setMode(q.LINES)):Ft.setMode(q.TRIANGLES);else if(ve.isLine){let nt=Ee.linewidth;nt===void 0&&(nt=1),me.setLineWidth(nt*de()),ve.isLineSegments?Ft.setMode(q.LINES):ve.isLineLoop?Ft.setMode(q.LINE_LOOP):Ft.setMode(q.LINE_STRIP)}else ve.isPoints?Ft.setMode(q.POINTS):ve.isSprite&&Ft.setMode(q.TRIANGLES);if(ve.isBatchedMesh)if(ve._multiDrawInstances!==null)Ft.renderMultiDrawInstances(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount,ve._multiDrawInstances);else if(be.get("WEBGL_multi_draw"))Ft.renderMultiDraw(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount);else{const nt=ve._multiDrawStarts,Mn=ve._multiDrawCounts,Wt=ve._multiDrawCount,Xn=pt?pe.get(pt).bytesPerElement:1,Un=Ce.get(Ee).currentProgram.getUniforms();for(let Fn=0;Fn<Wt;Fn++)Un.setValue(q,"_gl_DrawID",Fn),Ft.render(nt[Fn]/Xn,Mn[Fn])}else if(ve.isInstancedMesh)Ft.renderInstances(zt,St,ve.count);else if(Ae.isInstancedBufferGeometry){const nt=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,Mn=Math.min(Ae.instanceCount,nt);Ft.renderInstances(zt,St,Mn)}else Ft.render(zt,St)};function mt(Z,ye,Ae){Z.transparent===!0&&Z.side===Qa&&Z.forceSinglePass===!1?(Z.side=oo,Z.needsUpdate=!0,co(Z,ye,Ae),Z.side=ac,Z.needsUpdate=!0,co(Z,ye,Ae),Z.side=Qa):co(Z,ye,Ae)}this.compile=function(Z,ye,Ae=null){Ae===null&&(Ae=Z),m=it.get(Ae),m.init(ye),b.push(m),Ae.traverseVisible(function(ve){ve.isLight&&ve.layers.test(ye.layers)&&(m.pushLight(ve),ve.castShadow&&m.pushShadow(ve))}),Z!==Ae&&Z.traverseVisible(function(ve){ve.isLight&&ve.layers.test(ye.layers)&&(m.pushLight(ve),ve.castShadow&&m.pushShadow(ve))}),m.setupLights();const Ee=new Set;return Z.traverse(function(ve){if(!(ve.isMesh||ve.isPoints||ve.isLine||ve.isSprite))return;const Ze=ve.material;if(Ze)if(Array.isArray(Ze))for(let Ne=0;Ne<Ze.length;Ne++){const lt=Ze[Ne];mt(lt,Ae,ve),Ee.add(lt)}else mt(Ze,Ae,ve),Ee.add(Ze)}),b.pop(),m=null,Ee},this.compileAsync=function(Z,ye,Ae=null){const Ee=this.compile(Z,ye,Ae);return new Promise(ve=>{function Ze(){if(Ee.forEach(function(Ne){Ce.get(Ne).currentProgram.isReady()&&Ee.delete(Ne)}),Ee.size===0){ve(Z);return}setTimeout(Ze,10)}be.get("KHR_parallel_shader_compile")!==null?Ze():setTimeout(Ze,10)})};let an=null;function cn(Z){an&&an(Z)}function Wn(){Nr.stop()}function bi(){Nr.start()}const Nr=new uY;Nr.setAnimationLoop(cn),typeof self<"u"&&Nr.setContext(self),this.setAnimationLoop=function(Z){an=Z,Se.setAnimationLoop(Z),Z===null?Nr.stop():Nr.start()},Se.addEventListener("sessionstart",Wn),Se.addEventListener("sessionend",bi),this.render=function(Z,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),Se.enabled===!0&&Se.isPresenting===!0&&(Se.cameraAutoUpdate===!0&&Se.updateCamera(ye),ye=Se.getCamera()),Z.isScene===!0&&Z.onBeforeRender(w,Z,ye,P),m=it.get(Z,b.length),m.init(ye),b.push(m),le.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),X.setFromProjectionMatrix(le),ie=this.localClippingEnabled,te=Ue.init(this.clippingPlanes,ie),v=He.get(Z,_.length),v.init(),_.push(v),Se.enabled===!0&&Se.isPresenting===!0){const Ze=w.xr.getDepthSensingMesh();Ze!==null&&si(Ze,ye,-1/0,w.sortObjects)}si(Z,ye,0,w.sortObjects),v.finish(),w.sortObjects===!0&&v.sort(B,W),K=Se.enabled===!1||Se.isPresenting===!1||Se.hasDepthSensing()===!1,K&&qe.addToRenderList(v,Z),this.info.render.frame++,te===!0&&Ue.beginShadows();const Ae=m.state.shadowsArray;Xe.render(Ae,Z,ye),te===!0&&Ue.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ee=v.opaque,ve=v.transmissive;if(m.setupLights(),ye.isArrayCamera){const Ze=ye.cameras;if(ve.length>0)for(let Ne=0,lt=Ze.length;Ne<lt;Ne++){const pt=Ze[Ne];_i(Ee,ve,Z,pt)}K&&qe.render(Z);for(let Ne=0,lt=Ze.length;Ne<lt;Ne++){const pt=Ze[Ne];Po(v,Z,pt,pt.viewport)}}else ve.length>0&&_i(Ee,ve,Z,ye),K&&qe.render(Z),Po(v,Z,ye);P!==null&&(G.updateMultisampleRenderTarget(P),G.updateRenderTargetMipmap(P)),Z.isScene===!0&&Z.onAfterRender(w,Z,ye),Je.resetDefaultState(),R=-1,O=null,b.pop(),b.length>0?(m=b[b.length-1],te===!0&&Ue.setGlobalState(w.clippingPlanes,m.state.camera)):m=null,_.pop(),_.length>0?v=_[_.length-1]:v=null};function si(Z,ye,Ae,Ee){if(Z.visible===!1)return;if(Z.layers.test(ye.layers)){if(Z.isGroup)Ae=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(ye);else if(Z.isLight)m.pushLight(Z),Z.castShadow&&m.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||X.intersectsSprite(Z)){Ee&&he.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(le);const Ne=Me.update(Z),lt=Z.material;lt.visible&&v.push(Z,Ne,lt,Ae,he.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||X.intersectsObject(Z))){const Ne=Me.update(Z),lt=Z.material;if(Ee&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),he.copy(Z.boundingSphere.center)):(Ne.boundingSphere===null&&Ne.computeBoundingSphere(),he.copy(Ne.boundingSphere.center)),he.applyMatrix4(Z.matrixWorld).applyMatrix4(le)),Array.isArray(lt)){const pt=Ne.groups;for(let wt=0,Ot=pt.length;wt<Ot;wt++){const dt=pt[wt],zt=lt[dt.materialIndex];zt&&zt.visible&&v.push(Z,Ne,zt,Ae,he.z,dt)}}else lt.visible&&v.push(Z,Ne,lt,Ae,he.z,null)}}const Ze=Z.children;for(let Ne=0,lt=Ze.length;Ne<lt;Ne++)si(Ze[Ne],ye,Ae,Ee)}function Po(Z,ye,Ae,Ee){const ve=Z.opaque,Ze=Z.transmissive,Ne=Z.transparent;m.setupLightsView(Ae),te===!0&&Ue.setGlobalState(w.clippingPlanes,Ae),Ee&&me.viewport(N.copy(Ee)),ve.length>0&&Si(ve,ye,Ae),Ze.length>0&&Si(Ze,ye,Ae),Ne.length>0&&Si(Ne,ye,Ae),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function _i(Z,ye,Ae,Ee){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[Ee.id]===void 0&&(m.state.transmissionRenderTarget[Ee.id]=new ds(1,1,{generateMipmaps:!0,type:be.has("EXT_color_buffer_half_float")||be.has("EXT_color_buffer_float")?Qm:fs,minFilter:Bs,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ln.workingColorSpace}));const Ze=m.state.transmissionRenderTarget[Ee.id],Ne=Ee.viewport||N;Ze.setSize(Ne.z,Ne.w);const lt=w.getRenderTarget();w.setRenderTarget(Ze),w.getClearColor(U),H=w.getClearAlpha(),H<1&&w.setClearColor(16777215,.5),w.clear(),K&&qe.render(Ae);const pt=w.toneMapping;w.toneMapping=Qs;const wt=Ee.viewport;if(Ee.viewport!==void 0&&(Ee.viewport=void 0),m.setupLightsView(Ee),te===!0&&Ue.setGlobalState(w.clippingPlanes,Ee),Si(Z,Ae,Ee),G.updateMultisampleRenderTarget(Ze),G.updateRenderTargetMipmap(Ze),be.has("WEBGL_multisampled_render_to_texture")===!1){let Ot=!1;for(let dt=0,zt=ye.length;dt<zt;dt++){const Kt=ye[dt],St=Kt.object,Ut=Kt.geometry,Ft=Kt.material,nt=Kt.group;if(Ft.side===Qa&&St.layers.test(Ee.layers)){const Mn=Ft.side;Ft.side=oo,Ft.needsUpdate=!0,Mr(St,Ae,Ee,Ut,Ft,nt),Ft.side=Mn,Ft.needsUpdate=!0,Ot=!0}}Ot===!0&&(G.updateMultisampleRenderTarget(Ze),G.updateRenderTargetMipmap(Ze))}w.setRenderTarget(lt),w.setClearColor(U,H),wt!==void 0&&(Ee.viewport=wt),w.toneMapping=pt}function Si(Z,ye,Ae){const Ee=ye.isScene===!0?ye.overrideMaterial:null;for(let ve=0,Ze=Z.length;ve<Ze;ve++){const Ne=Z[ve],lt=Ne.object,pt=Ne.geometry,wt=Ee===null?Ne.material:Ee,Ot=Ne.group;lt.layers.test(Ae.layers)&&Mr(lt,ye,Ae,pt,wt,Ot)}}function Mr(Z,ye,Ae,Ee,ve,Ze){Z.onBeforeRender(w,ye,Ae,Ee,ve,Ze),Z.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),ve.onBeforeRender(w,ye,Ae,Ee,Z,Ze),ve.transparent===!0&&ve.side===Qa&&ve.forceSinglePass===!1?(ve.side=oo,ve.needsUpdate=!0,w.renderBufferDirect(Ae,ye,Ee,ve,Z,Ze),ve.side=ac,ve.needsUpdate=!0,w.renderBufferDirect(Ae,ye,Ee,ve,Z,Ze),ve.side=Qa):w.renderBufferDirect(Ae,ye,Ee,ve,Z,Ze),Z.onAfterRender(w,ye,Ae,Ee,ve,Ze)}function co(Z,ye,Ae){ye.isScene!==!0&&(ye=fe);const Ee=Ce.get(Z),ve=m.state.lights,Ze=m.state.shadowsArray,Ne=ve.state.version,lt=Be.getParameters(Z,ve.state,Ze,ye,Ae),pt=Be.getProgramCacheKey(lt);let wt=Ee.programs;Ee.environment=Z.isMeshStandardMaterial?ye.environment:null,Ee.fog=ye.fog,Ee.envMap=(Z.isMeshStandardMaterial?se:V).get(Z.envMap||Ee.environment),Ee.envMapRotation=Ee.environment!==null&&Z.envMap===null?ye.environmentRotation:Z.envMapRotation,wt===void 0&&(Z.addEventListener("dispose",rt),wt=new Map,Ee.programs=wt);let Ot=wt.get(pt);if(Ot!==void 0){if(Ee.currentProgram===Ot&&Ee.lightsStateVersion===Ne)return yc(Z,lt),Ot}else lt.uniforms=Be.getUniforms(Z),Z.onBeforeCompile(lt,w),Ot=Be.acquireProgram(lt,pt),wt.set(pt,Ot),Ee.uniforms=lt.uniforms;const dt=Ee.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(dt.clippingPlanes=Ue.uniform),yc(Z,lt),Ee.needsLights=cl(Z),Ee.lightsStateVersion=Ne,Ee.needsLights&&(dt.ambientLightColor.value=ve.state.ambient,dt.lightProbe.value=ve.state.probe,dt.directionalLights.value=ve.state.directional,dt.directionalLightShadows.value=ve.state.directionalShadow,dt.spotLights.value=ve.state.spot,dt.spotLightShadows.value=ve.state.spotShadow,dt.rectAreaLights.value=ve.state.rectArea,dt.ltc_1.value=ve.state.rectAreaLTC1,dt.ltc_2.value=ve.state.rectAreaLTC2,dt.pointLights.value=ve.state.point,dt.pointLightShadows.value=ve.state.pointShadow,dt.hemisphereLights.value=ve.state.hemi,dt.directionalShadowMap.value=ve.state.directionalShadowMap,dt.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,dt.spotShadowMap.value=ve.state.spotShadowMap,dt.spotLightMatrix.value=ve.state.spotLightMatrix,dt.spotLightMap.value=ve.state.spotLightMap,dt.pointShadowMap.value=ve.state.pointShadowMap,dt.pointShadowMatrix.value=ve.state.pointShadowMatrix),Ee.currentProgram=Ot,Ee.uniformsList=null,Ot}function Fu(Z){if(Z.uniformsList===null){const ye=Z.currentProgram.getUniforms();Z.uniformsList=e_.seqWithValue(ye.seq,Z.uniforms)}return Z.uniformsList}function yc(Z,ye){const Ae=Ce.get(Z);Ae.outputColorSpace=ye.outputColorSpace,Ae.batching=ye.batching,Ae.batchingColor=ye.batchingColor,Ae.instancing=ye.instancing,Ae.instancingColor=ye.instancingColor,Ae.instancingMorph=ye.instancingMorph,Ae.skinning=ye.skinning,Ae.morphTargets=ye.morphTargets,Ae.morphNormals=ye.morphNormals,Ae.morphColors=ye.morphColors,Ae.morphTargetsCount=ye.morphTargetsCount,Ae.numClippingPlanes=ye.numClippingPlanes,Ae.numIntersection=ye.numClipIntersection,Ae.vertexAlphas=ye.vertexAlphas,Ae.vertexTangents=ye.vertexTangents,Ae.toneMapping=ye.toneMapping}function ng(Z,ye,Ae,Ee,ve){ye.isScene!==!0&&(ye=fe),G.resetTextureUnits();const Ze=ye.fog,Ne=Ee.isMeshStandardMaterial?ye.environment:null,lt=P===null?w.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Hd,pt=(Ee.isMeshStandardMaterial?se:V).get(Ee.envMap||Ne),wt=Ee.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,Ot=!!Ae.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),dt=!!Ae.morphAttributes.position,zt=!!Ae.morphAttributes.normal,Kt=!!Ae.morphAttributes.color;let St=Qs;Ee.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(St=w.toneMapping);const Ut=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Ft=Ut!==void 0?Ut.length:0,nt=Ce.get(Ee),Mn=m.state.lights;if(te===!0&&(ie===!0||Z!==O)){const In=Z===O&&Ee.id===R;Ue.setState(Ee,Z,In)}let Wt=!1;Ee.version===nt.__version?(nt.needsLights&&nt.lightsStateVersion!==Mn.state.version||nt.outputColorSpace!==lt||ve.isBatchedMesh&&nt.batching===!1||!ve.isBatchedMesh&&nt.batching===!0||ve.isBatchedMesh&&nt.batchingColor===!0&&ve.colorTexture===null||ve.isBatchedMesh&&nt.batchingColor===!1&&ve.colorTexture!==null||ve.isInstancedMesh&&nt.instancing===!1||!ve.isInstancedMesh&&nt.instancing===!0||ve.isSkinnedMesh&&nt.skinning===!1||!ve.isSkinnedMesh&&nt.skinning===!0||ve.isInstancedMesh&&nt.instancingColor===!0&&ve.instanceColor===null||ve.isInstancedMesh&&nt.instancingColor===!1&&ve.instanceColor!==null||ve.isInstancedMesh&&nt.instancingMorph===!0&&ve.morphTexture===null||ve.isInstancedMesh&&nt.instancingMorph===!1&&ve.morphTexture!==null||nt.envMap!==pt||Ee.fog===!0&&nt.fog!==Ze||nt.numClippingPlanes!==void 0&&(nt.numClippingPlanes!==Ue.numPlanes||nt.numIntersection!==Ue.numIntersection)||nt.vertexAlphas!==wt||nt.vertexTangents!==Ot||nt.morphTargets!==dt||nt.morphNormals!==zt||nt.morphColors!==Kt||nt.toneMapping!==St||nt.morphTargetsCount!==Ft)&&(Wt=!0):(Wt=!0,nt.__version=Ee.version);let Xn=nt.currentProgram;Wt===!0&&(Xn=co(Ee,ye,ve));let Un=!1,Fn=!1,na=!1;const hn=Xn.getUniforms(),Dr=nt.uniforms;if(me.useProgram(Xn.program)&&(Un=!0,Fn=!0,na=!0),Ee.id!==R&&(R=Ee.id,Fn=!0),Un||O!==Z){me.buffers.depth.getReversed()?(ee.copy(Z.projectionMatrix),YDe(ee),KDe(ee),hn.setValue(q,"projectionMatrix",ee)):hn.setValue(q,"projectionMatrix",Z.projectionMatrix),hn.setValue(q,"viewMatrix",Z.matrixWorldInverse);const Bi=hn.map.cameraPosition;Bi!==void 0&&Bi.setValue(q,ue.setFromMatrixPosition(Z.matrixWorld)),Re.logarithmicDepthBuffer&&hn.setValue(q,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&hn.setValue(q,"isOrthographic",Z.isOrthographicCamera===!0),O!==Z&&(O=Z,Fn=!0,na=!0)}if(ve.isSkinnedMesh){hn.setOptional(q,ve,"bindMatrix"),hn.setOptional(q,ve,"bindMatrixInverse");const In=ve.skeleton;In&&(In.boneTexture===null&&In.computeBoneTexture(),hn.setValue(q,"boneTexture",In.boneTexture,G))}ve.isBatchedMesh&&(hn.setOptional(q,ve,"batchingTexture"),hn.setValue(q,"batchingTexture",ve._matricesTexture,G),hn.setOptional(q,ve,"batchingIdTexture"),hn.setValue(q,"batchingIdTexture",ve._indirectTexture,G),hn.setOptional(q,ve,"batchingColorTexture"),ve._colorsTexture!==null&&hn.setValue(q,"batchingColorTexture",ve._colorsTexture,G));const Lr=Ae.morphAttributes;if((Lr.position!==void 0||Lr.normal!==void 0||Lr.color!==void 0)&&Ye.update(ve,Ae,Xn),(Fn||nt.receiveShadow!==ve.receiveShadow)&&(nt.receiveShadow=ve.receiveShadow,hn.setValue(q,"receiveShadow",ve.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(Dr.envMap.value=pt,Dr.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1),Ee.isMeshStandardMaterial&&Ee.envMap===null&&ye.environment!==null&&(Dr.envMapIntensity.value=ye.environmentIntensity),Fn&&(hn.setValue(q,"toneMappingExposure",w.toneMappingExposure),nt.needsLights&&Kd(Dr,na),Ze&&Ee.fog===!0&&De.refreshFogUniforms(Dr,Ze),De.refreshMaterialUniforms(Dr,Ee,k,Q,m.state.transmissionRenderTarget[Z.id]),e_.upload(q,Fu(nt),Dr,G)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(e_.upload(q,Fu(nt),Dr,G),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&hn.setValue(q,"center",ve.center),hn.setValue(q,"modelViewMatrix",ve.modelViewMatrix),hn.setValue(q,"normalMatrix",ve.normalMatrix),hn.setValue(q,"modelMatrix",ve.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const In=Ee.uniformsGroups;for(let Bi=0,wi=In.length;Bi<wi;Bi++){const ju=In[Bi];ae.update(ju,Xn),ae.bind(ju,Xn)}}return Xn}function Kd(Z,ye){Z.ambientLightColor.needsUpdate=ye,Z.lightProbe.needsUpdate=ye,Z.directionalLights.needsUpdate=ye,Z.directionalLightShadows.needsUpdate=ye,Z.pointLights.needsUpdate=ye,Z.pointLightShadows.needsUpdate=ye,Z.spotLights.needsUpdate=ye,Z.spotLightShadows.needsUpdate=ye,Z.rectAreaLights.needsUpdate=ye,Z.hemisphereLights.needsUpdate=ye}function cl(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(Z,ye,Ae){Ce.get(Z.texture).__webglTexture=ye,Ce.get(Z.depthTexture).__webglTexture=Ae;const Ee=Ce.get(Z);Ee.__hasExternalTextures=!0,Ee.__autoAllocateDepthBuffer=Ae===void 0,Ee.__autoAllocateDepthBuffer||be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ee.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Z,ye){const Ae=Ce.get(Z);Ae.__webglFramebuffer=ye,Ae.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(Z,ye=0,Ae=0){P=Z,M=ye,A=Ae;let Ee=!0,ve=null,Ze=!1,Ne=!1;if(Z){const pt=Ce.get(Z);if(pt.__useDefaultFramebuffer!==void 0)me.bindFramebuffer(q.FRAMEBUFFER,null),Ee=!1;else if(pt.__webglFramebuffer===void 0)G.setupRenderTarget(Z);else if(pt.__hasExternalTextures)G.rebindTextures(Z,Ce.get(Z.texture).__webglTexture,Ce.get(Z.depthTexture).__webglTexture);else if(Z.depthBuffer){const dt=Z.depthTexture;if(pt.__boundDepthTexture!==dt){if(dt!==null&&Ce.has(dt)&&(Z.width!==dt.image.width||Z.height!==dt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");G.setupDepthRenderbuffer(Z)}}const wt=Z.texture;(wt.isData3DTexture||wt.isDataArrayTexture||wt.isCompressedArrayTexture)&&(Ne=!0);const Ot=Ce.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(Ot[ye])?ve=Ot[ye][Ae]:ve=Ot[ye],Ze=!0):Z.samples>0&&G.useMultisampledRTT(Z)===!1?ve=Ce.get(Z).__webglMultisampledFramebuffer:Array.isArray(Ot)?ve=Ot[Ae]:ve=Ot,N.copy(Z.viewport),L.copy(Z.scissor),j=Z.scissorTest}else N.copy($).multiplyScalar(k).floor(),L.copy(Y).multiplyScalar(k).floor(),j=J;if(me.bindFramebuffer(q.FRAMEBUFFER,ve)&&Ee&&me.drawBuffers(Z,ve),me.viewport(N),me.scissor(L),me.setScissorTest(j),Ze){const pt=Ce.get(Z.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+ye,pt.__webglTexture,Ae)}else if(Ne){const pt=Ce.get(Z.texture),wt=ye||0;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,pt.__webglTexture,Ae||0,wt)}R=-1},this.readRenderTargetPixels=function(Z,ye,Ae,Ee,ve,Ze,Ne){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=Ce.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&Ne!==void 0&&(lt=lt[Ne]),lt){me.bindFramebuffer(q.FRAMEBUFFER,lt);try{const pt=Z.texture,wt=pt.format,Ot=pt.type;if(!Re.textureFormatReadable(wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Re.textureTypeReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=Z.width-Ee&&Ae>=0&&Ae<=Z.height-ve&&q.readPixels(ye,Ae,Ee,ve,Te.convert(wt),Te.convert(Ot),Ze)}finally{const pt=P!==null?Ce.get(P).__webglFramebuffer:null;me.bindFramebuffer(q.FRAMEBUFFER,pt)}}},this.readRenderTargetPixelsAsync=async function(Z,ye,Ae,Ee,ve,Ze,Ne){if(!(Z&&Z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let lt=Ce.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&Ne!==void 0&&(lt=lt[Ne]),lt){const pt=Z.texture,wt=pt.format,Ot=pt.type;if(!Re.textureFormatReadable(wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Re.textureTypeReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ye>=0&&ye<=Z.width-Ee&&Ae>=0&&Ae<=Z.height-ve){me.bindFramebuffer(q.FRAMEBUFFER,lt);const dt=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,dt),q.bufferData(q.PIXEL_PACK_BUFFER,Ze.byteLength,q.STREAM_READ),q.readPixels(ye,Ae,Ee,ve,Te.convert(wt),Te.convert(Ot),0);const zt=P!==null?Ce.get(P).__webglFramebuffer:null;me.bindFramebuffer(q.FRAMEBUFFER,zt);const Kt=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await qDe(q,Kt,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,dt),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,Ze),q.deleteBuffer(dt),q.deleteSync(Kt),Ze}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(Z,ye=null,Ae=0){Z.isTexture!==!0&&(gv("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ye=arguments[0]||null,Z=arguments[1]);const Ee=Math.pow(2,-Ae),ve=Math.floor(Z.image.width*Ee),Ze=Math.floor(Z.image.height*Ee),Ne=ye!==null?ye.x:0,lt=ye!==null?ye.y:0;G.setTexture2D(Z,0),q.copyTexSubImage2D(q.TEXTURE_2D,Ae,0,0,Ne,lt,ve,Ze),me.unbindTexture()},this.copyTextureToTexture=function(Z,ye,Ae=null,Ee=null,ve=0){Z.isTexture!==!0&&(gv("WebGLRenderer: copyTextureToTexture function signature has changed."),Ee=arguments[0]||null,Z=arguments[1],ye=arguments[2],ve=arguments[3]||0,Ae=null);let Ze,Ne,lt,pt,wt,Ot,dt,zt,Kt;const St=Z.isCompressedTexture?Z.mipmaps[ve]:Z.image;Ae!==null?(Ze=Ae.max.x-Ae.min.x,Ne=Ae.max.y-Ae.min.y,lt=Ae.isBox3?Ae.max.z-Ae.min.z:1,pt=Ae.min.x,wt=Ae.min.y,Ot=Ae.isBox3?Ae.min.z:0):(Ze=St.width,Ne=St.height,lt=St.depth||1,pt=0,wt=0,Ot=0),Ee!==null?(dt=Ee.x,zt=Ee.y,Kt=Ee.z):(dt=0,zt=0,Kt=0);const Ut=Te.convert(ye.format),Ft=Te.convert(ye.type);let nt;ye.isData3DTexture?(G.setTexture3D(ye,0),nt=q.TEXTURE_3D):ye.isDataArrayTexture||ye.isCompressedArrayTexture?(G.setTexture2DArray(ye,0),nt=q.TEXTURE_2D_ARRAY):(G.setTexture2D(ye,0),nt=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,ye.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,ye.unpackAlignment);const Mn=q.getParameter(q.UNPACK_ROW_LENGTH),Wt=q.getParameter(q.UNPACK_IMAGE_HEIGHT),Xn=q.getParameter(q.UNPACK_SKIP_PIXELS),Un=q.getParameter(q.UNPACK_SKIP_ROWS),Fn=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,St.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,St.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,pt),q.pixelStorei(q.UNPACK_SKIP_ROWS,wt),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Ot);const na=Z.isDataArrayTexture||Z.isData3DTexture,hn=ye.isDataArrayTexture||ye.isData3DTexture;if(Z.isRenderTargetTexture||Z.isDepthTexture){const Dr=Ce.get(Z),Lr=Ce.get(ye),In=Ce.get(Dr.__renderTarget),Bi=Ce.get(Lr.__renderTarget);me.bindFramebuffer(q.READ_FRAMEBUFFER,In.__webglFramebuffer),me.bindFramebuffer(q.DRAW_FRAMEBUFFER,Bi.__webglFramebuffer);for(let wi=0;wi<lt;wi++)na&&q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Ce.get(Z).__webglTexture,ve,Ot+wi),Z.isDepthTexture?(hn&&q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Ce.get(ye).__webglTexture,ve,Kt+wi),q.blitFramebuffer(pt,wt,Ze,Ne,dt,zt,Ze,Ne,q.DEPTH_BUFFER_BIT,q.NEAREST)):hn?q.copyTexSubImage3D(nt,ve,dt,zt,Kt+wi,pt,wt,Ze,Ne):q.copyTexSubImage2D(nt,ve,dt,zt,Kt+wi,pt,wt,Ze,Ne);me.bindFramebuffer(q.READ_FRAMEBUFFER,null),me.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else hn?Z.isDataTexture||Z.isData3DTexture?q.texSubImage3D(nt,ve,dt,zt,Kt,Ze,Ne,lt,Ut,Ft,St.data):ye.isCompressedArrayTexture?q.compressedTexSubImage3D(nt,ve,dt,zt,Kt,Ze,Ne,lt,Ut,St.data):q.texSubImage3D(nt,ve,dt,zt,Kt,Ze,Ne,lt,Ut,Ft,St):Z.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,ve,dt,zt,Ze,Ne,Ut,Ft,St.data):Z.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,ve,dt,zt,St.width,St.height,Ut,St.data):q.texSubImage2D(q.TEXTURE_2D,ve,dt,zt,Ze,Ne,Ut,Ft,St);q.pixelStorei(q.UNPACK_ROW_LENGTH,Mn),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Wt),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Xn),q.pixelStorei(q.UNPACK_SKIP_ROWS,Un),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Fn),ve===0&&ye.generateMipmaps&&q.generateMipmap(nt),me.unbindTexture()},this.copyTextureToTexture3D=function(Z,ye,Ae=null,Ee=null,ve=0){return Z.isTexture!==!0&&(gv("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ae=arguments[0]||null,Ee=arguments[1]||null,Z=arguments[2],ye=arguments[3],ve=arguments[4]||0),gv('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Z,ye,Ae,Ee,ve)},this.initRenderTarget=function(Z){Ce.get(Z).__webglFramebuffer===void 0&&G.setupRenderTarget(Z)},this.initTexture=function(Z){Z.isCubeTexture?G.setTextureCube(Z,0):Z.isData3DTexture?G.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?G.setTexture2DArray(Z,0):G.setTexture2D(Z,0),me.unbindTexture()},this.resetState=function(){M=0,A=0,P=null,me.reset(),Je.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return $s}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=ln._getDrawingBufferColorSpace(e),n.unpackColorSpace=ln._getUnpackColorSpace()}}class yM{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new at(e),this.density=n}clone(){return new yM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class xM{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new at(e),this.near=n,this.far=r}clone(){return new xM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class LD extends dn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Jo,this.environmentIntensity=1,this.environmentRotation=new Jo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class bM{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=s0,this.updateRanges=[],this.version=0,this.uuid=Qo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const qi=new ne;class Wo{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyMatrix4(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyNormalMatrix(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.transformDirection(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=eo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ht(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Ht(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ht(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ht(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ht(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=eo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=eo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=eo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=eo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array),i=Ht(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ht(n,this.array),r=Ht(r,this.array),i=Ht(i,this.array),o=Ht(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new An(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kD extends zi{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new at(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Dh;const Qg=new ne,Lh=new ne,kh=new ne,Uh=new $e,Zg=new $e,yY=new Ct,J1=new ne,Jg=new ne,eb=new ne,W4=new $e,AP=new $e,X4=new $e;class xY extends dn{constructor(e=new kD){if(super(),this.isSprite=!0,this.type="Sprite",Dh===void 0){Dh=new Yt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new bM(n,5);Dh.setIndex([0,1,2,0,2,3]),Dh.setAttribute("position",new Wo(r,3,0,!1)),Dh.setAttribute("uv",new Wo(r,2,3,!1))}this.geometry=Dh,this.material=e,this.center=new $e(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Lh.setFromMatrixScale(this.matrixWorld),yY.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),kh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Lh.multiplyScalar(-kh.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;tb(J1.set(-.5,-.5,0),kh,a,Lh,i,o),tb(Jg.set(.5,-.5,0),kh,a,Lh,i,o),tb(eb.set(.5,.5,0),kh,a,Lh,i,o),W4.set(0,0),AP.set(1,0),X4.set(1,1);let s=e.ray.intersectTriangle(J1,Jg,eb,!1,Qg);if(s===null&&(tb(Jg.set(-.5,.5,0),kh,a,Lh,i,o),AP.set(0,1),s=e.ray.intersectTriangle(J1,eb,Jg,!1,Qg),s===null))return;const l=e.ray.origin.distanceTo(Qg);l<e.near||l>e.far||n.push({distance:l,point:Qg.clone(),uv:xo.getInterpolation(Qg,J1,Jg,eb,W4,AP,X4,new $e),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function tb(t,e,n,r,i,o){Uh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Zg.x=o*Uh.x-i*Uh.y,Zg.y=i*Uh.x+o*Uh.y):Zg.copy(Uh),t.copy(e),t.x+=Zg.x,t.y+=Zg.y,t.applyMatrix4(yY)}const nb=new ne,q4=new ne;class bY extends dn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){nb.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(nb);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){nb.setFromMatrixPosition(e.matrixWorld),q4.setFromMatrixPosition(this.matrixWorld);const r=nb.distanceTo(q4)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const Y4=new ne,K4=new qt,Q4=new qt,cje=new ne,Z4=new Ct,rb=new ne,PP=new Hr,J4=new Ct,CP=new Gd;class _Y extends Qn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=QO,this.bindMatrix=new Ct,this.bindMatrixInverse=new Ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ir),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,rb),this.boundingBox.expandByPoint(rb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Hr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,rb),this.boundingSphere.expandByPoint(rb)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),PP.copy(this.boundingSphere),PP.applyMatrix4(i),e.ray.intersectsSphere(PP)!==!1&&(J4.copy(i).invert(),CP.copy(e.ray).applyMatrix4(J4),!(this.boundingBox!==null&&CP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,CP)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===QO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$q?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;K4.fromBufferAttribute(i.attributes.skinIndex,e),Q4.fromBufferAttribute(i.attributes.skinWeight,e),Y4.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=Q4.getComponent(o);if(a!==0){const s=K4.getComponent(o);Z4.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(cje.copy(Y4).applyMatrix4(Z4),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class UD extends dn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Zs extends ir{constructor(e=null,n=1,r=1,i,o,a,s,l,c=yi,u=yi,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const e5=new Ct,uje=new Ct;class _M{constructor(e=[],n=[]){this.uuid=Qo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ct;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:uje;e5.multiplyMatrices(s,n[o]),e5.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new _M(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Zs(n,e,e,Ui,So);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new UD),this.bones.push(a),this.boneInverses.push(new Ct().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Nd extends An{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Fh=new Ct,t5=new Ct,ib=[],n5=new Ir,fje=new Ct,ev=new Qn,tv=new Hr;class SY extends Qn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Nd(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,fje)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ir),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Fh),n5.copy(e.boundingBox).applyMatrix4(Fh),this.boundingBox.union(n5)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Hr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Fh),tv.copy(e.boundingSphere).applyMatrix4(Fh),this.boundingSphere.union(tv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,a=e*o+1;for(let s=0;s<r.length;s++)r[s]=i[a+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(ev.geometry=this.geometry,ev.material=this.material,ev.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tv.copy(this.boundingSphere),tv.applyMatrix4(r),e.ray.intersectsSphere(tv)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Fh),t5.multiplyMatrices(r,Fh),ev.matrixWorld=t5,ev.raycast(e,ib);for(let a=0,s=ib.length;a<s;a++){const l=ib[a];l.instanceId=o,l.object=this,n.push(l)}ib.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Nd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Zs(new Float32Array(i*this.count),i,this.count,uM,So));const o=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const s=this.geometry.morphTargetsRelative?1:1-a,l=i*e;o[l]=s,o.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function OP(t,e){return t-e}function dje(t,e){return t.z-e.z}function hje(t,e){return e.z-t.z}class pje{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const o=this.pool,a=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];a.push(s),this.index++,s.start=e,s.count=n,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const mo=new Ct,mje=new at(1,1,1),RP=new X0,ob=new Ir,df=new Hr,nv=new ne,r5=new ne,gje=new ne,IP=new pje,Ni=new Qn,ab=[];function vje(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function hf(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class wY extends Qn{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,r=n*2,i){super(new Yt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Zs(n,e,e,Ui,So);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Zs(n,e,e,V0,lc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Zs(n,e,e,Ui,So);r.colorSpace=ln.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const a=e.getAttribute(o),{array:s,itemSize:l,normalized:c}=a,u=new s.constructor(r*l),f=new An(u,l,c);n.setAttribute(o,f)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new An(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ir);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,mo),this.getBoundingBoxAt(o,ob).applyMatrix4(mo),e.union(ob)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hr);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,mo),this.getBoundingSphereAt(o,df).applyMatrix4(mo),e.union(df)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(OP),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;mo.identity().toArray(o.image.data,i*16),o.needsUpdate=!0;const a=this._colorsTexture;return a&&(mje.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(OP),l=this._availableGeometryIds.shift(),o[l]=i):(l=this._geometryCount,this._geometryCount++,o.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._geometryInfo[e];if(i&&a.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const u in r.attributes){const f=n.getAttribute(u),d=r.getAttribute(u);vje(f,d,l);const h=f.itemSize;for(let y=f.count,x=c;y<x;y++){const v=l+y;for(let m=0;m<h;m++)d.setComponent(v,m,0)}d.needsUpdate=!0,d.addUpdateRange(l*h,c*h)}if(i){const u=s.indexStart,f=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let d=0;d<a.count;d++)o.setX(u+d,l+a.getX(d));for(let d=a.count,h=f;d<h;d++)o.setX(u+d,l);o.needsUpdate=!0,o.addUpdateRange(u,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,o=r.length;i<o;i++)r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,s)=>s).sort((a,s)=>r[a].vertexStart-r[s].vertexStart),o=this.geometry;for(let a=0,s=r.length;a<s;a++){const l=i[a],c=r[l];if(c.active!==!1){if(o.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:f,reservedIndexCount:d}=c,h=o.index,y=h.array,x=e-f;for(let v=u;v<u+d;v++)y[v]=y[v]+x;h.array.copyWithin(n,u,u+d),h.addUpdateRange(n,d),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,d=o.attributes;for(const h in d){const y=d[h],{array:x,itemSize:v}=y;x.copyWithin(e*v,u*v,(u+f)*v),y.addUpdateRange(e*v,f*v)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=o.index?c.indexStart:c.vertexStart,this._nextIndexStart=o.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const o=new Ir,a=r.index,s=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;a&&(u=a.getX(u)),o.expandByPoint(nv.fromBufferAttribute(s,u))}i.boundingBox=o}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const o=new Hr;this.getBoundingBoxAt(e,ob),ob.getCenter(o.center);const a=r.index,s=r.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let f=c;a&&(f=a.getX(f)),nv.fromBufferAttribute(s,f),l=Math.max(l,o.center.distanceToSquared(nv))}o.radius=Math.sqrt(l),i.boundingSphere=o}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture,o=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,o=this._instanceInfo;return e>=o.length||o[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){const r=this._colorsTexture.image.data,i=this._instanceInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){const r=this._instanceInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const r=this._instanceInfo,i=this._geometryInfo;return e>=r.length||r[e].active===!1||n>=i.length||i[n].active===!1?null:(r[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(OP);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),o=new Int32Array(e);hf(this._multiDrawCounts,i),hf(this._multiDrawStarts,o),this._multiDrawCounts=i,this._multiDrawStarts=o,this._maxInstanceCount=e;const a=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),hf(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),hf(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),hf(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Yt,this._initializeGeometry(o));const a=this.geometry;o.index&&hf(o.index.array,a.index.array);for(const s in o.attributes)hf(o.attributes[s].array,a.attributes[s].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,o=this.matrixWorld,a=this.geometry;Ni.material=this.material,Ni.geometry.index=a.index,Ni.geometry.attributes=a.attributes,Ni.geometry.boundingBox===null&&(Ni.geometry.boundingBox=new Ir),Ni.geometry.boundingSphere===null&&(Ni.geometry.boundingSphere=new Hr);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const c=r[s].geometryIndex,u=i[c];Ni.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(s,Ni.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,Ni.geometry.boundingBox),this.getBoundingSphereAt(c,Ni.geometry.boundingSphere),Ni.raycast(e,ab);for(let f=0,d=ab.length;f<d;f++){const h=ab[f];h.object=this,h.batchId=s,n.push(h)}ab.length=0}Ni.material=null,Ni.geometry.index=null,Ni.geometry.attributes={},Ni.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,y=h.image.data;d&&(mo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),RP.setFromProjectionMatrix(mo,e.coordinateSystem));let x=0;if(this.sortObjects){mo.copy(this.matrixWorld).invert(),nv.setFromMatrixPosition(r.matrixWorld).applyMatrix4(mo),r5.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(mo);for(let _=0,b=l.length;_<b;_++)if(l[_].visible&&l[_].active){const w=l[_].geometryIndex;this.getMatrixAt(_,mo),this.getBoundingSphereAt(w,df).applyMatrix4(mo);let E=!1;if(d&&(E=!RP.intersectsSphere(df)),!E){const M=f[w],A=gje.subVectors(df.center,nv).dot(r5);IP.push(M.start,M.count,A,_)}}const v=IP.list,m=this.customSort;m===null?v.sort(o.transparent?hje:dje):m.call(this,v,r);for(let _=0,b=v.length;_<b;_++){const w=v[_];c[x]=w.start*s,u[x]=w.count,y[x]=w.index,x++}IP.reset()}else for(let v=0,m=l.length;v<m;v++)if(l[v].visible&&l[v].active){const _=l[v].geometryIndex;let b=!1;if(d&&(this.getMatrixAt(v,mo),this.getBoundingSphereAt(_,df).applyMatrix4(mo),b=!RP.intersectsSphere(df)),!b){const w=f[_];c[x]=w.start*s,u[x]=w.count,y[x]=v,x++}}h.needsUpdate=!0,this._multiDrawCount=x,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class lo extends zi{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new at(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ew=new ne,Mw=new ne,i5=new Ct,rv=new Gd,sb=new Hr,NP=new ne,o5=new ne;let Mu=class extends dn{constructor(e=new Yt,n=new lo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)Ew.fromBufferAttribute(n,i-1),Mw.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Ew.distanceTo(Mw);e.setAttribute("lineDistance",new gt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),sb.copy(r.boundingSphere),sb.applyMatrix4(i),sb.radius+=o,e.ray.intersectsSphere(sb)===!1)return;i5.copy(i).invert(),rv.copy(e.ray).applyMatrix4(i5);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,u=r.index,d=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),y=Math.min(u.count,a.start+a.count);for(let x=h,v=y-1;x<v;x+=c){const m=u.getX(x),_=u.getX(x+1),b=lb(this,e,rv,l,m,_);b&&n.push(b)}if(this.isLineLoop){const x=u.getX(y-1),v=u.getX(h),m=lb(this,e,rv,l,x,v);m&&n.push(m)}}else{const h=Math.max(0,a.start),y=Math.min(d.count,a.start+a.count);for(let x=h,v=y-1;x<v;x+=c){const m=lb(this,e,rv,l,x,x+1);m&&n.push(m)}if(this.isLineLoop){const x=lb(this,e,rv,l,y-1,h);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}};function lb(t,e,n,r,i,o){const a=t.geometry.attributes.position;if(Ew.fromBufferAttribute(a,i),Mw.fromBufferAttribute(a,o),n.distanceSqToSegment(Ew,Mw,NP,o5)>r)return;NP.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(NP);if(!(l<e.near||l>e.far))return{distance:l,point:o5.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const a5=new ne,s5=new ne;class ll extends Mu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)a5.fromBufferAttribute(n,i),s5.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+a5.distanceTo(s5);e.setAttribute("lineDistance",new gt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EY extends Mu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class FD extends zi{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new at(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const l5=new Ct,rR=new Gd,cb=new Hr,ub=new ne;class MY extends dn{constructor(e=new Yt,n=new FD){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),cb.copy(r.boundingSphere),cb.applyMatrix4(i),cb.radius+=o,e.ray.intersectsSphere(cb)===!1)return;l5.copy(i).invert(),rR.copy(e.ray).applyMatrix4(l5);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let y=d,x=h;y<x;y++){const v=c.getX(y);ub.fromBufferAttribute(f,v),c5(ub,v,l,i,e,n,this)}}else{const d=Math.max(0,a.start),h=Math.min(f.count,a.start+a.count);for(let y=d,x=h;y<x;y++)ub.fromBufferAttribute(f,y),c5(ub,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function c5(t,e,n,r,i,o,a){const s=rR.distanceSqToPoint(t);if(s<n){const l=new ne;rR.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class yje extends ir{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:wr,this.magFilter=o!==void 0?o:wr,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class xje extends ir{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=yi,this.minFilter=yi,this.generateMipmaps=!1,this.needsUpdate=!0}}class SM extends ir{constructor(e,n,r,i,o,a,s,l,c,u,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class bje extends SM{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Sa,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _je extends SM{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,sc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Sje extends ir{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class vs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],d=r[i+1]-u,h=(a-u)/d;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new $e:new ne);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ne,i=[],o=[],a=[],s=new ne,l=new Ct;for(let h=0;h<=e;h++){const y=h/e;i[h]=this.getTangentAt(y,new ne)}o[0]=new ne,a[0]=new ne;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const y=Math.acos(pr(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(s,y))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(pr(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(i[y],h*y)),a[y].crossVectors(i[y],o[y])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wM extends vs{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new $e){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*u-h*f+this.aX,c=d*f+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class TY extends wM{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function jD(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,f){let d=(a-o)/c-(s-o)/(c+u)+(s-a)/u,h=(s-a)/u-(l-a)/(u+f)+(l-s)/f;d*=u,h*=u,i(a,s,d,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const fb=new ne,DP=new jD,LP=new jD,kP=new jD;class AY extends vs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ne){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(fb.subVectors(i[0],i[1]).add(i[0]),c=fb);const f=i[s%o],d=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(fb.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=fb),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(f),h),x=Math.pow(f.distanceToSquared(d),h),v=Math.pow(d.distanceToSquared(u),h);x<1e-4&&(x=1),y<1e-4&&(y=x),v<1e-4&&(v=x),DP.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,y,x,v),LP.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,y,x,v),kP.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,y,x,v)}else this.curveType==="catmullrom"&&(DP.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),LP.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),kP.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(DP.calc(l),LP.calc(l),kP.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ne().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function u5(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function wje(t,e){const n=1-t;return n*n*e}function Eje(t,e){return 2*(1-t)*t*e}function Mje(t,e){return t*t*e}function Hv(t,e,n,r){return wje(t,e)+Eje(t,n)+Mje(t,r)}function Tje(t,e){const n=1-t;return n*n*n*e}function Aje(t,e){const n=1-t;return 3*n*n*t*e}function Pje(t,e){return 3*(1-t)*t*t*e}function Cje(t,e){return t*t*t*e}function Gv(t,e,n,r,i){return Tje(t,e)+Aje(t,n)+Pje(t,r)+Cje(t,i)}class zD extends vs{constructor(e=new $e,n=new $e,r=new $e,i=new $e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Gv(e,i.x,o.x,a.x,s.x),Gv(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class PY extends vs{constructor(e=new ne,n=new ne,r=new ne,i=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ne){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Gv(e,i.x,o.x,a.x,s.x),Gv(e,i.y,o.y,a.y,s.y),Gv(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class BD extends vs{constructor(e=new $e,n=new $e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new $e){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $e){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CY extends vs{constructor(e=new ne,n=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ne){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ne){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $D extends vs{constructor(e=new $e,n=new $e,r=new $e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Hv(e,i.x,o.x,a.x),Hv(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VD extends vs{constructor(e=new ne,n=new ne,r=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ne){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Hv(e,i.x,o.x,a.x),Hv(e,i.y,o.y,a.y),Hv(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HD extends vs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new $e){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(u5(s,l.x,c.x,u.x,f.x),u5(s,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new $e().fromArray(i))}return this}}var Tw=Object.freeze({__proto__:null,ArcCurve:TY,CatmullRomCurve3:AY,CubicBezierCurve:zD,CubicBezierCurve3:PY,EllipseCurve:wM,LineCurve:BD,LineCurve3:CY,QuadraticBezierCurve:$D,QuadraticBezierCurve3:VD,SplineCurve:HD});class OY extends vs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Tw[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Tw[i.type]().fromJSON(i))}return this}}class f0 extends OY{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new BD(this.currentPoint.clone(),new $e(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new $D(this.currentPoint.clone(),new $e(e,n),new $e(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new zD(this.currentPoint.clone(),new $e(e,n),new $e(r,i),new $e(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new HD(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new wM(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class q0 extends Yt{constructor(e=[new $e(0,-.5),new $e(.5,0),new $e(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=pr(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],u=1/n,f=new ne,d=new $e,h=new ne,y=new ne,x=new ne;let v=0,m=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:v=e[_+1].x-e[_].x,m=e[_+1].y-e[_].y,h.x=m*1,h.y=-v,h.z=m*0,x.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:v=e[_+1].x-e[_].x,m=e[_+1].y-e[_].y,h.x=m*1,h.y=-v,h.z=m*0,y.copy(h),h.x+=x.x,h.y+=x.y,h.z+=x.z,h.normalize(),l.push(h.x,h.y,h.z),x.copy(y)}for(let _=0;_<=n;_++){const b=r+_*u*i,w=Math.sin(b),E=Math.cos(b);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*w,f.y=e[M].y,f.z=e[M].x*E,a.push(f.x,f.y,f.z),d.x=_/n,d.y=M/(e.length-1),s.push(d.x,d.y);const A=l[3*M+0]*w,P=l[3*M+1],R=l[3*M+0]*E;c.push(A,P,R)}}for(let _=0;_<n;_++)for(let b=0;b<e.length-1;b++){const w=b+_*e.length,E=w,M=w+e.length,A=w+e.length+1,P=w+1;o.push(E,M,P),o.push(A,P,M)}this.setIndex(o),this.setAttribute("position",new gt(a,3)),this.setAttribute("uv",new gt(s,2)),this.setAttribute("normal",new gt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q0(e.points,e.segments,e.phiStart,e.phiLength)}}class EM extends q0{constructor(e=1,n=1,r=4,i=8){const o=new f0;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new EM(e.radius,e.length,e.capSegments,e.radialSegments)}}class MM extends Yt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new ne,u=new $e;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[d]/e+1)/2,u.y=(a[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new gt(a,3)),this.setAttribute("normal",new gt(s,3)),this.setAttribute("uv",new gt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Jm extends Yt{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],f=[],d=[],h=[];let y=0;const x=[],v=r/2;let m=0;_(),a===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new gt(f,3)),this.setAttribute("normal",new gt(d,3)),this.setAttribute("uv",new gt(h,2));function _(){const w=new ne,E=new ne;let M=0;const A=(n-e)/r;for(let P=0;P<=o;P++){const R=[],O=P/o,N=O*(n-e)+e;for(let L=0;L<=i;L++){const j=L/i,U=j*l+s,H=Math.sin(U),z=Math.cos(U);E.x=N*H,E.y=-O*r+v,E.z=N*z,f.push(E.x,E.y,E.z),w.set(H,A,z).normalize(),d.push(w.x,w.y,w.z),h.push(j,1-O),R.push(y++)}x.push(R)}for(let P=0;P<i;P++)for(let R=0;R<o;R++){const O=x[R][P],N=x[R+1][P],L=x[R+1][P+1],j=x[R][P+1];(e>0||R!==0)&&(u.push(O,N,j),M+=3),(n>0||R!==o-1)&&(u.push(N,L,j),M+=3)}c.addGroup(m,M,0),m+=M}function b(w){const E=y,M=new $e,A=new ne;let P=0;const R=w===!0?e:n,O=w===!0?1:-1;for(let L=1;L<=i;L++)f.push(0,v*O,0),d.push(0,O,0),h.push(.5,.5),y++;const N=y;for(let L=0;L<=i;L++){const U=L/i*l+s,H=Math.cos(U),z=Math.sin(U);A.x=R*z,A.y=v*O,A.z=R*H,f.push(A.x,A.y,A.z),d.push(0,O,0),M.x=H*.5+.5,M.y=z*.5*O+.5,h.push(M.x,M.y),y++}for(let L=0;L<i;L++){const j=E+L,U=N+L;w===!0?u.push(U,U+1,j):u.push(U+1,U,j),P+=3}c.addGroup(m,P,w===!0?1:2),m+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class TM extends Jm{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new TM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ku extends Yt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),u(),this.setAttribute("position",new gt(o,3)),this.setAttribute("normal",new gt(o.slice(),3)),this.setAttribute("uv",new gt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(_){const b=new ne,w=new ne,E=new ne;for(let M=0;M<n.length;M+=3)h(n[M+0],b),h(n[M+1],w),h(n[M+2],E),l(b,w,E,_)}function l(_,b,w,E){const M=E+1,A=[];for(let P=0;P<=M;P++){A[P]=[];const R=_.clone().lerp(w,P/M),O=b.clone().lerp(w,P/M),N=M-P;for(let L=0;L<=N;L++)L===0&&P===M?A[P][L]=R:A[P][L]=R.clone().lerp(O,L/N)}for(let P=0;P<M;P++)for(let R=0;R<2*(M-P)-1;R++){const O=Math.floor(R/2);R%2===0?(d(A[P][O+1]),d(A[P+1][O]),d(A[P][O])):(d(A[P][O+1]),d(A[P+1][O+1]),d(A[P+1][O]))}}function c(_){const b=new ne;for(let w=0;w<o.length;w+=3)b.x=o[w+0],b.y=o[w+1],b.z=o[w+2],b.normalize().multiplyScalar(_),o[w+0]=b.x,o[w+1]=b.y,o[w+2]=b.z}function u(){const _=new ne;for(let b=0;b<o.length;b+=3){_.x=o[b+0],_.y=o[b+1],_.z=o[b+2];const w=v(_)/2/Math.PI+.5,E=m(_)/Math.PI+.5;a.push(w,1-E)}y(),f()}function f(){for(let _=0;_<a.length;_+=6){const b=a[_+0],w=a[_+2],E=a[_+4],M=Math.max(b,w,E),A=Math.min(b,w,E);M>.9&&A<.1&&(b<.2&&(a[_+0]+=1),w<.2&&(a[_+2]+=1),E<.2&&(a[_+4]+=1))}}function d(_){o.push(_.x,_.y,_.z)}function h(_,b){const w=_*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function y(){const _=new ne,b=new ne,w=new ne,E=new ne,M=new $e,A=new $e,P=new $e;for(let R=0,O=0;R<o.length;R+=9,O+=6){_.set(o[R+0],o[R+1],o[R+2]),b.set(o[R+3],o[R+4],o[R+5]),w.set(o[R+6],o[R+7],o[R+8]),M.set(a[O+0],a[O+1]),A.set(a[O+2],a[O+3]),P.set(a[O+4],a[O+5]),E.copy(_).add(b).add(w).divideScalar(3);const N=v(E);x(M,O+0,_,N),x(A,O+2,b,N),x(P,O+4,w,N)}}function x(_,b,w,E){E<0&&_.x===1&&(a[b]=_.x-1),w.x===0&&w.z===0&&(a[b]=E/2/Math.PI+.5)}function v(_){return Math.atan2(_.z,-_.x)}function m(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ku(e.vertices,e.indices,e.radius,e.details)}}class AM extends ku{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new AM(e.radius,e.detail)}}const db=new ne,hb=new ne,UP=new ne,pb=new xo;class RY extends Yt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(ad*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},h=[];for(let y=0;y<l;y+=3){a?(c[0]=a.getX(y),c[1]=a.getX(y+1),c[2]=a.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:x,b:v,c:m}=pb;if(x.fromBufferAttribute(s,c[0]),v.fromBufferAttribute(s,c[1]),m.fromBufferAttribute(s,c[2]),pb.getNormal(UP),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,w=f[_],E=f[b],M=pb[u[_]],A=pb[u[b]],P=`${w}_${E}`,R=`${E}_${w}`;R in d&&d[R]?(UP.dot(d[R].normal)<=o&&(h.push(M.x,M.y,M.z),h.push(A.x,A.y,A.z)),d[R]=null):P in d||(d[P]={index0:c[_],index1:c[b],normal:UP.clone()})}}for(const y in d)if(d[y]){const{index0:x,index1:v}=d[y];db.fromBufferAttribute(s,x),hb.fromBufferAttribute(s,v),h.push(db.x,db.y,db.z),h.push(hb.x,hb.y,hb.z)}this.setAttribute("position",new gt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ld extends f0{constructor(e){super(e),this.uuid=Qo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new f0().fromJSON(i))}return this}}const Oje={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=IY(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,f,d,h;if(r&&(o=Lje(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(let y=n;y<i;y+=n)f=t[y],d=t[y+1],f<s&&(s=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);h=Math.max(c-s,u-l),h=h!==0?32767/h:0}return d0(o,a,n,s,l,h,0),a}};function IY(t,e,n,r,i){let o,a;if(i===Wje(t,e,n,r)>0)for(o=e;o<n;o+=r)a=f5(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=f5(o,t[o],t[o+1],a);return a&&PM(a,a.next)&&(p0(a),a=a.next),a}function Dd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(PM(n,n.next)||nr(n.prev,n,n.next)===0)){if(p0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function d0(t,e,n,r,i,o,a){if(!t)return;!a&&o&&zje(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?Ije(t,r,i,o):Rje(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),p0(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=Nje(Dd(t),e,n),d0(t,e,n,r,i,o,2)):a===2&&Dje(t,e,n,r,i,o):d0(Dd(t),e,n,r,i,o,1);break}}}function Rje(t){const e=t.prev,n=t,r=t.next;if(nr(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,f=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,h=s>l?s>c?s:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=d&&y.y>=f&&y.y<=h&&pp(i,s,o,l,a,c,y.x,y.y)&&nr(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Ije(t,e,n,r){const i=t.prev,o=t,a=t.next;if(nr(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,f=o.y,d=a.y,h=s<l?s<c?s:c:l<c?l:c,y=u<f?u<d?u:d:f<d?f:d,x=s>l?s>c?s:c:l>c?l:c,v=u>f?u>d?u:d:f>d?f:d,m=iR(h,y,e,n,r),_=iR(x,v,e,n,r);let b=t.prevZ,w=t.nextZ;for(;b&&b.z>=m&&w&&w.z<=_;){if(b.x>=h&&b.x<=x&&b.y>=y&&b.y<=v&&b!==i&&b!==a&&pp(s,u,l,f,c,d,b.x,b.y)&&nr(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=h&&w.x<=x&&w.y>=y&&w.y<=v&&w!==i&&w!==a&&pp(s,u,l,f,c,d,w.x,w.y)&&nr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=m;){if(b.x>=h&&b.x<=x&&b.y>=y&&b.y<=v&&b!==i&&b!==a&&pp(s,u,l,f,c,d,b.x,b.y)&&nr(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=_;){if(w.x>=h&&w.x<=x&&w.y>=y&&w.y<=v&&w!==i&&w!==a&&pp(s,u,l,f,c,d,w.x,w.y)&&nr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Nje(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!PM(i,o)&&NY(i,r,r.next,o)&&h0(i,o)&&h0(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),p0(r),p0(r.next),r=t=o),r=r.next}while(r!==t);return Dd(r)}function Dje(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Vje(a,s)){let l=DY(a,s);a=Dd(a,a.next),l=Dd(l,l.next),d0(a,e,n,r,i,o,0),d0(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function Lje(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=IY(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push($je(c));for(i.sort(kje),o=0;o<i.length;o++)n=Uje(i[o],n);return n}function kje(t,e){return t.x-e.x}function Uje(t,e){const n=Fje(t,e);if(!n)return e;const r=DY(n,t);return Dd(r,r.next),Dd(n,n.next)}function Fje(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const d=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let u=1/0,f;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&pp(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),h0(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&jje(i,n)))&&(i=n,u=f)),n=n.next;while(n!==s);return i}function jje(t,e){return nr(t.prev,t,e.prev)<0&&nr(e.next,t,t.next)<0}function zje(t,e,n,r){let i=t;do i.z===0&&(i.z=iR(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Bje(i)}function Bje(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function iR(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $je(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function pp(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Vje(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Hje(t,e)&&(h0(t,e)&&h0(e,t)&&Gje(t,e)&&(nr(t.prev,t,e.prev)||nr(t,e.prev,e))||PM(t,e)&&nr(t.prev,t,t.next)>0&&nr(e.prev,e,e.next)>0)}function nr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function PM(t,e){return t.x===e.x&&t.y===e.y}function NY(t,e,n,r){const i=gb(nr(t,e,n)),o=gb(nr(t,e,r)),a=gb(nr(n,r,t)),s=gb(nr(n,r,e));return!!(i!==o&&a!==s||i===0&&mb(t,n,e)||o===0&&mb(t,r,e)||a===0&&mb(n,t,r)||s===0&&mb(n,e,r))}function mb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function gb(t){return t>0?1:t<0?-1:0}function Hje(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&NY(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function h0(t,e){return nr(t.prev,t,t.next)<0?nr(t,e,t.next)>=0&&nr(t,t.prev,e)>=0:nr(t,e,t.prev)<0||nr(t,t.next,e)<0}function Gje(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function DY(t,e){const n=new oR(t.i,t.x,t.y),r=new oR(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function f5(t,e,n,r){const i=new oR(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function p0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function oR(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Wje(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Js{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Js.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];d5(e),h5(r,e);let a=e.length;n.forEach(d5);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,h5(r,n[l]);const s=Oje.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function d5(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function h5(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class CM extends Yt{constructor(e=new ld([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new gt(i,3)),this.setAttribute("uv",new gt(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:h-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:Xje;let b,w=!1,E,M,A,P;m&&(b=m.getSpacedPoints(u),w=!0,d=!1,E=m.computeFrenetFrames(u,!1),M=new ne,A=new ne,P=new ne),d||(v=0,h=0,y=0,x=0);const R=s.extractPoints(c);let O=R.shape;const N=R.holes;if(!Js.isClockWise(O)){O=O.reverse();for(let K=0,de=N.length;K<de;K++){const q=N[K];Js.isClockWise(q)&&(N[K]=q.reverse())}}const j=Js.triangulateShape(O,N),U=O;for(let K=0,de=N.length;K<de;K++){const q=N[K];O=O.concat(q)}function H(K,de,q){return de||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(de,q)}const z=O.length,Q=j.length;function k(K,de,q){let Pe,be,Re;const me=K.x-de.x,Fe=K.y-de.y,Ce=q.x-K.x,G=q.y-K.y,V=me*me+Fe*Fe,se=me*G-Fe*Ce;if(Math.abs(se)>Number.EPSILON){const pe=Math.sqrt(V),_e=Math.sqrt(Ce*Ce+G*G),Me=de.x-Fe/pe,Be=de.y+me/pe,De=q.x-G/_e,He=q.y+Ce/_e,it=((De-Me)*G-(He-Be)*Ce)/(me*G-Fe*Ce);Pe=Me+me*it-K.x,be=Be+Fe*it-K.y;const Ue=Pe*Pe+be*be;if(Ue<=2)return new $e(Pe,be);Re=Math.sqrt(Ue/2)}else{let pe=!1;me>Number.EPSILON?Ce>Number.EPSILON&&(pe=!0):me<-Number.EPSILON?Ce<-Number.EPSILON&&(pe=!0):Math.sign(Fe)===Math.sign(G)&&(pe=!0),pe?(Pe=-Fe,be=me,Re=Math.sqrt(V)):(Pe=me,be=Fe,Re=Math.sqrt(V/2))}return new $e(Pe/Re,be/Re)}const B=[];for(let K=0,de=U.length,q=de-1,Pe=K+1;K<de;K++,q++,Pe++)q===de&&(q=0),Pe===de&&(Pe=0),B[K]=k(U[K],U[q],U[Pe]);const W=[];let $,Y=B.concat();for(let K=0,de=N.length;K<de;K++){const q=N[K];$=[];for(let Pe=0,be=q.length,Re=be-1,me=Pe+1;Pe<be;Pe++,Re++,me++)Re===be&&(Re=0),me===be&&(me=0),$[Pe]=k(q[Pe],q[Re],q[me]);W.push($),Y=Y.concat($)}for(let K=0;K<v;K++){const de=K/v,q=h*Math.cos(de*Math.PI/2),Pe=y*Math.sin(de*Math.PI/2)+x;for(let be=0,Re=U.length;be<Re;be++){const me=H(U[be],B[be],Pe);ee(me.x,me.y,-q)}for(let be=0,Re=N.length;be<Re;be++){const me=N[be];$=W[be];for(let Fe=0,Ce=me.length;Fe<Ce;Fe++){const G=H(me[Fe],$[Fe],Pe);ee(G.x,G.y,-q)}}}const J=y+x;for(let K=0;K<z;K++){const de=d?H(O[K],Y[K],J):O[K];w?(A.copy(E.normals[0]).multiplyScalar(de.x),M.copy(E.binormals[0]).multiplyScalar(de.y),P.copy(b[0]).add(A).add(M),ee(P.x,P.y,P.z)):ee(de.x,de.y,0)}for(let K=1;K<=u;K++)for(let de=0;de<z;de++){const q=d?H(O[de],Y[de],J):O[de];w?(A.copy(E.normals[K]).multiplyScalar(q.x),M.copy(E.binormals[K]).multiplyScalar(q.y),P.copy(b[K]).add(A).add(M),ee(P.x,P.y,P.z)):ee(q.x,q.y,f/u*K)}for(let K=v-1;K>=0;K--){const de=K/v,q=h*Math.cos(de*Math.PI/2),Pe=y*Math.sin(de*Math.PI/2)+x;for(let be=0,Re=U.length;be<Re;be++){const me=H(U[be],B[be],Pe);ee(me.x,me.y,f+q)}for(let be=0,Re=N.length;be<Re;be++){const me=N[be];$=W[be];for(let Fe=0,Ce=me.length;Fe<Ce;Fe++){const G=H(me[Fe],$[Fe],Pe);w?ee(G.x,G.y+b[u-1].y,b[u-1].x+q):ee(G.x,G.y,f+q)}}}X(),te();function X(){const K=i.length/3;if(d){let de=0,q=z*de;for(let Pe=0;Pe<Q;Pe++){const be=j[Pe];le(be[2]+q,be[1]+q,be[0]+q)}de=u+v*2,q=z*de;for(let Pe=0;Pe<Q;Pe++){const be=j[Pe];le(be[0]+q,be[1]+q,be[2]+q)}}else{for(let de=0;de<Q;de++){const q=j[de];le(q[2],q[1],q[0])}for(let de=0;de<Q;de++){const q=j[de];le(q[0]+z*u,q[1]+z*u,q[2]+z*u)}}r.addGroup(K,i.length/3-K,0)}function te(){const K=i.length/3;let de=0;ie(U,de),de+=U.length;for(let q=0,Pe=N.length;q<Pe;q++){const be=N[q];ie(be,de),de+=be.length}r.addGroup(K,i.length/3-K,1)}function ie(K,de){let q=K.length;for(;--q>=0;){const Pe=q;let be=q-1;be<0&&(be=K.length-1);for(let Re=0,me=u+v*2;Re<me;Re++){const Fe=z*Re,Ce=z*(Re+1),G=de+Pe+Fe,V=de+be+Fe,se=de+be+Ce,pe=de+Pe+Ce;ue(G,V,se,pe)}}}function ee(K,de,q){l.push(K),l.push(de),l.push(q)}function le(K,de,q){he(K),he(de),he(q);const Pe=i.length/3,be=_.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);fe(be[0]),fe(be[1]),fe(be[2])}function ue(K,de,q,Pe){he(K),he(de),he(Pe),he(de),he(q),he(Pe);const be=i.length/3,Re=_.generateSideWallUV(r,i,be-6,be-3,be-2,be-1);fe(Re[0]),fe(Re[1]),fe(Re[3]),fe(Re[1]),fe(Re[2]),fe(Re[3])}function he(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function fe(K){o.push(K.x),o.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return qje(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Tw[i.type]().fromJSON(i)),new CM(r,e.options)}}const Xje={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new $e(o,a),new $e(s,l),new $e(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],y=e[i*3+2],x=e[o*3],v=e[o*3+1],m=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new $e(a,1-l),new $e(c,1-f),new $e(d,1-y),new $e(x,1-m)]:[new $e(s,1-l),new $e(u,1-f),new $e(h,1-y),new $e(v,1-m)]}};function qje(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class OM extends ku{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OM(e.radius,e.detail)}}class Y0 extends ku{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Y0(e.radius,e.detail)}}class RM extends Yt{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],u=[];let f=e;const d=(n-e)/i,h=new ne,y=new $e;for(let x=0;x<=i;x++){for(let v=0;v<=r;v++){const m=o+v/r*a;h.x=f*Math.cos(m),h.y=f*Math.sin(m),l.push(h.x,h.y,h.z),c.push(0,0,1),y.x=(h.x/n+1)/2,y.y=(h.y/n+1)/2,u.push(y.x,y.y)}f+=d}for(let x=0;x<i;x++){const v=x*(r+1);for(let m=0;m<r;m++){const _=m+v,b=_,w=_+r+1,E=_+r+2,M=_+1;s.push(b,w,M),s.push(w,E,M)}}this.setIndex(s),this.setAttribute("position",new gt(l,3)),this.setAttribute("normal",new gt(c,3)),this.setAttribute("uv",new gt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class IM extends Yt{constructor(e=new ld([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new gt(i,3)),this.setAttribute("normal",new gt(o,3)),this.setAttribute("uv",new gt(a,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let h=d.shape;const y=d.holes;Js.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,m=y.length;v<m;v++){const _=y[v];Js.isClockWise(_)===!0&&(y[v]=_.reverse())}const x=Js.triangulateShape(h,y);for(let v=0,m=y.length;v<m;v++){const _=y[v];h=h.concat(_)}for(let v=0,m=h.length;v<m;v++){const _=h[v];i.push(_.x,_.y,0),o.push(0,0,1),a.push(_.x,_.y)}for(let v=0,m=x.length;v<m;v++){const _=x[v],b=_[0]+f,w=_[1]+f,E=_[2]+f;r.push(b,w,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Yje(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new IM(r,e.curveSegments)}}function Yje(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class K0 extends Yt{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],f=new ne,d=new ne,h=[],y=[],x=[],v=[];for(let m=0;m<=r;m++){const _=[],b=m/r;let w=0;m===0&&a===0?w=.5/n:m===r&&l===Math.PI&&(w=-.5/n);for(let E=0;E<=n;E++){const M=E/n;f.x=-e*Math.cos(i+M*o)*Math.sin(a+b*s),f.y=e*Math.cos(a+b*s),f.z=e*Math.sin(i+M*o)*Math.sin(a+b*s),y.push(f.x,f.y,f.z),d.copy(f).normalize(),x.push(d.x,d.y,d.z),v.push(M+w,1-b),_.push(c++)}u.push(_)}for(let m=0;m<r;m++)for(let _=0;_<n;_++){const b=u[m][_+1],w=u[m][_],E=u[m+1][_],M=u[m+1][_+1];(m!==0||a>0)&&h.push(b,w,M),(m!==r-1||l<Math.PI)&&h.push(w,E,M)}this.setIndex(h),this.setAttribute("position",new gt(y,3)),this.setAttribute("normal",new gt(x,3)),this.setAttribute("uv",new gt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new K0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class NM extends ku{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new NM(e.radius,e.detail)}}class DM extends Yt{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],u=new ne,f=new ne,d=new ne;for(let h=0;h<=r;h++)for(let y=0;y<=i;y++){const x=y/i*o,v=h/r*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(x),f.y=(e+n*Math.cos(v))*Math.sin(x),f.z=n*Math.sin(v),s.push(f.x,f.y,f.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(y/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let y=1;y<=i;y++){const x=(i+1)*h+y-1,v=(i+1)*(h-1)+y-1,m=(i+1)*(h-1)+y,_=(i+1)*h+y;a.push(x,v,_),a.push(v,m,_)}this.setIndex(a),this.setAttribute("position",new gt(s,3)),this.setAttribute("normal",new gt(l,3)),this.setAttribute("uv",new gt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class LM extends Yt{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],u=[],f=new ne,d=new ne,h=new ne,y=new ne,x=new ne,v=new ne,m=new ne;for(let b=0;b<=r;++b){const w=b/r*o*Math.PI*2;_(w,o,a,e,h),_(w+.01,o,a,e,y),v.subVectors(y,h),m.addVectors(y,h),x.crossVectors(v,m),m.crossVectors(x,v),x.normalize(),m.normalize();for(let E=0;E<=i;++E){const M=E/i*Math.PI*2,A=-n*Math.cos(M),P=n*Math.sin(M);f.x=h.x+(A*m.x+P*x.x),f.y=h.y+(A*m.y+P*x.y),f.z=h.z+(A*m.z+P*x.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),u.push(b/r),u.push(E/i)}}for(let b=1;b<=r;b++)for(let w=1;w<=i;w++){const E=(i+1)*(b-1)+(w-1),M=(i+1)*b+(w-1),A=(i+1)*b+w,P=(i+1)*(b-1)+w;s.push(E,M,P),s.push(M,A,P)}this.setIndex(s),this.setAttribute("position",new gt(l,3)),this.setAttribute("normal",new gt(c,3)),this.setAttribute("uv",new gt(u,2));function _(b,w,E,M,A){const P=Math.cos(b),R=Math.sin(b),O=E/w*b,N=Math.cos(O);A.x=M*(2+N)*.5*P,A.y=M*(2+N)*R*.5,A.z=M*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class kM extends Yt{constructor(e=new VD(new ne(-1,-1,0),new ne(-1,1,0),new ne(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new ne,l=new ne,c=new $e;let u=new ne;const f=[],d=[],h=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new gt(f,3)),this.setAttribute("normal",new gt(d,3)),this.setAttribute("uv",new gt(h,2));function x(){for(let b=0;b<n;b++)v(b);v(o===!1?n:0),_(),m()}function v(b){u=e.getPointAt(b/n,u);const w=a.normals[b],E=a.binormals[b];for(let M=0;M<=i;M++){const A=M/i*Math.PI*2,P=Math.sin(A),R=-Math.cos(A);l.x=R*w.x+P*E.x,l.y=R*w.y+P*E.y,l.z=R*w.z+P*E.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,f.push(s.x,s.y,s.z)}}function m(){for(let b=1;b<=n;b++)for(let w=1;w<=i;w++){const E=(i+1)*(b-1)+(w-1),M=(i+1)*b+(w-1),A=(i+1)*b+w,P=(i+1)*(b-1)+w;y.push(E,M,P),y.push(M,A,P)}}function _(){for(let b=0;b<=n;b++)for(let w=0;w<=i;w++)c.x=b/n,c.y=w/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new kM(new Tw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class GD extends Yt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ne,o=new ne;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let y=d,x=d+h;y<x;y+=3)for(let v=0;v<3;v++){const m=s.getX(y+v),_=s.getX(y+(v+1)%3);i.fromBufferAttribute(a,m),o.fromBufferAttribute(a,_),p5(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,f=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,f),p5(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new gt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function p5(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var m5=Object.freeze({__proto__:null,BoxGeometry:Wd,CapsuleGeometry:EM,CircleGeometry:MM,ConeGeometry:TM,CylinderGeometry:Jm,DodecahedronGeometry:AM,EdgesGeometry:RY,ExtrudeGeometry:CM,IcosahedronGeometry:OM,LatheGeometry:q0,OctahedronGeometry:Y0,PlaneGeometry:vc,PolyhedronGeometry:ku,RingGeometry:RM,ShapeGeometry:IM,SphereGeometry:K0,TetrahedronGeometry:NM,TorusGeometry:DM,TorusKnotGeometry:LM,TubeGeometry:kM,WireframeGeometry:GD});class LY extends zi{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new at(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kY extends Pa{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class WD extends zi{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new at(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UY extends WD{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new at(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new at(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new at(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class FY extends zi{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jo,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jY extends zi{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new at(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class zY extends zi{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class BY extends zi{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jo,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $Y extends zi{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new at(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VY extends lo{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Vf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function HY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function GY(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function aR(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function XD(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function Kje(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const y=c.times[h]*i;if(!(y<n||y>=r)){f.push(c.times[h]);for(let x=0;x<u;++x)d.push(c.values[h*u+x])}}f.length!==0&&(c.times=Vf(f,c.times.constructor),c.values=Vf(d,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function Qje(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(m){return m.name===s.name&&m.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const y=s.times.length-1;let x;if(o<=s.times[0]){const m=u,_=f-u;x=s.values.slice(m,_)}else if(o>=s.times[y]){const m=y*f+u,_=m+f-u;x=s.values.slice(m,_)}else{const m=s.createInterpolant(),_=u,b=f-u;m.evaluate(o),x=m.resultBuffer.slice(_,b)}l==="quaternion"&&new Fi().fromArray(x).normalize().conjugate().toArray(x);const v=c.times.length;for(let m=0;m<v;++m){const _=m*h+d;if(l==="quaternion")Fi.multiplyQuaternionsFlat(c.values,_,x,0,c.values,_);else{const b=h-d*2;for(let w=0;w<b;++w)c.values[_+w]-=x[w]}}}return t.blendMode=TD,t}const Zje={convertArray:Vf,isTypedArray:HY,getKeyframeOrder:GY,sortedArray:aR,flattenJSON:XD,subclip:Kje,makeClipAdditive:Qje};class Q0{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WY extends Q0{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:zf,endingEnd:zf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Bf:o=e,s=2*n-r;break;case a0:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Bf:a=e,l=2*r-n;break;case a0:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,y=(r-n)/(i-n),x=y*y,v=x*y,m=-d*v+2*d*x-d*y,_=(1+d)*v+(-1.5-2*d)*x+(-.5+d)*y+1,b=(-1-h)*v+(1.5+h)*x+.5*y,w=h*v-h*x;for(let E=0;E!==s;++E)o[E]=m*a[u+E]+_*a[c+E]+b*a[l+E]+w*a[f+E];return o}}class qD extends Q0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==s;++d)o[d]=a[c+d]*f+a[l+d]*u;return o}}class XY extends Q0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ys{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vf(n,this.TimeBufferType),this.values=Vf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Vf(e.times,Array),values:Vf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new XY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new WY(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case o0:n=this.InterpolantFactoryMethodDiscrete;break;case ww:n=this.InterpolantFactoryMethodLinear;break;case Jb:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return o0;case this.InterpolantFactoryMethodLinear:return ww;case this.InterpolantFactoryMethodSmooth:return Jb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&HY(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Jb,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],u=e[s+1];if(c!==u&&(s!==1||c!==e[0]))if(i)l=!0;else{const f=s*r,d=f-r,h=f+r;for(let y=0;y!==r;++y){const x=n[f+y];if(x!==n[d+y]||x!==n[h+y]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,d=a*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ys.prototype.TimeBufferType=Float32Array;ys.prototype.ValueBufferType=Float32Array;ys.prototype.DefaultInterpolation=ww;class Xd extends ys{constructor(e,n,r){super(e,n,r)}}Xd.prototype.ValueTypeName="bool";Xd.prototype.ValueBufferType=Array;Xd.prototype.DefaultInterpolation=o0;Xd.prototype.InterpolantFactoryMethodLinear=void 0;Xd.prototype.InterpolantFactoryMethodSmooth=void 0;class YD extends ys{}YD.prototype.ValueTypeName="color";class m0 extends ys{}m0.prototype.ValueTypeName="number";class qY extends Q0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let u=c+s;c!==u;c+=4)Fi.slerpFlat(o,0,a,c-s,a,c,l);return o}}class Z0 extends ys{InterpolantFactoryMethodLinear(e){return new qY(this.times,this.values,this.getValueSize(),e)}}Z0.prototype.ValueTypeName="quaternion";Z0.prototype.InterpolantFactoryMethodSmooth=void 0;class qd extends ys{constructor(e,n,r){super(e,n,r)}}qd.prototype.ValueTypeName="string";qd.prototype.ValueBufferType=Array;qd.prototype.DefaultInterpolation=o0;qd.prototype.InterpolantFactoryMethodLinear=void 0;qd.prototype.InterpolantFactoryMethodSmooth=void 0;class g0 extends ys{}g0.prototype.ValueTypeName="vector";class v0{constructor(e="",n=-1,r=[],i=hM){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Qo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(eze(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(ys.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const u=GY(l);l=aR(l,1,u),c=aR(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new m0(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.name.match(o);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,y,x){if(h.length!==0){const v=[],m=[];XD(h,v,m,y),v.length!==0&&x.push(new f(d,v,m))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let y;for(y=0;y<d.length;y++)if(d[y].morphTargets)for(let x=0;x<d[y].morphTargets.length;x++)h[d[y].morphTargets[x]]=-1;for(const x in h){const v=[],m=[];for(let _=0;_!==d[y].morphTargets.length;++_){const b=d[y];v.push(b.time),m.push(b.morphTarget===x?1:0)}i.push(new m0(".morphTargetInfluence["+x+"]",v,m))}l=h.length*a}else{const h=".bones["+n[f].name+"]";r(g0,h+".position",d,"pos",i),r(Z0,h+".quaternion",d,"rot",i),r(g0,h+".scale",d,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Jje(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return m0;case"vector":case"vector2":case"vector3":case"vector4":return g0;case"color":return YD;case"quaternion":return Z0;case"bool":case"boolean":return Xd;case"string":return qd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function eze(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Jje(t.type);if(t.times===void 0){const n=[],r=[];XD(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const $l={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class KD{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const h=c[f],y=c[f+1];if(h.global&&(h.lastIndex=0),h.test(u))return y}return null}}}const YY=new KD;class Ao{constructor(e){this.manager=e!==void 0?e:YY,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ao.DEFAULT_MATERIAL_NAME="__DEFAULT";const Al={};class tze extends Error{constructor(e,n){super(e),this.response=n}}class cc extends Ao{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=$l.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Al[e]!==void 0){Al[e].push({onLoad:n,onProgress:r,onError:i});return}Al[e]=[],Al[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Al[e],f=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=d?parseInt(d):0,y=h!==0;let x=0;const v=new ReadableStream({start(m){_();function _(){f.read().then(({done:b,value:w})=>{if(b)m.close();else{x+=w.byteLength;const E=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:h});for(let M=0,A=u.length;M<A;M++){const P=u[M];P.onProgress&&P.onProgress(E)}m.enqueue(w),_()}},b=>{m.error(b)})}}});return new Response(v)}else throw new tze(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,s));case"json":return c.json();default:if(s===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(y=>h.decode(y))}}}).then(c=>{$l.add(e,c);const u=Al[e];delete Al[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=Al[e];if(u===void 0)throw this.manager.itemError(e),c;delete Al[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class nze extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new cc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=v0.parse(e[r]);n.push(i)}return n}}class rze extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new SM,l=new cc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const h=o.parse(d,!0);a[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(s.minFilter=wr),s.image=a,s.format=h.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let y=0;y<h;y++){a[y]={mipmaps:[]};for(let x=0;x<d.mipmapCount;x++)a[y].mipmaps.push(d.mipmaps[y*d.mipmapCount+x]),a[y].format=d.format,a[y].width=d.width,a[y].height=d.height}s.image=a}else s.image.width=d.width,s.image.height=d.height,s.mipmaps=d.mipmaps;d.mipmapCount===1&&(s.minFilter=wr),s.format=d.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class y0 extends Ao{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=$l.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=c0("img");function l(){u(),$l.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(f){u(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class ize extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=new W0;o.colorSpace=vo;const a=new y0(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(u){o.images[c]=u,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class oze extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Zs,s=new cc(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Sa,a.wrapT=c.wrapT!==void 0?c.wrapT:Sa,a.magFilter=c.magFilter!==void 0?c.magFilter:wr,a.minFilter=c.minFilter!==void 0?c.minFilter:wr,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Bs),c.mipmapCount===1&&(a.minFilter=wr),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class aze extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=new ir,a=new y0(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Uu extends dn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new at(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class KY extends Uu{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new at(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const FP=new Ct,g5=new ne,v5=new ne;class QD{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.map=null,this.mapPass=null,this.matrix=new Ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new X0,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;g5.setFromMatrixPosition(e.matrixWorld),n.position.copy(g5),v5.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(v5),n.updateMatrixWorld(),FP.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(FP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sze extends QD{constructor(){super(new _r(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Em*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class QY extends Uu{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new sze}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const y5=new Ct,iv=new ne,jP=new ne;class lze extends QD{constructor(){super(new _r(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),iv.setFromMatrixPosition(e.matrixWorld),r.position.copy(iv),jP.copy(r.position),jP.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(jP),r.updateMatrixWorld(),i.makeTranslation(-iv.x,-iv.y,-iv.z),y5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(y5)}}class ZY extends Uu{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new lze}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class cze extends QD{constructor(){super(new gu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class JY extends Uu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.shadow=new cze}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class eK extends Uu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class tK extends Uu{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class nK{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class rK extends Uu{constructor(e=new nK,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class UM extends Ao{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new cc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new at().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new at().setHex(a.value);break;case"v2":i.uniforms[o].value=new $e().fromArray(a.value);break;case"v3":i.uniforms[o].value=new ne().fromArray(a.value);break;case"v4":i.uniforms[o].value=new qt().fromArray(a.value);break;case"m3":i.uniforms[o].value=new jt().fromArray(a.value);break;case"m4":i.uniforms[o].value=new Ct().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new $e().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return UM.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:LY,SpriteMaterial:kD,RawShaderMaterial:kY,ShaderMaterial:Pa,PointsMaterial:FD,MeshPhysicalMaterial:UY,MeshStandardMaterial:WD,MeshPhongMaterial:FY,MeshToonMaterial:jY,MeshNormalMaterial:zY,MeshLambertMaterial:BY,MeshDepthMaterial:gM,MeshDistanceMaterial:vM,MeshBasicMaterial:gc,MeshMatcapMaterial:$Y,LineDashedMaterial:VY,LineBasicMaterial:lo,Material:zi};return new n[e]}}class sR{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class FM extends Yt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class iK extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new cc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,y){if(n[y]!==void 0)return n[y];const v=h.interleavedBuffers[y],m=o(h,v.buffer),_=fp(v.type,m),b=new bM(_,v.stride);return b.uuid=v.uuid,n[y]=b,b}function o(h,y){if(r[y]!==void 0)return r[y];const v=h.arrayBuffers[y],m=new Uint32Array(v).buffer;return r[y]=m,m}const a=e.isInstancedBufferGeometry?new FM:new Yt,s=e.data.index;if(s!==void 0){const h=fp(s.type,s.array);a.setIndex(new An(h,1))}const l=e.data.attributes;for(const h in l){const y=l[h];let x;if(y.isInterleavedBufferAttribute){const v=i(e.data,y.data);x=new Wo(v,y.itemSize,y.offset,y.normalized)}else{const v=fp(y.type,y.array),m=y.isInstancedBufferAttribute?Nd:An;x=new m(v,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),a.setAttribute(h,x)}const c=e.data.morphAttributes;if(c)for(const h in c){const y=c[h],x=[];for(let v=0,m=y.length;v<m;v++){const _=y[v];let b;if(_.isInterleavedBufferAttribute){const w=i(e.data,_.data);b=new Wo(w,_.itemSize,_.offset,_.normalized)}else{const w=fp(_.type,_.array);b=new An(w,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),x.push(b)}a.morphAttributes[h]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,y=f.length;h!==y;++h){const x=f[h];a.addGroup(x.start,x.count,x.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const h=new ne;d.center!==void 0&&h.fromArray(d.center),a.boundingSphere=new Hr(h,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class uze extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?sR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new cc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?sR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new cc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let f=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new ld().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new _M().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new iK;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in m5?s=m5[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new UM;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=v0.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:fp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new KD(n);o=new y0(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const h=[];for(let y=0,x=d.length;y<x;y++){const v=d[y],m=s(v);m!==null&&(m instanceof HTMLImageElement?h.push(m):h.push(new Zs(m.data,m.width,m.height)))}i[f.uuid]=new $f(h)}else{const h=s(f.url);i[f.uuid]=new $f(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:fp(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new y0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f],y=await o(h);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new Zs(y.data,y.width,y.height)))}r[l.uuid]=new $f(u)}else{const u=await o(l.url);r[l.uuid]=new $f(u)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let u;Array.isArray(c)?(u=new W0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Zs:u=new ir,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=r(s.mapping,fze)),s.channel!==void 0&&(u.channel=s.channel),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=r(s.wrap[0],x5),u.wrapT=r(s.wrap[1],x5)),s.format!==void 0&&(u.format=s.format),s.internalFormat!==void 0&&(u.internalFormat=s.internalFormat),s.type!==void 0&&(u.type=s.type),s.colorSpace!==void 0&&(u.colorSpace=s.colorSpace),s.minFilter!==void 0&&(u.minFilter=r(s.minFilter,b5)),s.magFilter!==void 0&&(u.magFilter=r(s.magFilter,b5)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.generateMipmaps!==void 0&&(u.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(u.compareFunction=s.compareFunction),s.userData!==void 0&&(u.userData=s.userData),i[s.uuid]=u}return i}parseObject(e,n,r,i,o){let a;function s(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let y=0,x=d.length;y<x;y++){const v=d[y];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),h.push(r[v])}return h}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":a=new LD,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new at(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new xM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new yM(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new _r(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new gu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new eK(e.color,e.intensity);break;case"DirectionalLight":a=new JY(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new ZY(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new tK(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new QY(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new KY(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new rK().fromJSON(e);break;case"SkinnedMesh":u=s(e.geometry),f=l(e.material),a=new _Y(u,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=s(e.geometry),f=l(e.material),a=new Qn(u,f);break;case"InstancedMesh":u=s(e.geometry),f=l(e.material);const d=e.count,h=e.instanceMatrix,y=e.instanceColor;a=new SY(u,f,d),a.instanceMatrix=new Nd(new Float32Array(h.array),16),y!==void 0&&(a.instanceColor=new Nd(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":u=s(e.geometry),f=l(e.material),a=new wY(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(x=>{const v=new Ir;v.min.fromArray(x.boxMin),v.max.fromArray(x.boxMax);const m=new Hr;return m.radius=x.sphereRadius,m.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:v,sphereInitialized:x.sphereInitialized,sphere:m}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new bY;break;case"Line":a=new Mu(s(e.geometry),l(e.material));break;case"LineLoop":a=new EY(s(e.geometry),l(e.material));break;case"LineSegments":a=new ll(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new MY(s(e.geometry),l(e.material));break;case"Sprite":a=new xY(l(e.material));break;case"Group":a=new hp;break;case"Bone":a=new UD;break;default:a=new dn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)a.add(this.parseObject(d[h],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const y=d[h];a.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const y=d[h],x=a.getObjectByProperty("uuid",y.object);x!==void 0&&a.addLevel(x,y.distance,y.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new dn}})}}const fze={UVMapping:aM,CubeReflectionMapping:sc,CubeRefractionMapping:Eu,EquirectangularReflectionMapping:t0,EquirectangularRefractionMapping:n0,CubeUVReflectionMapping:Km},x5={RepeatWrapping:r0,ClampToEdgeWrapping:Sa,MirroredRepeatWrapping:i0},b5={NearestFilter:yi,NearestMipmapNearestFilter:gD,NearestMipmapLinearFilter:up,LinearFilter:wr,LinearMipmapNearestFilter:Uv,LinearMipmapLinearFilter:Bs};class dze extends Ao{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=$l.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return $l.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),$l.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});$l.add(e,l),o.manager.itemStart(e)}}let vb;class ZD{static getContext(){return vb===void 0&&(vb=new(window.AudioContext||window.webkitAudioContext)),vb}static setContext(e){vb=e}}class hze extends Ao{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new cc(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);ZD.getContext().decodeAudioData(c,function(f){n(f)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const _5=new Ct,S5=new Ct,pf=new Ct;class pze{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _r,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _r,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,pf.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(ad*n.fov*.5)/n.zoom;let s,l;S5.elements[12]=-i,_5.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,pf.elements[0]=2*n.near/(l-s),pf.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(pf),s=-a*n.aspect-o,l=a*n.aspect-o,pf.elements[0]=2*n.near/(l-s),pf.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(pf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(S5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_5)}}class JD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=w5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=w5();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function w5(){return performance.now()}const mf=new ne,E5=new Fi,mze=new ne,gf=new ne;class gze extends dn{constructor(){super(),this.type="AudioListener",this.context=ZD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new JD}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mf,E5,mze),gf.set(0,0,-1).applyQuaternion(E5),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(mf.x,i),n.positionY.linearRampToValueAtTime(mf.y,i),n.positionZ.linearRampToValueAtTime(mf.z,i),n.forwardX.linearRampToValueAtTime(gf.x,i),n.forwardY.linearRampToValueAtTime(gf.y,i),n.forwardZ.linearRampToValueAtTime(gf.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(mf.x,mf.y,mf.z),n.setOrientation(gf.x,gf.y,gf.z,r.x,r.y,r.z)}}let oK=class extends dn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const vf=new ne,M5=new Fi,vze=new ne,yf=new ne;class yze extends oK{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vf,M5,vze),yf.set(0,0,1).applyQuaternion(M5);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(vf.x,r),n.positionY.linearRampToValueAtTime(vf.y,r),n.positionZ.linearRampToValueAtTime(vf.z,r),n.orientationX.linearRampToValueAtTime(yf.x,r),n.orientationY.linearRampToValueAtTime(yf.y,r),n.orientationZ.linearRampToValueAtTime(yf.z,r)}else n.setPosition(vf.x,vf.y,vf.z),n.setOrientation(yf.x,yf.y,yf.z)}}class xze{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class aK{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Fi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;Fi.multiplyQuaternionsFlat(e,a,e,n,e,r),Fi.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const eL="\\[\\]\\.:\\/",bze=new RegExp("["+eL+"]","g"),tL="[^"+eL+"]",_ze="[^"+eL.replace("\\.","")+"]",Sze=/((?:WC+[\/:])*)/.source.replace("WC",tL),wze=/(WCOD+)?/.source.replace("WCOD",_ze),Eze=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tL),Mze=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tL),Tze=new RegExp("^"+Sze+wze+Eze+Mze+"$"),Aze=["material","materials","bones","map"];class Pze{constructor(e,n,r){const i=r||un.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class un{constructor(e,n,r){this.path=n,this.parsedPath=r||un.parseTrackName(n),this.node=un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new un.Composite(e,n,r):new un(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(bze,"")}static parseTrackName(e){const n=Tze.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Aze.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=un.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}un.Composite=Pze;un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};un.prototype.GetterByBindingType=[un.prototype._getValue_direct,un.prototype._getValue_array,un.prototype._getValue_arrayElement,un.prototype._getValue_toArray];un.prototype.SetterByBindingTypeAndVersioning=[[un.prototype._setValue_direct,un.prototype._setValue_direct_setNeedsUpdate,un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[un.prototype._setValue_array,un.prototype._setValue_array_setNeedsUpdate,un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[un.prototype._setValue_arrayElement,un.prototype._setValue_arrayElement_setNeedsUpdate,un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[un.prototype._setValue_fromArray,un.prototype._setValue_fromArray_setNeedsUpdate,un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Cze{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],h=d.uuid;let y=n[h];if(y===void 0){y=l++,n[h]=y,e.push(d);for(let x=0,v=a;x!==v;++x)o[x].push(new un(d,r[x],i[x]))}else if(y<c){s=e[y];const x=--c,v=e[x];n[v.uuid]=y,e[y]=v,n[h]=x,e[x]=d;for(let m=0,_=a;m!==_;++m){const b=o[m],w=b[x];let E=b[y];b[y]=w,E===void 0&&(E=new un(d,r[m],i[m])),b[x]=E}}else e[y]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const f=o++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=l;for(let h=0,y=i;h!==y;++h){const x=r[h],v=x[f],m=x[u];x[u]=v,x[f]=m}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<o){const d=--o,h=e[d],y=--a,x=e[y];n[h.uuid]=f,e[f]=h,n[x.uuid]=d,e[d]=x,e.pop();for(let v=0,m=i;v!==m;++v){const _=r[v],b=_[d],w=_[y];_[f]=b,_[d]=w,_.pop()}}else{const d=--a,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let y=0,x=i;y!==x;++y){const v=r[y];v[f]=v[d],v.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let d=u,h=l.length;d!==h;++d){const y=l[d];f[d]=new un(y,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class sK{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:zf,endingEnd:zf};for(let c=0;c!==a;++c){const u=o[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Hq,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case TD:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case hM:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===Gq;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===Vq){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Bf,i.endingEnd=Bf):(e?i.endingStart=this.zeroSlopeAtStart?Bf:zf:i.endingStart=a0,n?i.endingEnd=this.zeroSlopeAtEnd?Bf:zf:i.endingEnd=a0)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const Oze=new Float32Array(1);class Rze extends sl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==o;++f){const d=i[f],h=d.name;let y=u[h];if(y!==void 0)++y.referenceCount,a[f]=y;else{if(y=a[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,h));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;y=new aK(un.create(r,h,x),d.ValueTypeName,d.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,h),a[f]=y}s[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new qD(new Float32Array(2),new Float32Array(2),1,Oze),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?v0.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=hM),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new sK(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,s,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?v0.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class nL{constructor(e){this.value=e}clone(){return new nL(this.value.clone===void 0?this.value:this.value.clone())}}let Ize=0;class Nze extends sl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Ize++}),this.name="",this.usage=s0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class Aw extends bM{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Dze{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const T5=new Ct;class lK{constructor(e,n,r=0,i=1/0){this.ray=new Gd(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new sd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return T5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(T5),this}intersectObject(e,n=!0,r=[]){return lR(e,this,r,n),r.sort(A5),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)lR(e[i],this,r,n);return r.sort(A5),r}}function A5(t,e){return t.distance-e.distance}function lR(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)lR(o[a],e,n,!0)}}class cR{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(pr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Lze{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class rL{constructor(e,n,r,i){rL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}}const P5=new $e;class kze{constructor(e=new $e(1/0,1/0),n=new $e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=P5.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,P5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const C5=new ne,yb=new ne;class cK{constructor(e=new ne,n=new ne){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){C5.subVectors(e,this.start),yb.subVectors(this.end,this.start);const r=yb.dot(yb);let o=yb.dot(C5)/r;return n&&(o=pr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const O5=new ne;class Uze extends dn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Yt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new gt(i,3));const o=new lo({fog:!1,toneMapped:!1});this.cone=new ll(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),O5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(O5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Fc=new ne,xb=new Ct,zP=new Ct;class Fze extends ll{constructor(e){const n=uK(e),r=new Yt,i=[],o=[],a=new at(0,0,1),s=new at(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new gt(i,3)),r.setAttribute("color",new gt(o,3));const l=new lo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");zP.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(xb.multiplyMatrices(zP,s.matrixWorld),Fc.setFromMatrixPosition(xb),i.setXYZ(a,Fc.x,Fc.y,Fc.z),xb.multiplyMatrices(zP,s.parent.matrixWorld),Fc.setFromMatrixPosition(xb),i.setXYZ(a+1,Fc.x,Fc.y,Fc.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function uK(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,uK(t.children[n]));return e}class jze extends Qn{constructor(e,n,r){const i=new K0(n,4,2),o=new gc({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const zze=new ne,R5=new at,I5=new at;class Bze extends dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Y0(n);i.rotateY(Math.PI*.5),this.material=new gc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new An(a,3)),this.add(new Qn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");R5.copy(this.light.color),I5.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?R5:I5;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zze.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $ze extends ll{constructor(e=10,n=10,r=4473924,i=8947848){r=new at(r),i=new at(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let d=0,h=0,y=-s;d<=n;d++,y+=a){l.push(-s,0,y,s,0,y),l.push(y,0,-s,y,0,s);const x=d===o?r:i;x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3}const u=new Yt;u.setAttribute("position",new gt(l,3)),u.setAttribute("color",new gt(c,3));const f=new lo({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vze extends ll{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new at(o),a=new at(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,y=Math.cos(d)*e;s.push(0,0,0),s.push(h,0,y);const x=f&1?o:a;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const d=f&1?o:a,h=e-e/r*f;for(let y=0;y<i;y++){let x=y/i*(Math.PI*2),v=Math.sin(x)*h,m=Math.cos(x)*h;s.push(v,0,m),l.push(d.r,d.g,d.b),x=(y+1)/i*(Math.PI*2),v=Math.sin(x)*h,m=Math.cos(x)*h,s.push(v,0,m),l.push(d.r,d.g,d.b)}}const c=new Yt;c.setAttribute("position",new gt(s,3)),c.setAttribute("color",new gt(l,3));const u=new lo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const N5=new ne,bb=new ne,D5=new ne;class Hze extends dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Yt;i.setAttribute("position",new gt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new lo({fog:!1,toneMapped:!1});this.lightPlane=new Mu(i,o),this.add(this.lightPlane),i=new Yt,i.setAttribute("position",new gt([0,0,0,0,0,1],3)),this.targetLine=new Mu(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),N5.setFromMatrixPosition(this.light.matrixWorld),bb.setFromMatrixPosition(this.light.target.matrixWorld),D5.subVectors(bb,N5),this.lightPlane.lookAt(bb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(bb),this.targetLine.scale.z=D5.length()}}const _b=new ne,sr=new G0;class Gze extends ll{constructor(e){const n=new Yt,r=new lo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(y,x){l(y),l(x)}function l(y){i.push(0,0,0),o.push(0,0,0),a[y]===void 0&&(a[y]=[]),a[y].push(i.length/3-1)}n.setAttribute("position",new gt(i,3)),n.setAttribute("color",new gt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new at(16755200),u=new at(16711680),f=new at(43775),d=new at(16777215),h=new at(3355443);this.setColors(c,u,f,d,h)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;sr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),yr("c",n,e,sr,0,0,-1),yr("t",n,e,sr,0,0,1),yr("n1",n,e,sr,-r,-i,-1),yr("n2",n,e,sr,r,-i,-1),yr("n3",n,e,sr,-r,i,-1),yr("n4",n,e,sr,r,i,-1),yr("f1",n,e,sr,-r,-i,1),yr("f2",n,e,sr,r,-i,1),yr("f3",n,e,sr,-r,i,1),yr("f4",n,e,sr,r,i,1),yr("u1",n,e,sr,r*.7,i*1.1,-1),yr("u2",n,e,sr,-r*.7,i*1.1,-1),yr("u3",n,e,sr,0,i*2,-1),yr("cf1",n,e,sr,-r,0,1),yr("cf2",n,e,sr,r,0,1),yr("cf3",n,e,sr,0,-i,1),yr("cf4",n,e,sr,0,i,1),yr("cn1",n,e,sr,-r,0,-1),yr("cn2",n,e,sr,r,0,-1),yr("cn3",n,e,sr,0,-i,-1),yr("cn4",n,e,sr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yr(t,e,n,r,i,o,a){_b.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],_b.x,_b.y,_b.z)}}const Sb=new Ir;class Wze extends ll{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Yt;o.setIndex(new An(r,1)),o.setAttribute("position",new An(i,3)),super(o,new lo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Sb.setFromObject(this.object),Sb.isEmpty())return;const n=Sb.min,r=Sb.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xze extends ll{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Yt;o.setIndex(new An(r,1)),o.setAttribute("position",new gt(i,3)),super(o,new lo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class qze extends Mu{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Yt;a.setAttribute("position",new gt(o,3)),a.computeBoundingSphere(),super(a,new lo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Yt;l.setAttribute("position",new gt(s,3)),l.computeBoundingSphere(),this.add(new Qn(l,new gc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const L5=new ne;let wb,BP;class Yze extends dn{constructor(e=new ne(0,0,1),n=new ne(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",wb===void 0&&(wb=new Yt,wb.setAttribute("position",new gt([0,0,0,0,1,0],3)),BP=new Jm(0,.5,1,5,1),BP.translate(0,-.5,0)),this.position.copy(n),this.line=new Mu(wb,new lo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qn(BP,new gc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{L5.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(L5,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Kze extends ll{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Yt;i.setAttribute("position",new gt(n,3)),i.setAttribute("color",new gt(r,3));const o=new lo({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new at,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qze{constructor(){this.type="ShapePath",this.color=new at,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new f0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(m){const _=[];for(let b=0,w=m.length;b<w;b++){const E=m[b],M=new ld;M.curves=E.curves,_.push(M)}return _}function r(m,_){const b=_.length;let w=!1;for(let E=b-1,M=0;M<b;E=M++){let A=_[E],P=_[M],R=P.x-A.x,O=P.y-A.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(A=_[M],R=-R,P=_[E],O=-O),m.y<A.y||m.y>P.y)continue;if(m.y===A.y){if(m.x===A.x)return!0}else{const N=O*(m.x-A.x)-R*(m.y-A.y);if(N===0)return!0;if(N<0)continue;w=!w}}else{if(m.y!==A.y)continue;if(P.x<=m.x&&m.x<=A.x||A.x<=m.x&&m.x<=P.x)return!0}}return w}const i=Js.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new ld,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],y=0,x;d[y]=void 0,h[y]=[];for(let m=0,_=o.length;m<_;m++)s=o[m],x=s.getPoints(),a=i(x),a=e?!a:a,a?(!u&&d[y]&&y++,d[y]={s:new ld,p:x},d[y].s.curves=s.curves,u&&y++,h[y]=[]):h[y].push({h:s,p:x[0]});if(!d[0])return n(o);if(d.length>1){let m=!1,_=0;for(let b=0,w=d.length;b<w;b++)f[b]=[];for(let b=0,w=d.length;b<w;b++){const E=h[b];for(let M=0;M<E.length;M++){const A=E[M];let P=!0;for(let R=0;R<d.length;R++)r(A.p,d[R].p)&&(b!==R&&_++,P?(P=!1,f[R].push(A)):m=!0);P&&f[b].push(A)}}_>0&&m===!1&&(h=f)}let v;for(let m=0,_=d.length;m<_;m++){l=d[m].s,c.push(l),v=h[m];for(let b=0,w=v.length;b<w;b++)l.holes.push(v[b].h)}return c}}class Zze extends sl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Jze extends ds{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:B0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=B0);const eBe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:mD,AddEquation:Yc,AddOperation:Lq,AdditiveAnimationBlendMode:TD,AdditiveBlending:qO,AgXToneMapping:zq,AlphaFormat:bD,AlwaysCompare:eY,AlwaysDepth:GS,AlwaysStencilFunc:ZO,AmbientLight:eK,AnimationAction:sK,AnimationClip:v0,AnimationLoader:nze,AnimationMixer:Rze,AnimationObjectGroup:Cze,AnimationUtils:Zje,ArcCurve:TY,ArrayCamera:gY,ArrowHelper:Yze,AttachedBindMode:QO,Audio:oK,AudioAnalyser:xze,AudioContext:ZD,AudioListener:gze,AudioLoader:hze,AxesHelper:Kze,BackSide:oo,BasicDepthPacking:Wq,BasicShadowMap:mq,BatchedMesh:wY,Bone:UD,BooleanKeyframeTrack:Xd,Box2:kze,Box3:Ir,Box3Helper:Xze,BoxGeometry:Wd,BoxHelper:Wze,BufferAttribute:An,BufferGeometry:Yt,BufferGeometryLoader:iK,ByteType:vD,Cache:$l,Camera:G0,CameraHelper:Gze,CanvasTexture:Sje,CapsuleGeometry:EM,CatmullRomCurve3:AY,CineonToneMapping:Fq,CircleGeometry:MM,ClampToEdgeWrapping:Sa,Clock:JD,Color:at,ColorKeyframeTrack:YD,ColorManagement:ln,CompressedArrayTexture:bje,CompressedCubeTexture:_je,CompressedTexture:SM,CompressedTextureLoader:rze,ConeGeometry:TM,ConstantAlphaFactor:Iq,ConstantColorFactor:Oq,Controls:Zze,CubeCamera:lY,CubeReflectionMapping:sc,CubeRefractionMapping:Eu,CubeTexture:W0,CubeTextureLoader:ize,CubeUVReflectionMapping:Km,CubicBezierCurve:zD,CubicBezierCurve3:PY,CubicInterpolant:WY,CullFaceBack:XO,CullFaceFront:pq,CullFaceFrontBack:QNe,CullFaceNone:hq,Curve:vs,CurvePath:OY,CustomBlending:gq,CustomToneMapping:jq,CylinderGeometry:Jm,Cylindrical:Lze,Data3DTexture:OD,DataArrayTexture:pM,DataTexture:Zs,DataTextureLoader:oze,DataUtils:uLe,DecrementStencilOp:fDe,DecrementWrapStencilOp:hDe,DefaultLoadingManager:YY,DepthFormat:od,DepthStencilFormat:Id,DepthTexture:DD,DetachedBindMode:$q,DirectionalLight:JY,DirectionalLightHelper:Hze,DiscreteInterpolant:XY,DodecahedronGeometry:AM,DoubleSide:Qa,DstAlphaFactor:Mq,DstColorFactor:Aq,DynamicCopyUsage:PDe,DynamicDrawUsage:SDe,DynamicReadUsage:MDe,EdgesGeometry:RY,EllipseCurve:wM,EqualCompare:Kq,EqualDepth:XS,EqualStencilFunc:vDe,EquirectangularReflectionMapping:t0,EquirectangularRefractionMapping:n0,Euler:Jo,EventDispatcher:sl,ExtrudeGeometry:CM,FileLoader:cc,Float16BufferAttribute:gLe,Float32BufferAttribute:gt,FloatType:So,Fog:xM,FogExp2:yM,FramebufferTexture:xje,FrontSide:ac,Frustum:X0,GLBufferAttribute:Dze,GLSL1:ODe,GLSL3:JO,GreaterCompare:Qq,GreaterDepth:YS,GreaterEqualCompare:Jq,GreaterEqualDepth:qS,GreaterEqualStencilFunc:_De,GreaterStencilFunc:xDe,GridHelper:$ze,Group:hp,HalfFloatType:Qm,HemisphereLight:KY,HemisphereLightHelper:Bze,IcosahedronGeometry:OM,ImageBitmapLoader:dze,ImageLoader:y0,ImageUtils:iY,IncrementStencilOp:uDe,IncrementWrapStencilOp:dDe,InstancedBufferAttribute:Nd,InstancedBufferGeometry:FM,InstancedInterleavedBuffer:Aw,InstancedMesh:SY,Int16BufferAttribute:pLe,Int32BufferAttribute:mLe,Int8BufferAttribute:fLe,IntType:sM,InterleavedBuffer:bM,InterleavedBufferAttribute:Wo,Interpolant:Q0,InterpolateDiscrete:o0,InterpolateLinear:ww,InterpolateSmooth:Jb,InvertStencilOp:pDe,KeepStencilOp:Af,KeyframeTrack:ys,LOD:bY,LatheGeometry:q0,Layers:sd,LessCompare:Yq,LessDepth:WS,LessEqualCompare:PD,LessEqualDepth:Od,LessEqualStencilFunc:yDe,LessStencilFunc:gDe,Light:Uu,LightProbe:rK,Line:Mu,Line3:cK,LineBasicMaterial:lo,LineCurve:BD,LineCurve3:CY,LineDashedMaterial:VY,LineLoop:EY,LineSegments:ll,LinearFilter:wr,LinearInterpolant:qD,LinearMipMapLinearFilter:tDe,LinearMipMapNearestFilter:eDe,LinearMipmapLinearFilter:Bs,LinearMipmapNearestFilter:Uv,LinearSRGBColorSpace:Hd,LinearToneMapping:kq,LinearTransfer:H0,Loader:Ao,LoaderUtils:sR,LoadingManager:KD,LoopOnce:Vq,LoopPingPong:Gq,LoopRepeat:Hq,LuminanceAlphaFormat:wD,LuminanceFormat:SD,MOUSE:Mf,Material:zi,MaterialLoader:UM,MathUtils:tY,Matrix2:rL,Matrix3:jt,Matrix4:Ct,MaxEquation:bq,Mesh:Qn,MeshBasicMaterial:gc,MeshDepthMaterial:gM,MeshDistanceMaterial:vM,MeshLambertMaterial:BY,MeshMatcapMaterial:$Y,MeshNormalMaterial:zY,MeshPhongMaterial:FY,MeshPhysicalMaterial:UY,MeshStandardMaterial:WD,MeshToonMaterial:jY,MinEquation:xq,MirroredRepeatWrapping:i0,MixOperation:Dq,MultiplyBlending:KO,MultiplyOperation:$0,NearestFilter:yi,NearestMipMapLinearFilter:JNe,NearestMipMapNearestFilter:ZNe,NearestMipmapLinearFilter:up,NearestMipmapNearestFilter:gD,NeutralToneMapping:Bq,NeverCompare:qq,NeverDepth:HS,NeverStencilFunc:mDe,NoBlending:Xl,NoColorSpace:Ll,NoToneMapping:Qs,NormalAnimationBlendMode:hM,NormalBlending:id,NotEqualCompare:Zq,NotEqualDepth:KS,NotEqualStencilFunc:bDe,NumberKeyframeTrack:m0,Object3D:dn,ObjectLoader:uze,ObjectSpaceNormalMap:Xq,OctahedronGeometry:Y0,OneFactor:Sq,OneMinusConstantAlphaFactor:Nq,OneMinusConstantColorFactor:Rq,OneMinusDstAlphaFactor:Tq,OneMinusDstColorFactor:Pq,OneMinusSrcAlphaFactor:VS,OneMinusSrcColorFactor:Eq,OrthographicCamera:gu,PCFShadowMap:oM,PCFSoftShadowMap:kv,PMREMGenerator:eR,Path:f0,PerspectiveCamera:_r,Plane:Il,PlaneGeometry:vc,PlaneHelper:qze,PointLight:ZY,PointLightHelper:jze,Points:MY,PointsMaterial:FD,PolarGridHelper:Vze,PolyhedronGeometry:ku,PositionalAudio:yze,PropertyBinding:un,PropertyMixer:aK,QuadraticBezierCurve:$D,QuadraticBezierCurve3:VD,Quaternion:Fi,QuaternionKeyframeTrack:Z0,QuaternionLinearInterpolant:qY,RED_GREEN_RGTC2_Format:_w,RED_RGTC1_Format:MD,REVISION:B0,RGBADepthPacking:AD,RGBAFormat:Ui,RGBAIntegerFormat:dM,RGBA_ASTC_10x10_Format:mw,RGBA_ASTC_10x5_Format:dw,RGBA_ASTC_10x6_Format:hw,RGBA_ASTC_10x8_Format:pw,RGBA_ASTC_12x10_Format:gw,RGBA_ASTC_12x12_Format:vw,RGBA_ASTC_4x4_Format:iw,RGBA_ASTC_5x4_Format:ow,RGBA_ASTC_5x5_Format:aw,RGBA_ASTC_6x5_Format:sw,RGBA_ASTC_6x6_Format:lw,RGBA_ASTC_8x5_Format:cw,RGBA_ASTC_8x6_Format:uw,RGBA_ASTC_8x8_Format:fw,RGBA_BPTC_Format:$v,RGBA_ETC2_EAC_Format:rw,RGBA_PVRTC_2BPPV1_Format:ew,RGBA_PVRTC_4BPPV1_Format:JS,RGBA_S3TC_DXT1_Format:jv,RGBA_S3TC_DXT3_Format:zv,RGBA_S3TC_DXT5_Format:Bv,RGBDepthPacking:aDe,RGBFormat:_D,RGBIntegerFormat:nDe,RGB_BPTC_SIGNED_Format:yw,RGB_BPTC_UNSIGNED_Format:xw,RGB_ETC1_Format:tw,RGB_ETC2_Format:nw,RGB_PVRTC_2BPPV1_Format:ZS,RGB_PVRTC_4BPPV1_Format:QS,RGB_S3TC_DXT1_Format:Fv,RGDepthPacking:sDe,RGFormat:ED,RGIntegerFormat:fM,RawShaderMaterial:kY,Ray:Gd,Raycaster:lK,RectAreaLight:tK,RedFormat:uM,RedIntegerFormat:V0,ReinhardToneMapping:Uq,RenderTarget:oY,RepeatWrapping:r0,ReplaceStencilOp:cDe,ReverseSubtractEquation:yq,RingGeometry:RM,SIGNED_RED_GREEN_RGTC2_Format:Sw,SIGNED_RED_RGTC1_Format:bw,SRGBColorSpace:vo,SRGBTransfer:Sn,Scene:LD,ShaderChunk:Vt,ShaderLib:Ya,ShaderMaterial:Pa,ShadowMaterial:LY,Shape:ld,ShapeGeometry:IM,ShapePath:Qze,ShapeUtils:Js,ShortType:yD,Skeleton:_M,SkeletonHelper:Fze,SkinnedMesh:_Y,Source:$f,Sphere:Hr,SphereGeometry:K0,Spherical:cR,SphericalHarmonics3:nK,SplineCurve:HD,SpotLight:QY,SpotLightHelper:Uze,Sprite:xY,SpriteMaterial:kD,SrcAlphaFactor:$S,SrcAlphaSaturateFactor:Cq,SrcColorFactor:wq,StaticCopyUsage:ADe,StaticDrawUsage:s0,StaticReadUsage:EDe,StereoCamera:pze,StreamCopyUsage:CDe,StreamDrawUsage:wDe,StreamReadUsage:TDe,StringKeyframeTrack:qd,SubtractEquation:vq,SubtractiveBlending:YO,TOUCH:Tf,TangentSpaceNormalMap:Lu,TetrahedronGeometry:NM,Texture:ir,TextureLoader:aze,TextureUtils:JFe,TorusGeometry:DM,TorusKnotGeometry:LM,Triangle:xo,TriangleFanDrawMode:oDe,TriangleStripDrawMode:iDe,TrianglesDrawMode:rDe,TubeGeometry:kM,UVMapping:aM,Uint16BufferAttribute:RD,Uint32BufferAttribute:ID,Uint8BufferAttribute:dLe,Uint8ClampedBufferAttribute:hLe,Uniform:nL,UniformsGroup:Nze,UniformsLib:tt,UniformsUtils:u0,UnsignedByteType:fs,UnsignedInt248Type:Rd,UnsignedInt5999Type:xD,UnsignedIntType:lc,UnsignedShort4444Type:lM,UnsignedShort5551Type:cM,UnsignedShortType:wm,VSMShadowMap:$a,Vector2:$e,Vector3:ne,Vector4:qt,VectorKeyframeTrack:g0,VideoTexture:yje,WebGL3DRenderTarget:eLe,WebGLArrayRenderTarget:JDe,WebGLCoordinateSystem:$s,WebGLCubeRenderTarget:cY,WebGLMultipleRenderTargets:Jze,WebGLRenderTarget:ds,WebGLRenderer:vY,WebGLUtils:mY,WebGPUCoordinateSystem:l0,WireframeGeometry:GD,WrapAroundEnding:a0,ZeroCurvatureEnding:zf,ZeroFactor:_q,ZeroSlopeEnding:Bf,ZeroStencilOp:lDe,createCanvasElement:rY},Symbol.toStringTag,{value:"Module"}));var fK={exports:{}},Yd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Yd.ConcurrentRoot=1;Yd.ContinuousEventPriority=4;Yd.DefaultEventPriority=16;Yd.DiscreteEventPriority=1;Yd.IdleEventPriority=536870912;Yd.LegacyRoot=0;fK.exports=Yd;var mp=fK.exports;function tBe(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function h(){const y=u(e);if(!f(d,y)){const x=d;c(d=y,x)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?o(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const nBe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k5=nBe?I.useEffect:I.useLayoutEffect;function rBe(t){const e=typeof t=="function"?tBe(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=I.useReducer(v=>v+1,0),a=e.getState(),s=I.useRef(a),l=I.useRef(r),c=I.useRef(i),u=I.useRef(!1),f=I.useRef();f.current===void 0&&(f.current=r(a));let d,h=!1;(s.current!==a||l.current!==r||c.current!==i||u.current)&&(d=r(a),h=!i(f.current,d)),k5(()=>{h&&(f.current=d),s.current=a,l.current=r,c.current=i,u.current=!1});const y=I.useRef(a);k5(()=>{const v=()=>{try{const _=e.getState(),b=l.current(_);c.current(f.current,b)||(s.current=_,f.current=b,o())}catch{u.current=!0,o()}},m=e.subscribe(v);return e.getState()!==y.current&&v(),m},[]);const x=h?d:f.current;return I.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const iBe=t=>typeof t=="object"&&typeof t.then=="function",Eb=[];function oBe(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function aBe(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of Eb)if(oBe(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=Eb.indexOf(i);o!==-1&&Eb.splice(o,1)},promise:(iBe(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(Eb.push(i),!n)throw i.promise}const sBe=(t,e,n)=>aBe(t,e,!1,n);var dK={exports:{}},$P={exports:{}},VP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function lBe(){return U5||(U5=1,function(t){function e(k,B){var W=k.length;k.push(B);e:for(;0<W;){var $=W-1>>>1,Y=k[$];if(0<i(Y,B))k[$]=B,k[W]=Y,W=$;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var B=k[0],W=k.pop();if(W!==B){k[0]=W;e:for(var $=0,Y=k.length,J=Y>>>1;$<J;){var X=2*($+1)-1,te=k[X],ie=X+1,ee=k[ie];if(0>i(te,W))ie<Y&&0>i(ee,te)?(k[$]=ee,k[ie]=W,$=ie):(k[$]=te,k[X]=W,$=X);else if(ie<Y&&0>i(ee,W))k[$]=ee,k[ie]=W,$=ie;else break e}}return B}function i(k,B){var W=k.sortIndex-B.sortIndex;return W!==0?W:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=k)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(k){if(x=!1,b(k),!y)if(n(l)!==null)y=!0,z(E);else{var B=n(c);B!==null&&Q(w,B.startTime-k)}}function E(k,B){y=!1,x&&(x=!1,m(P),P=-1),h=!0;var W=d;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||k&&!N());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var Y=$(f.expirationTime<=B);B=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var X=n(c);X!==null&&Q(w,X.startTime-B),J=!1}return J}finally{f=null,d=W,h=!1}}var M=!1,A=null,P=-1,R=5,O=-1;function N(){return!(t.unstable_now()-O<R)}function L(){if(A!==null){var k=t.unstable_now();O=k;var B=!0;try{B=A(!0,k)}finally{B?j():(M=!1,A=null)}}else M=!1}var j;if(typeof _=="function")j=function(){_(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=L,j=function(){H.postMessage(null)}}else j=function(){v(L,0)};function z(k){A=k,M||(M=!0,j())}function Q(k,B){P=v(function(){k(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,z(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var W=d;d=B;try{return k()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=d;d=k;try{return B()}finally{d=W}},t.unstable_scheduleCallback=function(k,B,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,k={id:u++,callback:B,priorityLevel:k,startTime:W,expirationTime:Y,sortIndex:-1},W>$?(k.sortIndex=W,e(c,k),n(l)===null&&k===n(c)&&(x?(m(P),P=-1):x=!0,Q(w,W-$))):(k.sortIndex=Y,e(l,k),y||h||(y=!0,z(E))),k},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(k){var B=d;return function(){var W=d;d=B;try{return k.apply(this,arguments)}finally{d=W}}}}(VP)),VP}var F5;function cBe(){return F5||(F5=1,$P.exports=lBe()),$P.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uBe=function(e){var n={},r=I,i=cBe(),o=Object.assign;function a(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,T=1;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}function A(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case y:return(p.displayName||"Context")+".Consumer";case h:return(p._context.displayName||"Context")+".Provider";case x:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return g=p.displayName||null,g!==null?g:A(p.type)||"Memo";case b:g=p._payload,p=p._init;try{return A(p(g))}catch{}}return null}function P(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(g);case 8:return g===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function R(p){var g=p,T=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,g.flags&4098&&(T=g.return),p=g.return;while(p)}return g.tag===3?T:null}function O(p){if(R(p)!==p)throw Error(a(188))}function N(p){var g=p.alternate;if(!g){if(g=R(p),g===null)throw Error(a(188));return g!==p?null:p}for(var T=p,C=g;;){var D=T.return;if(D===null)break;var F=D.alternate;if(F===null){if(C=D.return,C!==null){T=C;continue}break}if(D.child===F.child){for(F=D.child;F;){if(F===T)return O(D),p;if(F===C)return O(D),g;F=F.sibling}throw Error(a(188))}if(T.return!==C.return)T=D,C=F;else{for(var re=!1,ge=D.child;ge;){if(ge===T){re=!0,T=D,C=F;break}if(ge===C){re=!0,C=D,T=F;break}ge=ge.sibling}if(!re){for(ge=F.child;ge;){if(ge===T){re=!0,T=F,C=D;break}if(ge===C){re=!0,C=F,T=D;break}ge=ge.sibling}if(!re)throw Error(a(189))}}if(T.alternate!==C)throw Error(a(190))}if(T.tag!==3)throw Error(a(188));return T.stateNode.current===T?p:g}function L(p){return p=N(p),p!==null?j(p):null}function j(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=j(p);if(g!==null)return g;p=p.sibling}return null}function U(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var g=U(p);if(g!==null)return g}p=p.sibling}return null}var H=Array.isArray,z=e.getPublicInstance,Q=e.getRootHostContext,k=e.getChildHostContext,B=e.prepareForCommit,W=e.resetAfterCommit,$=e.createInstance,Y=e.appendInitialChild,J=e.finalizeInitialChildren,X=e.prepareUpdate,te=e.shouldSetTextContent,ie=e.createTextInstance,ee=e.scheduleTimeout,le=e.cancelTimeout,ue=e.noTimeout,he=e.isPrimaryRenderer,fe=e.supportsMutation,K=e.supportsPersistence,de=e.supportsHydration,q=e.getInstanceFromNode,Pe=e.preparePortalMount,be=e.getCurrentEventPriority,Re=e.detachDeletedInstance,me=e.supportsMicrotasks,Fe=e.scheduleMicrotask,Ce=e.supportsTestSelectors,G=e.findFiberRoot,V=e.getBoundingRect,se=e.getTextContent,pe=e.isHiddenSubtree,_e=e.matchAccessibilityRole,Me=e.setFocusIfFocusable,Be=e.setupIntersectionObserver,De=e.appendChild,He=e.appendChildToContainer,it=e.commitTextUpdate,Ue=e.commitMount,Xe=e.commitUpdate,qe=e.insertBefore,Ye=e.insertInContainerBefore,ke=e.removeChild,ce=e.removeChildFromContainer,Te=e.resetTextContent,Je=e.hideInstance,ae=e.hideTextInstance,Oe=e.unhideInstance,Se=e.unhideTextInstance,je=e.clearContainer,We=e.cloneInstance,Ge=e.createContainerChildSet,rt=e.appendChildToContainerChildSet,vt=e.finalizeContainerChildren,ct=e.replaceContainerChildren,mt=e.cloneHiddenInstance,an=e.cloneHiddenTextInstance,cn=e.canHydrateInstance,Wn=e.canHydrateTextInstance,bi=e.canHydrateSuspenseInstance,Nr=e.isSuspenseInstancePending,si=e.isSuspenseInstanceFallback,Po=e.registerSuspenseInstanceRetry,_i=e.getNextHydratableSibling,Si=e.getFirstHydratableChild,Mr=e.getFirstHydratableChildWithinContainer,co=e.getFirstHydratableChildWithinSuspenseInstance,Fu=e.hydrateInstance,yc=e.hydrateTextInstance,ng=e.hydrateSuspenseInstance,Kd=e.getNextHydratableInstanceAfterSuspenseInstance,cl=e.commitHydratedContainer,Z=e.commitHydratedSuspenseInstance,ye=e.clearSuspenseBoundary,Ae=e.clearSuspenseBoundaryFromContainer,Ee=e.shouldDeleteUnhydratedTailInstances,ve=e.didNotMatchHydratedContainerTextInstance,Ze=e.didNotMatchHydratedTextInstance,Ne;function lt(p){if(Ne===void 0)try{throw Error()}catch(T){var g=T.stack.trim().match(/\n( *(at )?)/);Ne=g&&g[1]||""}return`
`+Ne+p}var pt=!1;function wt(p,g){if(!p||pt)return"";pt=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(et){var C=et}Reflect.construct(p,[],g)}else{try{g.call()}catch(et){C=et}p.call(g.prototype)}else{try{throw Error()}catch(et){C=et}p()}}catch(et){if(et&&C&&typeof et.stack=="string"){for(var D=et.stack.split(`
`),F=C.stack.split(`
`),re=D.length-1,ge=F.length-1;1<=re&&0<=ge&&D[re]!==F[ge];)ge--;for(;1<=re&&0<=ge;re--,ge--)if(D[re]!==F[ge]){if(re!==1||ge!==1)do if(re--,ge--,0>ge||D[re]!==F[ge]){var Le=`
`+D[re].replace(" at new "," at ");return p.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",p.displayName)),Le}while(1<=re&&0<=ge);break}}}finally{pt=!1,Error.prepareStackTrace=T}return(p=p?p.displayName||p.name:"")?lt(p):""}var Ot=Object.prototype.hasOwnProperty,dt=[],zt=-1;function Kt(p){return{current:p}}function St(p){0>zt||(p.current=dt[zt],dt[zt]=null,zt--)}function Ut(p,g){zt++,dt[zt]=p.current,p.current=g}var Ft={},nt=Kt(Ft),Mn=Kt(!1),Wt=Ft;function Xn(p,g){var T=p.type.contextTypes;if(!T)return Ft;var C=p.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===g)return C.__reactInternalMemoizedMaskedChildContext;var D={},F;for(F in T)D[F]=g[F];return C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=D),D}function Un(p){return p=p.childContextTypes,p!=null}function Fn(){St(Mn),St(nt)}function na(p,g,T){if(nt.current!==Ft)throw Error(a(168));Ut(nt,g),Ut(Mn,T)}function hn(p,g,T){var C=p.stateNode;if(g=g.childContextTypes,typeof C.getChildContext!="function")return T;C=C.getChildContext();for(var D in C)if(!(D in g))throw Error(a(108,P(p)||"Unknown",D));return o({},T,C)}function Dr(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Ft,Wt=nt.current,Ut(nt,p),Ut(Mn,Mn.current),!0}function Lr(p,g,T){var C=p.stateNode;if(!C)throw Error(a(169));T?(p=hn(p,g,Wt),C.__reactInternalMemoizedMergedChildContext=p,St(Mn),St(nt),Ut(nt,p)):St(Mn),Ut(Mn,T)}var In=Math.clz32?Math.clz32:ju,Bi=Math.log,wi=Math.LN2;function ju(p){return p>>>=0,p===0?32:31-(Bi(p)/wi|0)|0}var ul=64,fl=4194304;function dl(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function zu(p,g){var T=p.pendingLanes;if(T===0)return 0;var C=0,D=p.suspendedLanes,F=p.pingedLanes,re=T&268435455;if(re!==0){var ge=re&~D;ge!==0?C=dl(ge):(F&=re,F!==0&&(C=dl(F)))}else re=T&~D,re!==0?C=dl(re):F!==0&&(C=dl(F));if(C===0)return 0;if(g!==0&&g!==C&&!(g&D)&&(D=C&-C,F=g&-g,D>=F||D===16&&(F&4194240)!==0))return g;if(C&4&&(C|=T&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=C;0<g;)T=31-In(g),D=1<<T,C|=p[T],g&=~D;return C}function tx(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rg(p,g){for(var T=p.suspendedLanes,C=p.pingedLanes,D=p.expirationTimes,F=p.pendingLanes;0<F;){var re=31-In(F),ge=1<<re,Le=D[re];Le===-1?(!(ge&T)||ge&C)&&(D[re]=tx(ge,g)):Le<=g&&(p.expiredLanes|=ge),F&=~ge}}function hl(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Qd(p){for(var g=[],T=0;31>T;T++)g.push(p);return g}function xs(p,g,T){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-In(g),p[g]=T}function xc(p,g){var T=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var C=p.eventTimes;for(p=p.expirationTimes;0<T;){var D=31-In(T),F=1<<D;g[D]=0,C[D]=-1,p[D]=-1,T&=~F}}function bs(p,g){var T=p.entangledLanes|=g;for(p=p.entanglements;T;){var C=31-In(T),D=1<<C;D&g|p[C]&g&&(p[C]|=g),T&=~D}}var tn=0;function ig(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var pl=i.unstable_scheduleCallback,Zd=i.unstable_cancelCallback,og=i.unstable_shouldYield,nx=i.unstable_requestPaint,Zn=i.unstable_now,Bu=i.unstable_ImmediatePriority,rx=i.unstable_UserBlockingPriority,$i=i.unstable_NormalPriority,ag=i.unstable_IdlePriority,$u=null,Co=null;function sg(p){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot($u,p,void 0,(p.current.flags&128)===128)}catch{}}function ix(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var Oo=typeof Object.is=="function"?Object.is:ix,Vi=null,_s=!1,ra=!1;function lg(p){Vi===null?Vi=[p]:Vi.push(p)}function cg(p){_s=!0,lg(p)}function uo(){if(!ra&&Vi!==null){ra=!0;var p=0,g=tn;try{var T=Vi;for(tn=1;p<T.length;p++){var C=T[p];do C=C(!0);while(C!==null)}Vi=null,_s=!1}catch(D){throw Vi!==null&&(Vi=Vi.slice(p+1)),pl(Bu,uo),D}finally{tn=g,ra=!1}}return null}var Vu=s.ReactCurrentBatchConfig;function Hu(p,g){if(Oo(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var T=Object.keys(p),C=Object.keys(g);if(T.length!==C.length)return!1;for(C=0;C<T.length;C++){var D=T[C];if(!Ot.call(g,D)||!Oo(p[D],g[D]))return!1}return!0}function Gu(p){switch(p.tag){case 5:return lt(p.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 2:case 15:return p=wt(p.type,!1),p;case 11:return p=wt(p.type.render,!1),p;case 1:return p=wt(p.type,!0),p;default:return""}}function Hi(p,g){if(p&&p.defaultProps){g=o({},g),p=p.defaultProps;for(var T in p)g[T]===void 0&&(g[T]=p[T]);return g}return g}var qr=Kt(null),Jd=null,Ia=null,bc=null;function eh(){bc=Ia=Jd=null}function ox(p,g,T){he?(Ut(qr,g._currentValue),g._currentValue=T):(Ut(qr,g._currentValue2),g._currentValue2=T)}function Yr(p){var g=qr.current;St(qr),he?p._currentValue=g:p._currentValue2=g}function Gi(p,g,T){for(;p!==null;){var C=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,C!==null&&(C.childLanes|=g)):C!==null&&(C.childLanes&g)!==g&&(C.childLanes|=g),p===T)break;p=p.return}}function mr(p,g){Jd=p,bc=Ia=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&g&&(Do=!0),p.firstContext=null)}function gr(p){var g=he?p._currentValue:p._currentValue2;if(bc!==p)if(p={context:p,memoizedValue:g,next:null},Ia===null){if(Jd===null)throw Error(a(308));Ia=p,Jd.dependencies={lanes:0,firstContext:p}}else Ia=Ia.next=p;return g}var Ro=null,_c=!1;function $M(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pL(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function ml(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function Sc(p,g){var T=p.updateQueue;T!==null&&(T=T.shared,Tr!==null&&p.mode&1&&!(Jt&2)?(p=T.interleaved,p===null?(g.next=g,Ro===null?Ro=[T]:Ro.push(T)):(g.next=p.next,p.next=g),T.interleaved=g):(p=T.pending,p===null?g.next=g:(g.next=p.next,p.next=g),T.pending=g))}function ax(p,g,T){if(g=g.updateQueue,g!==null&&(g=g.shared,(T&4194240)!==0)){var C=g.lanes;C&=p.pendingLanes,T|=C,g.lanes=T,bs(p,T)}}function mL(p,g){var T=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,T===C)){var D=null,F=null;if(T=T.firstBaseUpdate,T!==null){do{var re={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};F===null?D=F=re:F=F.next=re,T=T.next}while(T!==null);F===null?D=F=g:F=F.next=g}else D=F=g;T={baseState:C.baseState,firstBaseUpdate:D,lastBaseUpdate:F,shared:C.shared,effects:C.effects},p.updateQueue=T;return}p=T.lastBaseUpdate,p===null?T.firstBaseUpdate=g:p.next=g,T.lastBaseUpdate=g}function sx(p,g,T,C){var D=p.updateQueue;_c=!1;var F=D.firstBaseUpdate,re=D.lastBaseUpdate,ge=D.shared.pending;if(ge!==null){D.shared.pending=null;var Le=ge,et=Le.next;Le.next=null,re===null?F=et:re.next=et,re=Le;var ht=p.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==re&&(ge===null?ht.firstBaseUpdate=et:ge.next=et,ht.lastBaseUpdate=Le))}if(F!==null){var Bt=D.baseState;re=0,ht=et=Le=null,ge=F;do{var Mt=ge.lane,Pn=ge.eventTime;if((C&Mt)===Mt){ht!==null&&(ht=ht.next={eventTime:Pn,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var _t=p,Ai=ge;switch(Mt=g,Pn=T,Ai.tag){case 1:if(_t=Ai.payload,typeof _t=="function"){Bt=_t.call(Pn,Bt,Mt);break e}Bt=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Ai.payload,Mt=typeof _t=="function"?_t.call(Pn,Bt,Mt):_t,Mt==null)break e;Bt=o({},Bt,Mt);break e;case 2:_c=!0}}ge.callback!==null&&ge.lane!==0&&(p.flags|=64,Mt=D.effects,Mt===null?D.effects=[ge]:Mt.push(ge))}else Pn={eventTime:Pn,lane:Mt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(et=ht=Pn,Le=Bt):ht=ht.next=Pn,re|=Mt;if(ge=ge.next,ge===null){if(ge=D.shared.pending,ge===null)break;Mt=ge,ge=Mt.next,Mt.next=null,D.lastBaseUpdate=Mt,D.shared.pending=null}}while(!0);if(ht===null&&(Le=Bt),D.baseState=Le,D.firstBaseUpdate=et,D.lastBaseUpdate=ht,g=D.shared.interleaved,g!==null){D=g;do re|=D.lane,D=D.next;while(D!==g)}else F===null&&(D.shared.lanes=0);ch|=re,p.lanes=re,p.memoizedState=Bt}}function gL(p,g,T){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var C=p[g],D=C.callback;if(D!==null){if(C.callback=null,C=T,typeof D!="function")throw Error(a(191,D));D.call(C)}}}var vL=new r.Component().refs;function VM(p,g,T,C){g=p.memoizedState,T=T(C,g),T=T==null?g:o({},g,T),p.memoizedState=T,p.lanes===0&&(p.updateQueue.baseState=T)}var lx={isMounted:function(p){return(p=p._reactInternals)?R(p)===p:!1},enqueueSetState:function(p,g,T){p=p._reactInternals;var C=Xi(),D=Mc(p),F=ml(C,D);F.payload=g,T!=null&&(F.callback=T),Sc(p,F),g=la(p,D,C),g!==null&&ax(g,p,D)},enqueueReplaceState:function(p,g,T){p=p._reactInternals;var C=Xi(),D=Mc(p),F=ml(C,D);F.tag=1,F.payload=g,T!=null&&(F.callback=T),Sc(p,F),g=la(p,D,C),g!==null&&ax(g,p,D)},enqueueForceUpdate:function(p,g){p=p._reactInternals;var T=Xi(),C=Mc(p),D=ml(T,C);D.tag=2,g!=null&&(D.callback=g),Sc(p,D),g=la(p,C,T),g!==null&&ax(g,p,C)}};function yL(p,g,T,C,D,F,re){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,F,re):g.prototype&&g.prototype.isPureReactComponent?!Hu(T,C)||!Hu(D,F):!0}function xL(p,g,T){var C=!1,D=Ft,F=g.contextType;return typeof F=="object"&&F!==null?F=gr(F):(D=Un(g)?Wt:nt.current,C=g.contextTypes,F=(C=C!=null)?Xn(p,D):Ft),g=new g(T,F),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=lx,p.stateNode=g,g._reactInternals=p,C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=D,p.__reactInternalMemoizedMaskedChildContext=F),g}function bL(p,g,T,C){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(T,C),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(T,C),g.state!==p&&lx.enqueueReplaceState(g,g.state,null)}function HM(p,g,T,C){var D=p.stateNode;D.props=T,D.state=p.memoizedState,D.refs=vL,$M(p);var F=g.contextType;typeof F=="object"&&F!==null?D.context=gr(F):(F=Un(g)?Wt:nt.current,D.context=Xn(p,F)),D.state=p.memoizedState,F=g.getDerivedStateFromProps,typeof F=="function"&&(VM(p,g,F,T),D.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(g=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),g!==D.state&&lx.enqueueReplaceState(D,D.state,null),sx(p,T,D,C),D.state=p.memoizedState),typeof D.componentDidMount=="function"&&(p.flags|=4194308)}var th=[],nh=0,cx=null,ux=0,ia=[],oa=0,Wu=null,gl=1,vl="";function Xu(p,g){th[nh++]=ux,th[nh++]=cx,cx=p,ux=g}function _L(p,g,T){ia[oa++]=gl,ia[oa++]=vl,ia[oa++]=Wu,Wu=p;var C=gl;p=vl;var D=32-In(C)-1;C&=~(1<<D),T+=1;var F=32-In(g)+D;if(30<F){var re=D-D%5;F=(C&(1<<re)-1).toString(32),C>>=re,D-=re,gl=1<<32-In(g)+D|T<<D|C,vl=F+p}else gl=1<<F|T<<D|C,vl=p}function GM(p){p.return!==null&&(Xu(p,1),_L(p,1,0))}function WM(p){for(;p===cx;)cx=th[--nh],th[nh]=null,ux=th[--nh],th[nh]=null;for(;p===Wu;)Wu=ia[--oa],ia[oa]=null,vl=ia[--oa],ia[oa]=null,gl=ia[--oa],ia[oa]=null}var Io=null,No=null,qn=!1,ug=!1,Na=null;function SL(p,g){var T=ca(5,null,null,0);T.elementType="DELETED",T.stateNode=g,T.return=p,g=p.deletions,g===null?(p.deletions=[T],p.flags|=16):g.push(T)}function wL(p,g){switch(p.tag){case 5:return g=cn(g,p.type,p.pendingProps),g!==null?(p.stateNode=g,Io=p,No=Si(g),!0):!1;case 6:return g=Wn(g,p.pendingProps),g!==null?(p.stateNode=g,Io=p,No=null,!0):!1;case 13:if(g=bi(g),g!==null){var T=Wu!==null?{id:gl,overflow:vl}:null;return p.memoizedState={dehydrated:g,treeContext:T,retryLane:1073741824},T=ca(18,null,null,0),T.stateNode=g,T.return=p,p.child=T,Io=p,No=null,!0}return!1;default:return!1}}function XM(p){return(p.mode&1)!==0&&(p.flags&128)===0}function qM(p){if(qn){var g=No;if(g){var T=g;if(!wL(p,g)){if(XM(p))throw Error(a(418));g=_i(T);var C=Io;g&&wL(p,g)?SL(C,T):(p.flags=p.flags&-4097|2,qn=!1,Io=p)}}else{if(XM(p))throw Error(a(418));p.flags=p.flags&-4097|2,qn=!1,Io=p}}}function EL(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Io=p}function fg(p){if(!de||p!==Io)return!1;if(!qn)return EL(p),qn=!0,!1;if(p.tag!==3&&(p.tag!==5||Ee(p.type)&&!te(p.type,p.memoizedProps))){var g=No;if(g){if(XM(p)){for(p=No;p;)p=_i(p);throw Error(a(418))}for(;g;)SL(p,g),g=_i(g)}}if(EL(p),p.tag===13){if(!de)throw Error(a(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));No=Kd(p)}else No=Io?_i(p.stateNode):null;return!0}function rh(){de&&(No=Io=null,ug=qn=!1)}function YM(p){Na===null?Na=[p]:Na.push(p)}function dg(p,g,T){if(p=T.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(a(309));var C=T.stateNode}if(!C)throw Error(a(147,p));var D=C,F=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===F?g.ref:(g=function(re){var ge=D.refs;ge===vL&&(ge=D.refs={}),re===null?delete ge[F]:ge[F]=re},g._stringRef=F,g)}if(typeof p!="string")throw Error(a(284));if(!T._owner)throw Error(a(290,p))}return p}function fx(p,g){throw p=Object.prototype.toString.call(g),Error(a(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function ML(p){var g=p._init;return g(p._payload)}function TL(p){function g(we,xe){if(p){var Ie=we.deletions;Ie===null?(we.deletions=[xe],we.flags|=16):Ie.push(xe)}}function T(we,xe){if(!p)return null;for(;xe!==null;)g(we,xe),xe=xe.sibling;return null}function C(we,xe){for(we=new Map;xe!==null;)xe.key!==null?we.set(xe.key,xe):we.set(xe.index,xe),xe=xe.sibling;return we}function D(we,xe){return we=Ac(we,xe),we.index=0,we.sibling=null,we}function F(we,xe,Ie){return we.index=Ie,p?(Ie=we.alternate,Ie!==null?(Ie=Ie.index,Ie<xe?(we.flags|=2,xe):Ie):(we.flags|=2,xe)):(we.flags|=1048576,xe)}function re(we){return p&&we.alternate===null&&(we.flags|=2),we}function ge(we,xe,Ie,st){return xe===null||xe.tag!==6?(xe=IT(Ie,we.mode,st),xe.return=we,xe):(xe=D(xe,Ie),xe.return=we,xe)}function Le(we,xe,Ie,st){var yt=Ie.type;return yt===u?ht(we,xe,Ie.props.children,st,Ie.key):xe!==null&&(xe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&ML(yt)===xe.type)?(st=D(xe,Ie.props),st.ref=dg(we,xe,Ie),st.return=we,st):(st=$x(Ie.type,Ie.key,Ie.props,null,we.mode,st),st.ref=dg(we,xe,Ie),st.return=we,st)}function et(we,xe,Ie,st){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Ie.containerInfo||xe.stateNode.implementation!==Ie.implementation?(xe=NT(Ie,we.mode,st),xe.return=we,xe):(xe=D(xe,Ie.children||[]),xe.return=we,xe)}function ht(we,xe,Ie,st,yt){return xe===null||xe.tag!==7?(xe=ef(Ie,we.mode,st,yt),xe.return=we,xe):(xe=D(xe,Ie),xe.return=we,xe)}function Bt(we,xe,Ie){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=IT(""+xe,we.mode,Ie),xe.return=we,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return Ie=$x(xe.type,xe.key,xe.props,null,we.mode,Ie),Ie.ref=dg(we,null,xe),Ie.return=we,Ie;case c:return xe=NT(xe,we.mode,Ie),xe.return=we,xe;case b:var st=xe._init;return Bt(we,st(xe._payload),Ie)}if(H(xe)||M(xe))return xe=ef(xe,we.mode,Ie,null),xe.return=we,xe;fx(we,xe)}return null}function Mt(we,xe,Ie,st){var yt=xe!==null?xe.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return yt!==null?null:ge(we,xe,""+Ie,st);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:return Ie.key===yt?Le(we,xe,Ie,st):null;case c:return Ie.key===yt?et(we,xe,Ie,st):null;case b:return yt=Ie._init,Mt(we,xe,yt(Ie._payload),st)}if(H(Ie)||M(Ie))return yt!==null?null:ht(we,xe,Ie,st,null);fx(we,Ie)}return null}function Pn(we,xe,Ie,st,yt){if(typeof st=="string"&&st!==""||typeof st=="number")return we=we.get(Ie)||null,ge(xe,we,""+st,yt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return we=we.get(st.key===null?Ie:st.key)||null,Le(xe,we,st,yt);case c:return we=we.get(st.key===null?Ie:st.key)||null,et(xe,we,st,yt);case b:var Qt=st._init;return Pn(we,xe,Ie,Qt(st._payload),yt)}if(H(st)||M(st))return we=we.get(Ie)||null,ht(xe,we,st,yt,null);fx(xe,st)}return null}function _t(we,xe,Ie,st){for(var yt=null,Qt=null,$t=xe,pn=xe=0,Qr=null;$t!==null&&pn<Ie.length;pn++){$t.index>pn?(Qr=$t,$t=null):Qr=$t.sibling;var mn=Mt(we,$t,Ie[pn],st);if(mn===null){$t===null&&($t=Qr);break}p&&$t&&mn.alternate===null&&g(we,$t),xe=F(mn,xe,pn),Qt===null?yt=mn:Qt.sibling=mn,Qt=mn,$t=Qr}if(pn===Ie.length)return T(we,$t),qn&&Xu(we,pn),yt;if($t===null){for(;pn<Ie.length;pn++)$t=Bt(we,Ie[pn],st),$t!==null&&(xe=F($t,xe,pn),Qt===null?yt=$t:Qt.sibling=$t,Qt=$t);return qn&&Xu(we,pn),yt}for($t=C(we,$t);pn<Ie.length;pn++)Qr=Pn($t,we,pn,Ie[pn],st),Qr!==null&&(p&&Qr.alternate!==null&&$t.delete(Qr.key===null?pn:Qr.key),xe=F(Qr,xe,pn),Qt===null?yt=Qr:Qt.sibling=Qr,Qt=Qr);return p&&$t.forEach(function(Pc){return g(we,Pc)}),qn&&Xu(we,pn),yt}function Ai(we,xe,Ie,st){var yt=M(Ie);if(typeof yt!="function")throw Error(a(150));if(Ie=yt.call(Ie),Ie==null)throw Error(a(151));for(var Qt=yt=null,$t=xe,pn=xe=0,Qr=null,mn=Ie.next();$t!==null&&!mn.done;pn++,mn=Ie.next()){$t.index>pn?(Qr=$t,$t=null):Qr=$t.sibling;var Pc=Mt(we,$t,mn.value,st);if(Pc===null){$t===null&&($t=Qr);break}p&&$t&&Pc.alternate===null&&g(we,$t),xe=F(Pc,xe,pn),Qt===null?yt=Pc:Qt.sibling=Pc,Qt=Pc,$t=Qr}if(mn.done)return T(we,$t),qn&&Xu(we,pn),yt;if($t===null){for(;!mn.done;pn++,mn=Ie.next())mn=Bt(we,mn.value,st),mn!==null&&(xe=F(mn,xe,pn),Qt===null?yt=mn:Qt.sibling=mn,Qt=mn);return qn&&Xu(we,pn),yt}for($t=C(we,$t);!mn.done;pn++,mn=Ie.next())mn=Pn($t,we,pn,mn.value,st),mn!==null&&(p&&mn.alternate!==null&&$t.delete(mn.key===null?pn:mn.key),xe=F(mn,xe,pn),Qt===null?yt=mn:Qt.sibling=mn,Qt=mn);return p&&$t.forEach(function(uZ){return g(we,uZ)}),qn&&Xu(we,pn),yt}function ua(we,xe,Ie,st){if(typeof Ie=="object"&&Ie!==null&&Ie.type===u&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:e:{for(var yt=Ie.key,Qt=xe;Qt!==null;){if(Qt.key===yt){if(yt=Ie.type,yt===u){if(Qt.tag===7){T(we,Qt.sibling),xe=D(Qt,Ie.props.children),xe.return=we,we=xe;break e}}else if(Qt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&ML(yt)===Qt.type){T(we,Qt.sibling),xe=D(Qt,Ie.props),xe.ref=dg(we,Qt,Ie),xe.return=we,we=xe;break e}T(we,Qt);break}else g(we,Qt);Qt=Qt.sibling}Ie.type===u?(xe=ef(Ie.props.children,we.mode,st,Ie.key),xe.return=we,we=xe):(st=$x(Ie.type,Ie.key,Ie.props,null,we.mode,st),st.ref=dg(we,xe,Ie),st.return=we,we=st)}return re(we);case c:e:{for(Qt=Ie.key;xe!==null;){if(xe.key===Qt)if(xe.tag===4&&xe.stateNode.containerInfo===Ie.containerInfo&&xe.stateNode.implementation===Ie.implementation){T(we,xe.sibling),xe=D(xe,Ie.children||[]),xe.return=we,we=xe;break e}else{T(we,xe);break}else g(we,xe);xe=xe.sibling}xe=NT(Ie,we.mode,st),xe.return=we,we=xe}return re(we);case b:return Qt=Ie._init,ua(we,xe,Qt(Ie._payload),st)}if(H(Ie))return _t(we,xe,Ie,st);if(M(Ie))return Ai(we,xe,Ie,st);fx(we,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,xe!==null&&xe.tag===6?(T(we,xe.sibling),xe=D(xe,Ie),xe.return=we,we=xe):(T(we,xe),xe=IT(Ie,we.mode,st),xe.return=we,we=xe),re(we)):T(we,xe)}return ua}var ih=TL(!0),AL=TL(!1),hg={},aa=Kt(hg),pg=Kt(hg),oh=Kt(hg);function Ss(p){if(p===hg)throw Error(a(174));return p}function KM(p,g){Ut(oh,g),Ut(pg,p),Ut(aa,hg),p=Q(g),St(aa),Ut(aa,p)}function ah(){St(aa),St(pg),St(oh)}function PL(p){var g=Ss(oh.current),T=Ss(aa.current);g=k(T,p.type,g),T!==g&&(Ut(pg,p),Ut(aa,g))}function QM(p){pg.current===p&&(St(aa),St(pg))}var Jn=Kt(0);function dx(p){for(var g=p;g!==null;){if(g.tag===13){var T=g.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||Nr(T)||si(T)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var ZM=[];function JM(){for(var p=0;p<ZM.length;p++){var g=ZM[p];he?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}ZM.length=0}var hx=s.ReactCurrentDispatcher,sa=s.ReactCurrentBatchConfig,sh=0,ar=null,Ei=null,Kr=null,px=!1,mg=!1,gg=0,LQ=0;function Mi(){throw Error(a(321))}function eT(p,g){if(g===null)return!1;for(var T=0;T<g.length&&T<p.length;T++)if(!Oo(p[T],g[T]))return!1;return!0}function tT(p,g,T,C,D,F){if(sh=F,ar=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,hx.current=p===null||p.memoizedState===null?jQ:zQ,p=T(C,D),mg){F=0;do{if(mg=!1,gg=0,25<=F)throw Error(a(301));F+=1,Kr=Ei=null,g.updateQueue=null,hx.current=BQ,p=T(C,D)}while(mg)}if(hx.current=xx,g=Ei!==null&&Ei.next!==null,sh=0,Kr=Ei=ar=null,px=!1,g)throw Error(a(300));return p}function nT(){var p=gg!==0;return gg=0,p}function yl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?ar.memoizedState=Kr=p:Kr=Kr.next=p,Kr}function ws(){if(Ei===null){var p=ar.alternate;p=p!==null?p.memoizedState:null}else p=Ei.next;var g=Kr===null?ar.memoizedState:Kr.next;if(g!==null)Kr=g,Ei=p;else{if(p===null)throw Error(a(310));Ei=p,p={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},Kr===null?ar.memoizedState=Kr=p:Kr=Kr.next=p}return Kr}function qu(p,g){return typeof g=="function"?g(p):g}function mx(p){var g=ws(),T=g.queue;if(T===null)throw Error(a(311));T.lastRenderedReducer=p;var C=Ei,D=C.baseQueue,F=T.pending;if(F!==null){if(D!==null){var re=D.next;D.next=F.next,F.next=re}C.baseQueue=D=F,T.pending=null}if(D!==null){F=D.next,C=C.baseState;var ge=re=null,Le=null,et=F;do{var ht=et.lane;if((sh&ht)===ht)Le!==null&&(Le=Le.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),C=et.hasEagerState?et.eagerState:p(C,et.action);else{var Bt={lane:ht,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};Le===null?(ge=Le=Bt,re=C):Le=Le.next=Bt,ar.lanes|=ht,ch|=ht}et=et.next}while(et!==null&&et!==F);Le===null?re=C:Le.next=ge,Oo(C,g.memoizedState)||(Do=!0),g.memoizedState=C,g.baseState=re,g.baseQueue=Le,T.lastRenderedState=C}if(p=T.interleaved,p!==null){D=p;do F=D.lane,ar.lanes|=F,ch|=F,D=D.next;while(D!==p)}else D===null&&(T.lanes=0);return[g.memoizedState,T.dispatch]}function gx(p){var g=ws(),T=g.queue;if(T===null)throw Error(a(311));T.lastRenderedReducer=p;var C=T.dispatch,D=T.pending,F=g.memoizedState;if(D!==null){T.pending=null;var re=D=D.next;do F=p(F,re.action),re=re.next;while(re!==D);Oo(F,g.memoizedState)||(Do=!0),g.memoizedState=F,g.baseQueue===null&&(g.baseState=F),T.lastRenderedState=F}return[F,C]}function CL(){}function OL(p,g){var T=ar,C=ws(),D=g(),F=!Oo(C.memoizedState,D);if(F&&(C.memoizedState=D,Do=!0),C=C.queue,yg(NL.bind(null,T,C,p),[p]),C.getSnapshot!==g||F||Kr!==null&&Kr.memoizedState.tag&1){if(T.flags|=2048,vg(9,IL.bind(null,T,C,D,g),void 0,null),Tr===null)throw Error(a(349));sh&30||RL(T,g,D)}return D}function RL(p,g,T){p.flags|=16384,p={getSnapshot:g,value:T},g=ar.updateQueue,g===null?(g={lastEffect:null,stores:null},ar.updateQueue=g,g.stores=[p]):(T=g.stores,T===null?g.stores=[p]:T.push(p))}function IL(p,g,T,C){g.value=T,g.getSnapshot=C,DL(g)&&la(p,1,-1)}function NL(p,g,T){return T(function(){DL(g)&&la(p,1,-1)})}function DL(p){var g=p.getSnapshot;p=p.value;try{var T=g();return!Oo(p,T)}catch{return!0}}function rT(p){var g=yl();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:p},g.queue=p,p=p.dispatch=FQ.bind(null,ar,p),[g.memoizedState,p]}function vg(p,g,T,C){return p={tag:p,create:g,destroy:T,deps:C,next:null},g=ar.updateQueue,g===null?(g={lastEffect:null,stores:null},ar.updateQueue=g,g.lastEffect=p.next=p):(T=g.lastEffect,T===null?g.lastEffect=p.next=p:(C=T.next,T.next=p,p.next=C,g.lastEffect=p)),p}function LL(){return ws().memoizedState}function vx(p,g,T,C){var D=yl();ar.flags|=p,D.memoizedState=vg(1|g,T,void 0,C===void 0?null:C)}function yx(p,g,T,C){var D=ws();C=C===void 0?null:C;var F=void 0;if(Ei!==null){var re=Ei.memoizedState;if(F=re.destroy,C!==null&&eT(C,re.deps)){D.memoizedState=vg(g,T,F,C);return}}ar.flags|=p,D.memoizedState=vg(1|g,T,F,C)}function iT(p,g){return vx(8390656,8,p,g)}function yg(p,g){return yx(2048,8,p,g)}function kL(p,g){return yx(4,2,p,g)}function UL(p,g){return yx(4,4,p,g)}function FL(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function jL(p,g,T){return T=T!=null?T.concat([p]):null,yx(4,4,FL.bind(null,g,p),T)}function oT(){}function zL(p,g){var T=ws();g=g===void 0?null:g;var C=T.memoizedState;return C!==null&&g!==null&&eT(g,C[1])?C[0]:(T.memoizedState=[p,g],p)}function BL(p,g){var T=ws();g=g===void 0?null:g;var C=T.memoizedState;return C!==null&&g!==null&&eT(g,C[1])?C[0]:(p=p(),T.memoizedState=[p,g],p)}function kQ(p,g){var T=tn;tn=T!==0&&4>T?T:4,p(!0);var C=sa.transition;sa.transition={};try{p(!1),g()}finally{tn=T,sa.transition=C}}function $L(){return ws().memoizedState}function UQ(p,g,T){var C=Mc(p);T={lane:C,action:T,hasEagerState:!1,eagerState:null,next:null},VL(p)?HL(g,T):(GL(p,g,T),T=Xi(),p=la(p,C,T),p!==null&&WL(p,g,C))}function FQ(p,g,T){var C=Mc(p),D={lane:C,action:T,hasEagerState:!1,eagerState:null,next:null};if(VL(p))HL(g,D);else{GL(p,g,D);var F=p.alternate;if(p.lanes===0&&(F===null||F.lanes===0)&&(F=g.lastRenderedReducer,F!==null))try{var re=g.lastRenderedState,ge=F(re,T);if(D.hasEagerState=!0,D.eagerState=ge,Oo(ge,re))return}catch{}finally{}T=Xi(),p=la(p,C,T),p!==null&&WL(p,g,C)}}function VL(p){var g=p.alternate;return p===ar||g!==null&&g===ar}function HL(p,g){mg=px=!0;var T=p.pending;T===null?g.next=g:(g.next=T.next,T.next=g),p.pending=g}function GL(p,g,T){Tr!==null&&p.mode&1&&!(Jt&2)?(p=g.interleaved,p===null?(T.next=T,Ro===null?Ro=[g]:Ro.push(g)):(T.next=p.next,p.next=T),g.interleaved=T):(p=g.pending,p===null?T.next=T:(T.next=p.next,p.next=T),g.pending=T)}function WL(p,g,T){if(T&4194240){var C=g.lanes;C&=p.pendingLanes,T|=C,g.lanes=T,bs(p,T)}}var xx={readContext:gr,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},jQ={readContext:gr,useCallback:function(p,g){return yl().memoizedState=[p,g===void 0?null:g],p},useContext:gr,useEffect:iT,useImperativeHandle:function(p,g,T){return T=T!=null?T.concat([p]):null,vx(4194308,4,FL.bind(null,g,p),T)},useLayoutEffect:function(p,g){return vx(4194308,4,p,g)},useInsertionEffect:function(p,g){return vx(4,2,p,g)},useMemo:function(p,g){var T=yl();return g=g===void 0?null:g,p=p(),T.memoizedState=[p,g],p},useReducer:function(p,g,T){var C=yl();return g=T!==void 0?T(g):g,C.memoizedState=C.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},C.queue=p,p=p.dispatch=UQ.bind(null,ar,p),[C.memoizedState,p]},useRef:function(p){var g=yl();return p={current:p},g.memoizedState=p},useState:rT,useDebugValue:oT,useDeferredValue:function(p){var g=rT(p),T=g[0],C=g[1];return iT(function(){var D=sa.transition;sa.transition={};try{C(p)}finally{sa.transition=D}},[p]),T},useTransition:function(){var p=rT(!1),g=p[0];return p=kQ.bind(null,p[1]),yl().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,T){var C=ar,D=yl();if(qn){if(T===void 0)throw Error(a(407));T=T()}else{if(T=g(),Tr===null)throw Error(a(349));sh&30||RL(C,g,T)}D.memoizedState=T;var F={value:T,getSnapshot:g};return D.queue=F,iT(NL.bind(null,C,F,p),[p]),C.flags|=2048,vg(9,IL.bind(null,C,F,T,g),void 0,null),T},useId:function(){var p=yl(),g=Tr.identifierPrefix;if(qn){var T=vl,C=gl;T=(C&~(1<<32-In(C)-1)).toString(32)+T,g=":"+g+"R"+T,T=gg++,0<T&&(g+="H"+T.toString(32)),g+=":"}else T=LQ++,g=":"+g+"r"+T.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},zQ={readContext:gr,useCallback:zL,useContext:gr,useEffect:yg,useImperativeHandle:jL,useInsertionEffect:kL,useLayoutEffect:UL,useMemo:BL,useReducer:mx,useRef:LL,useState:function(){return mx(qu)},useDebugValue:oT,useDeferredValue:function(p){var g=mx(qu),T=g[0],C=g[1];return yg(function(){var D=sa.transition;sa.transition={};try{C(p)}finally{sa.transition=D}},[p]),T},useTransition:function(){var p=mx(qu)[0],g=ws().memoizedState;return[p,g]},useMutableSource:CL,useSyncExternalStore:OL,useId:$L,unstable_isNewReconciler:!1},BQ={readContext:gr,useCallback:zL,useContext:gr,useEffect:yg,useImperativeHandle:jL,useInsertionEffect:kL,useLayoutEffect:UL,useMemo:BL,useReducer:gx,useRef:LL,useState:function(){return gx(qu)},useDebugValue:oT,useDeferredValue:function(p){var g=gx(qu),T=g[0],C=g[1];return yg(function(){var D=sa.transition;sa.transition={};try{C(p)}finally{sa.transition=D}},[p]),T},useTransition:function(){var p=gx(qu)[0],g=ws().memoizedState;return[p,g]},useMutableSource:CL,useSyncExternalStore:OL,useId:$L,unstable_isNewReconciler:!1};function aT(p,g){try{var T="",C=g;do T+=Gu(C),C=C.return;while(C);var D=T}catch(F){D=`
Error generating stack: `+F.message+`
`+F.stack}return{value:p,source:g,stack:D}}function sT(p,g){try{console.error(g.value)}catch(T){setTimeout(function(){throw T})}}var $Q=typeof WeakMap=="function"?WeakMap:Map;function XL(p,g,T){T=ml(-1,T),T.tag=3,T.payload={element:null};var C=g.value;return T.callback=function(){Lx||(Lx=!0,MT=C),sT(p,g)},T}function qL(p,g,T){T=ml(-1,T),T.tag=3;var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var D=g.value;T.payload=function(){return C(D)},T.callback=function(){sT(p,g)}}var F=p.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(T.callback=function(){sT(p,g),typeof C!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var re=g.stack;this.componentDidCatch(g.value,{componentStack:re!==null?re:""})}),T}function YL(p,g,T){var C=p.pingCache;if(C===null){C=p.pingCache=new $Q;var D=new Set;C.set(g,D)}else D=C.get(g),D===void 0&&(D=new Set,C.set(g,D));D.has(T)||(D.add(T),p=nZ.bind(null,p,g,T),g.then(p,p))}function KL(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function QL(p,g,T,C,D){return p.mode&1?(p.flags|=65536,p.lanes=D,p):(p===g?p.flags|=65536:(p.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(g=ml(-1,1),g.tag=2,Sc(T,g))),T.lanes|=1),p)}function Es(p){p.flags|=4}function ZL(p,g){if(p!==null&&p.child===g.child)return!0;if(g.flags&16)return!1;for(p=g.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var xg,bg,bx,_x;if(fe)xg=function(p,g){for(var T=g.child;T!==null;){if(T.tag===5||T.tag===6)Y(p,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},bg=function(){},bx=function(p,g,T,C,D){if(p=p.memoizedProps,p!==C){var F=g.stateNode,re=Ss(aa.current);T=X(F,T,p,C,D,re),(g.updateQueue=T)&&Es(g)}},_x=function(p,g,T,C){T!==C&&Es(g)};else if(K){xg=function(p,g,T,C){for(var D=g.child;D!==null;){if(D.tag===5){var F=D.stateNode;T&&C&&(F=mt(F,D.type,D.memoizedProps,D)),Y(p,F)}else if(D.tag===6)F=D.stateNode,T&&C&&(F=an(F,D.memoizedProps,D)),Y(p,F);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)F=D.child,F!==null&&(F.return=D),xg(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var JL=function(p,g,T,C){for(var D=g.child;D!==null;){if(D.tag===5){var F=D.stateNode;T&&C&&(F=mt(F,D.type,D.memoizedProps,D)),rt(p,F)}else if(D.tag===6)F=D.stateNode,T&&C&&(F=an(F,D.memoizedProps,D)),rt(p,F);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)F=D.child,F!==null&&(F.return=D),JL(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===g)break;for(;D.sibling===null;){if(D.return===null||D.return===g)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};bg=function(p,g){var T=g.stateNode;if(!ZL(p,g)){p=T.containerInfo;var C=Ge(p);JL(C,g,!1,!1),T.pendingChildren=C,Es(g),vt(p,C)}},bx=function(p,g,T,C,D){var F=p.stateNode,re=p.memoizedProps;if((p=ZL(p,g))&&re===C)g.stateNode=F;else{var ge=g.stateNode,Le=Ss(aa.current),et=null;re!==C&&(et=X(ge,T,re,C,D,Le)),p&&et===null?g.stateNode=F:(F=We(F,et,T,re,C,g,p,ge),J(F,T,C,D,Le)&&Es(g),g.stateNode=F,p?Es(g):xg(F,g,!1,!1))}},_x=function(p,g,T,C){T!==C?(p=Ss(oh.current),T=Ss(aa.current),g.stateNode=ie(C,p,T,g),Es(g)):g.stateNode=p.stateNode}}else bg=function(){},bx=function(){},_x=function(){};function _g(p,g){if(!qn)switch(p.tailMode){case"hidden":g=p.tail;for(var T=null;g!==null;)g.alternate!==null&&(T=g),g=g.sibling;T===null?p.tail=null:T.sibling=null;break;case"collapsed":T=p.tail;for(var C=null;T!==null;)T.alternate!==null&&(C=T),T=T.sibling;C===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function Ti(p){var g=p.alternate!==null&&p.alternate.child===p.child,T=0,C=0;if(g)for(var D=p.child;D!==null;)T|=D.lanes|D.childLanes,C|=D.subtreeFlags&14680064,C|=D.flags&14680064,D.return=p,D=D.sibling;else for(D=p.child;D!==null;)T|=D.lanes|D.childLanes,C|=D.subtreeFlags,C|=D.flags,D.return=p,D=D.sibling;return p.subtreeFlags|=C,p.childLanes=T,g}function VQ(p,g,T){var C=g.pendingProps;switch(WM(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(g),null;case 1:return Un(g.type)&&Fn(),Ti(g),null;case 3:return C=g.stateNode,ah(),St(Mn),St(nt),JM(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(p===null||p.child===null)&&(fg(g)?Es(g):p===null||p.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,Na!==null&&(PT(Na),Na=null))),bg(p,g),Ti(g),null;case 5:QM(g),T=Ss(oh.current);var D=g.type;if(p!==null&&g.stateNode!=null)bx(p,g,D,C,T),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!C){if(g.stateNode===null)throw Error(a(166));return Ti(g),null}if(p=Ss(aa.current),fg(g)){if(!de)throw Error(a(175));p=Fu(g.stateNode,g.type,g.memoizedProps,T,p,g,!ug),g.updateQueue=p,p!==null&&Es(g)}else{var F=$(D,C,T,p,g);xg(F,g,!1,!1),g.stateNode=F,J(F,D,C,T,p)&&Es(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ti(g),null;case 6:if(p&&g.stateNode!=null)_x(p,g,p.memoizedProps,C);else{if(typeof C!="string"&&g.stateNode===null)throw Error(a(166));if(p=Ss(oh.current),T=Ss(aa.current),fg(g)){if(!de)throw Error(a(176));if(p=g.stateNode,C=g.memoizedProps,(T=yc(p,C,g,!ug))&&(D=Io,D!==null))switch(F=(D.mode&1)!==0,D.tag){case 3:ve(D.stateNode.containerInfo,p,C,F);break;case 5:Ze(D.type,D.memoizedProps,D.stateNode,p,C,F)}T&&Es(g)}else g.stateNode=ie(C,p,T,g)}return Ti(g),null;case 13:if(St(Jn),C=g.memoizedState,qn&&No!==null&&g.mode&1&&!(g.flags&128)){for(p=No;p;)p=_i(p);return rh(),g.flags|=98560,g}if(C!==null&&C.dehydrated!==null){if(C=fg(g),p===null){if(!C)throw Error(a(318));if(!de)throw Error(a(344));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));ng(p,g)}else rh(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Ti(g),null}return Na!==null&&(PT(Na),Na=null),g.flags&128?(g.lanes=T,g):(C=C!==null,T=!1,p===null?fg(g):T=p.memoizedState!==null,C&&!T&&(g.child.flags|=8192,g.mode&1&&(p===null||Jn.current&1?kr===0&&(kr=3):OT())),g.updateQueue!==null&&(g.flags|=4),Ti(g),null);case 4:return ah(),bg(p,g),p===null&&Pe(g.stateNode.containerInfo),Ti(g),null;case 10:return Yr(g.type._context),Ti(g),null;case 17:return Un(g.type)&&Fn(),Ti(g),null;case 19:if(St(Jn),D=g.memoizedState,D===null)return Ti(g),null;if(C=(g.flags&128)!==0,F=D.rendering,F===null)if(C)_g(D,!1);else{if(kr!==0||p!==null&&p.flags&128)for(p=g.child;p!==null;){if(F=dx(p),F!==null){for(g.flags|=128,_g(D,!1),p=F.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),g.subtreeFlags=0,p=T,C=g.child;C!==null;)T=C,D=p,T.flags&=14680066,F=T.alternate,F===null?(T.childLanes=0,T.lanes=D,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=F.childLanes,T.lanes=F.lanes,T.child=F.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=F.memoizedProps,T.memoizedState=F.memoizedState,T.updateQueue=F.updateQueue,T.type=F.type,D=F.dependencies,T.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),C=C.sibling;return Ut(Jn,Jn.current&1|2),g.child}p=p.sibling}D.tail!==null&&Zn()>ET&&(g.flags|=128,C=!0,_g(D,!1),g.lanes=4194304)}else{if(!C)if(p=dx(F),p!==null){if(g.flags|=128,C=!0,p=p.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),_g(D,!0),D.tail===null&&D.tailMode==="hidden"&&!F.alternate&&!qn)return Ti(g),null}else 2*Zn()-D.renderingStartTime>ET&&T!==1073741824&&(g.flags|=128,C=!0,_g(D,!1),g.lanes=4194304);D.isBackwards?(F.sibling=g.child,g.child=F):(p=D.last,p!==null?p.sibling=F:g.child=F,D.last=F)}return D.tail!==null?(g=D.tail,D.rendering=g,D.tail=g.sibling,D.renderingStartTime=Zn(),g.sibling=null,p=Jn.current,Ut(Jn,C?p&1|2:p&1),g):(Ti(g),null);case 22:case 23:return CT(),C=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==C&&(g.flags|=8192),C&&g.mode&1?Lo&1073741824&&(Ti(g),fe&&g.subtreeFlags&6&&(g.flags|=8192)):Ti(g),null;case 24:return null;case 25:return null}throw Error(a(156,g.tag))}var HQ=s.ReactCurrentOwner,Do=!1;function Wi(p,g,T,C){g.child=p===null?AL(g,null,T,C):ih(g,p.child,T,C)}function ek(p,g,T,C,D){T=T.render;var F=g.ref;return mr(g,D),C=tT(p,g,T,C,F,D),T=nT(),p!==null&&!Do?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~D,xl(p,g,D)):(qn&&T&&GM(g),g.flags|=1,Wi(p,g,C,D),g.child)}function tk(p,g,T,C,D){if(p===null){var F=T.type;return typeof F=="function"&&!RT(F)&&F.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(g.tag=15,g.type=F,nk(p,g,F,C,D)):(p=$x(T.type,null,C,g,g.mode,D),p.ref=g.ref,p.return=g,g.child=p)}if(F=p.child,!(p.lanes&D)){var re=F.memoizedProps;if(T=T.compare,T=T!==null?T:Hu,T(re,C)&&p.ref===g.ref)return xl(p,g,D)}return g.flags|=1,p=Ac(F,C),p.ref=g.ref,p.return=g,g.child=p}function nk(p,g,T,C,D){if(p!==null&&Hu(p.memoizedProps,C)&&p.ref===g.ref)if(Do=!1,(p.lanes&D)!==0)p.flags&131072&&(Do=!0);else return g.lanes=p.lanes,xl(p,g,D);return lT(p,g,T,C,D)}function rk(p,g,T){var C=g.pendingProps,D=C.children,F=p!==null?p.memoizedState:null;if(C.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Ut(lh,Lo),Lo|=T;else if(T&1073741824)g.memoizedState={baseLanes:0,cachePool:null},C=F!==null?F.baseLanes:T,Ut(lh,Lo),Lo|=C;else return p=F!==null?F.baseLanes|T:T,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null},g.updateQueue=null,Ut(lh,Lo),Lo|=p,null;else F!==null?(C=F.baseLanes|T,g.memoizedState=null):C=T,Ut(lh,Lo),Lo|=C;return Wi(p,g,D,T),g.child}function ik(p,g){var T=g.ref;(p===null&&T!==null||p!==null&&p.ref!==T)&&(g.flags|=512,g.flags|=2097152)}function lT(p,g,T,C,D){var F=Un(T)?Wt:nt.current;return F=Xn(g,F),mr(g,D),T=tT(p,g,T,C,F,D),C=nT(),p!==null&&!Do?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~D,xl(p,g,D)):(qn&&C&&GM(g),g.flags|=1,Wi(p,g,T,D),g.child)}function ok(p,g,T,C,D){if(Un(T)){var F=!0;Dr(g)}else F=!1;if(mr(g,D),g.stateNode===null)p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),xL(g,T,C),HM(g,T,C,D),C=!0;else if(p===null){var re=g.stateNode,ge=g.memoizedProps;re.props=ge;var Le=re.context,et=T.contextType;typeof et=="object"&&et!==null?et=gr(et):(et=Un(T)?Wt:nt.current,et=Xn(g,et));var ht=T.getDerivedStateFromProps,Bt=typeof ht=="function"||typeof re.getSnapshotBeforeUpdate=="function";Bt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ge!==C||Le!==et)&&bL(g,re,C,et),_c=!1;var Mt=g.memoizedState;re.state=Mt,sx(g,C,re,D),Le=g.memoizedState,ge!==C||Mt!==Le||Mn.current||_c?(typeof ht=="function"&&(VM(g,T,ht,C),Le=g.memoizedState),(ge=_c||yL(g,T,ge,C,Mt,Le,et))?(Bt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(g.flags|=4194308)):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=C,g.memoizedState=Le),re.props=C,re.state=Le,re.context=et,C=ge):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),C=!1)}else{re=g.stateNode,pL(p,g),ge=g.memoizedProps,et=g.type===g.elementType?ge:Hi(g.type,ge),re.props=et,Bt=g.pendingProps,Mt=re.context,Le=T.contextType,typeof Le=="object"&&Le!==null?Le=gr(Le):(Le=Un(T)?Wt:nt.current,Le=Xn(g,Le));var Pn=T.getDerivedStateFromProps;(ht=typeof Pn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ge!==Bt||Mt!==Le)&&bL(g,re,C,Le),_c=!1,Mt=g.memoizedState,re.state=Mt,sx(g,C,re,D);var _t=g.memoizedState;ge!==Bt||Mt!==_t||Mn.current||_c?(typeof Pn=="function"&&(VM(g,T,Pn,C),_t=g.memoizedState),(et=_c||yL(g,T,et,C,Mt,_t,Le)||!1)?(ht||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(C,_t,Le),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(C,_t,Le)),typeof re.componentDidUpdate=="function"&&(g.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof re.componentDidUpdate!="function"||ge===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ge===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=1024),g.memoizedProps=C,g.memoizedState=_t),re.props=C,re.state=_t,re.context=Le,C=et):(typeof re.componentDidUpdate!="function"||ge===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ge===p.memoizedProps&&Mt===p.memoizedState||(g.flags|=1024),C=!1)}return cT(p,g,T,C,F,D)}function cT(p,g,T,C,D,F){ik(p,g);var re=(g.flags&128)!==0;if(!C&&!re)return D&&Lr(g,T,!1),xl(p,g,F);C=g.stateNode,HQ.current=g;var ge=re&&typeof T.getDerivedStateFromError!="function"?null:C.render();return g.flags|=1,p!==null&&re?(g.child=ih(g,p.child,null,F),g.child=ih(g,null,ge,F)):Wi(p,g,ge,F),g.memoizedState=C.state,D&&Lr(g,T,!0),g.child}function ak(p){var g=p.stateNode;g.pendingContext?na(p,g.pendingContext,g.pendingContext!==g.context):g.context&&na(p,g.context,!1),KM(p,g.containerInfo)}function sk(p,g,T,C,D){return rh(),YM(D),g.flags|=256,Wi(p,g,T,C),g.child}var Sx={dehydrated:null,treeContext:null,retryLane:0};function wx(p){return{baseLanes:p,cachePool:null}}function lk(p,g,T){var C=g.pendingProps,D=Jn.current,F=!1,re=(g.flags&128)!==0,ge;if((ge=re)||(ge=p!==null&&p.memoizedState===null?!1:(D&2)!==0),ge?(F=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(D|=1),Ut(Jn,D&1),p===null)return qM(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(g.mode&1?si(p)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(D=C.children,p=C.fallback,F?(C=g.mode,F=g.child,D={mode:"hidden",children:D},!(C&1)&&F!==null?(F.childLanes=0,F.pendingProps=D):F=Vx(D,C,0,null),p=ef(p,C,T,null),F.return=g,p.return=g,F.sibling=p,g.child=F,g.child.memoizedState=wx(T),g.memoizedState=Sx,p):uT(g,D));if(D=p.memoizedState,D!==null){if(ge=D.dehydrated,ge!==null){if(re)return g.flags&256?(g.flags&=-257,Ex(p,g,T,Error(a(422)))):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(F=C.fallback,D=g.mode,C=Vx({mode:"visible",children:C.children},D,0,null),F=ef(F,D,T,null),F.flags|=2,C.return=g,F.return=g,C.sibling=F,g.child=C,g.mode&1&&ih(g,p.child,null,T),g.child.memoizedState=wx(T),g.memoizedState=Sx,F);if(!(g.mode&1))g=Ex(p,g,T,null);else if(si(ge))g=Ex(p,g,T,Error(a(419)));else if(C=(T&p.childLanes)!==0,Do||C){if(C=Tr,C!==null){switch(T&-T){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}C=F&(C.suspendedLanes|T)?0:F,C!==0&&C!==D.retryLane&&(D.retryLane=C,la(p,C,-1))}OT(),g=Ex(p,g,T,Error(a(421)))}else Nr(ge)?(g.flags|=128,g.child=p.child,g=rZ.bind(null,p),Po(ge,g),g=null):(T=D.treeContext,de&&(No=co(ge),Io=g,qn=!0,Na=null,ug=!1,T!==null&&(ia[oa++]=gl,ia[oa++]=vl,ia[oa++]=Wu,gl=T.id,vl=T.overflow,Wu=g)),g=uT(g,g.pendingProps.children),g.flags|=4096);return g}return F?(C=uk(p,g,C.children,C.fallback,T),F=g.child,D=p.child.memoizedState,F.memoizedState=D===null?wx(T):{baseLanes:D.baseLanes|T,cachePool:null},F.childLanes=p.childLanes&~T,g.memoizedState=Sx,C):(T=ck(p,g,C.children,T),g.memoizedState=null,T)}return F?(C=uk(p,g,C.children,C.fallback,T),F=g.child,D=p.child.memoizedState,F.memoizedState=D===null?wx(T):{baseLanes:D.baseLanes|T,cachePool:null},F.childLanes=p.childLanes&~T,g.memoizedState=Sx,C):(T=ck(p,g,C.children,T),g.memoizedState=null,T)}function uT(p,g){return g=Vx({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function ck(p,g,T,C){var D=p.child;return p=D.sibling,T=Ac(D,{mode:"visible",children:T}),!(g.mode&1)&&(T.lanes=C),T.return=g,T.sibling=null,p!==null&&(C=g.deletions,C===null?(g.deletions=[p],g.flags|=16):C.push(p)),g.child=T}function uk(p,g,T,C,D){var F=g.mode;p=p.child;var re=p.sibling,ge={mode:"hidden",children:T};return!(F&1)&&g.child!==p?(T=g.child,T.childLanes=0,T.pendingProps=ge,g.deletions=null):(T=Ac(p,ge),T.subtreeFlags=p.subtreeFlags&14680064),re!==null?C=Ac(re,C):(C=ef(C,F,D,null),C.flags|=2),C.return=g,T.return=g,T.sibling=C,g.child=T,C}function Ex(p,g,T,C){return C!==null&&YM(C),ih(g,p.child,null,T),p=uT(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function fk(p,g,T){p.lanes|=g;var C=p.alternate;C!==null&&(C.lanes|=g),Gi(p.return,g,T)}function fT(p,g,T,C,D){var F=p.memoizedState;F===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:C,tail:T,tailMode:D}:(F.isBackwards=g,F.rendering=null,F.renderingStartTime=0,F.last=C,F.tail=T,F.tailMode=D)}function dk(p,g,T){var C=g.pendingProps,D=C.revealOrder,F=C.tail;if(Wi(p,g,C.children,T),C=Jn.current,C&2)C=C&1|2,g.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&fk(p,T,g);else if(p.tag===19)fk(p,T,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}C&=1}if(Ut(Jn,C),!(g.mode&1))g.memoizedState=null;else switch(D){case"forwards":for(T=g.child,D=null;T!==null;)p=T.alternate,p!==null&&dx(p)===null&&(D=T),T=T.sibling;T=D,T===null?(D=g.child,g.child=null):(D=T.sibling,T.sibling=null),fT(g,!1,D,T,F);break;case"backwards":for(T=null,D=g.child,g.child=null;D!==null;){if(p=D.alternate,p!==null&&dx(p)===null){g.child=D;break}p=D.sibling,D.sibling=T,T=D,D=p}fT(g,!0,T,null,F);break;case"together":fT(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function xl(p,g,T){if(p!==null&&(g.dependencies=p.dependencies),ch|=g.lanes,!(T&g.childLanes))return null;if(p!==null&&g.child!==p.child)throw Error(a(153));if(g.child!==null){for(p=g.child,T=Ac(p,p.pendingProps),g.child=T,T.return=g;p.sibling!==null;)p=p.sibling,T=T.sibling=Ac(p,p.pendingProps),T.return=g;T.sibling=null}return g.child}function GQ(p,g,T){switch(g.tag){case 3:ak(g),rh();break;case 5:PL(g);break;case 1:Un(g.type)&&Dr(g);break;case 4:KM(g,g.stateNode.containerInfo);break;case 10:ox(g,g.type._context,g.memoizedProps.value);break;case 13:var C=g.memoizedState;if(C!==null)return C.dehydrated!==null?(Ut(Jn,Jn.current&1),g.flags|=128,null):T&g.child.childLanes?lk(p,g,T):(Ut(Jn,Jn.current&1),p=xl(p,g,T),p!==null?p.sibling:null);Ut(Jn,Jn.current&1);break;case 19:if(C=(T&g.childLanes)!==0,p.flags&128){if(C)return dk(p,g,T);g.flags|=128}var D=g.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Ut(Jn,Jn.current),C)break;return null;case 22:case 23:return g.lanes=0,rk(p,g,T)}return xl(p,g,T)}function WQ(p,g){switch(WM(g),g.tag){case 1:return Un(g.type)&&Fn(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return ah(),St(Mn),St(nt),JM(),p=g.flags,p&65536&&!(p&128)?(g.flags=p&-65537|128,g):null;case 5:return QM(g),null;case 13:if(St(Jn),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(a(340));rh()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return St(Jn),null;case 4:return ah(),null;case 10:return Yr(g.type._context),null;case 22:case 23:return CT(),null;case 24:return null;default:return null}}var Mx=!1,Yu=!1,XQ=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Tx(p,g){var T=p.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(C){po(p,g,C)}else T.current=null}function dT(p,g,T){try{T()}catch(C){po(p,g,C)}}var hk=!1;function qQ(p,g){for(B(p.containerInfo),ot=g;ot!==null;)if(p=ot,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,ot=g;else for(;ot!==null;){p=ot;try{var T=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,D=T.memoizedState,F=p.stateNode,re=F.getSnapshotBeforeUpdate(p.elementType===p.type?C:Hi(p.type,C),D);F.__reactInternalSnapshotBeforeUpdate=re}break;case 3:fe&&je(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ge){po(p,p.return,ge)}if(g=p.sibling,g!==null){g.return=p.return,ot=g;break}ot=p.return}return T=hk,hk=!1,T}function Ku(p,g,T){var C=g.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var D=C=C.next;do{if((D.tag&p)===p){var F=D.destroy;D.destroy=void 0,F!==void 0&&dT(g,T,F)}D=D.next}while(D!==C)}}function Sg(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var T=g=g.next;do{if((T.tag&p)===p){var C=T.create;T.destroy=C()}T=T.next}while(T!==g)}}function hT(p){var g=p.ref;if(g!==null){var T=p.stateNode;switch(p.tag){case 5:p=z(T);break;default:p=T}typeof g=="function"?g(p):g.current=p}}function pk(p,g,T){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount($u,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(p=g.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var C=p=p.next;do{var D=C,F=D.destroy;D=D.tag,F!==void 0&&(D&2||D&4)&&dT(g,T,F),C=C.next}while(C!==p)}break;case 1:if(Tx(g,T),p=g.stateNode,typeof p.componentWillUnmount=="function")try{p.props=g.memoizedProps,p.state=g.memoizedState,p.componentWillUnmount()}catch(re){po(g,T,re)}break;case 5:Tx(g,T);break;case 4:fe?bk(p,g,T):K&&K&&(g=g.stateNode.containerInfo,T=Ge(g),ct(g,T))}}function mk(p,g,T){for(var C=g;;)if(pk(p,C,T),C.child===null||fe&&C.tag===4){if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function gk(p){var g=p.alternate;g!==null&&(p.alternate=null,gk(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&Re(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function vk(p){return p.tag===5||p.tag===3||p.tag===4}function yk(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||vk(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function xk(p){if(fe){e:{for(var g=p.return;g!==null;){if(vk(g))break e;g=g.return}throw Error(a(160))}var T=g;switch(T.tag){case 5:g=T.stateNode,T.flags&32&&(Te(g),T.flags&=-33),T=yk(p),mT(p,T,g);break;case 3:case 4:g=T.stateNode.containerInfo,T=yk(p),pT(p,T,g);break;default:throw Error(a(161))}}}function pT(p,g,T){var C=p.tag;if(C===5||C===6)p=p.stateNode,g?Ye(T,p,g):He(T,p);else if(C!==4&&(p=p.child,p!==null))for(pT(p,g,T),p=p.sibling;p!==null;)pT(p,g,T),p=p.sibling}function mT(p,g,T){var C=p.tag;if(C===5||C===6)p=p.stateNode,g?qe(T,p,g):De(T,p);else if(C!==4&&(p=p.child,p!==null))for(mT(p,g,T),p=p.sibling;p!==null;)mT(p,g,T),p=p.sibling}function bk(p,g,T){for(var C=g,D=!1,F,re;;){if(!D){D=C.return;e:for(;;){if(D===null)throw Error(a(160));switch(F=D.stateNode,D.tag){case 5:re=!1;break e;case 3:F=F.containerInfo,re=!0;break e;case 4:F=F.containerInfo,re=!0;break e}D=D.return}D=!0}if(C.tag===5||C.tag===6)mk(p,C,T),re?ce(F,C.stateNode):ke(F,C.stateNode);else if(C.tag===18)re?Ae(F,C.stateNode):ye(F,C.stateNode);else if(C.tag===4){if(C.child!==null){F=C.stateNode.containerInfo,re=!0,C.child.return=C,C=C.child;continue}}else if(pk(p,C,T),C.child!==null){C.child.return=C,C=C.child;continue}if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return,C.tag===4&&(D=!1)}C.sibling.return=C.return,C=C.sibling}}function gT(p,g){if(fe){switch(g.tag){case 0:case 11:case 14:case 15:Ku(3,g,g.return),Sg(3,g),Ku(5,g,g.return);return;case 1:return;case 5:var T=g.stateNode;if(T!=null){var C=g.memoizedProps;p=p!==null?p.memoizedProps:C;var D=g.type,F=g.updateQueue;g.updateQueue=null,F!==null&&Xe(T,F,D,p,C,g)}return;case 6:if(g.stateNode===null)throw Error(a(162));T=g.memoizedProps,it(g.stateNode,p!==null?p.memoizedProps:T,T);return;case 3:de&&p!==null&&p.memoizedState.isDehydrated&&cl(g.stateNode.containerInfo);return;case 12:return;case 13:Ax(g);return;case 19:Ax(g);return;case 17:return}throw Error(a(163))}switch(g.tag){case 0:case 11:case 14:case 15:Ku(3,g,g.return),Sg(3,g),Ku(5,g,g.return);return;case 12:return;case 13:Ax(g);return;case 19:Ax(g);return;case 3:de&&p!==null&&p.memoizedState.isDehydrated&&cl(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(K){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,ct(g.containerInfo,g.pendingChildren);break e}throw Error(a(163))}}function Ax(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var T=p.stateNode;T===null&&(T=p.stateNode=new XQ),g.forEach(function(C){var D=iZ.bind(null,p,C);T.has(C)||(T.add(C),C.then(D,D))})}}function YQ(p,g){for(ot=g;ot!==null;){g=ot;var T=g.deletions;if(T!==null)for(var C=0;C<T.length;C++){var D=T[C];try{var F=p;fe?bk(F,D,g):mk(F,D,g);var re=D.alternate;re!==null&&(re.return=null),D.return=null}catch(yt){po(D,g,yt)}}if(T=g.child,g.subtreeFlags&12854&&T!==null)T.return=g,ot=T;else for(;ot!==null;){g=ot;try{var ge=g.flags;if(ge&32&&fe&&Te(g.stateNode),ge&512){var Le=g.alternate;if(Le!==null){var et=Le.ref;et!==null&&(typeof et=="function"?et(null):et.current=null)}}if(ge&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var ht=g.alternate;(ht===null||ht.memoizedState===null)&&(wT=Zn())}break;case 22:var Bt=g.memoizedState!==null,Mt=g.alternate,Pn=Mt!==null&&Mt.memoizedState!==null;if(T=g,fe){e:if(C=T,D=Bt,F=null,fe)for(var _t=C;;){if(_t.tag===5){if(F===null){F=_t;var Ai=_t.stateNode;D?Je(Ai):Oe(_t.stateNode,_t.memoizedProps)}}else if(_t.tag===6){if(F===null){var ua=_t.stateNode;D?ae(ua):Se(ua,_t.memoizedProps)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===C)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===C)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===C)break e;F===_t&&(F=null),_t=_t.return}F===_t&&(F=null),_t.sibling.return=_t.return,_t=_t.sibling}}if(Bt&&!Pn&&T.mode&1){ot=T;for(var we=T.child;we!==null;){for(T=ot=we;ot!==null;){C=ot;var xe=C.child;switch(C.tag){case 0:case 11:case 14:case 15:Ku(4,C,C.return);break;case 1:Tx(C,C.return);var Ie=C.stateNode;if(typeof Ie.componentWillUnmount=="function"){var st=C.return;try{Ie.props=C.memoizedProps,Ie.state=C.memoizedState,Ie.componentWillUnmount()}catch(yt){po(C,st,yt)}}break;case 5:Tx(C,C.return);break;case 22:if(C.memoizedState!==null){wk(T);continue}}xe!==null?(xe.return=C,ot=xe):wk(T)}we=we.sibling}}}switch(ge&4102){case 2:xk(g),g.flags&=-3;break;case 6:xk(g),g.flags&=-3,gT(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,gT(g.alternate,g);break;case 4:gT(g.alternate,g)}}catch(yt){po(g,g.return,yt)}if(T=g.sibling,T!==null){T.return=g.return,ot=T;break}ot=g.return}}}function KQ(p,g,T){ot=p,_k(p)}function _k(p,g,T){for(var C=(p.mode&1)!==0;ot!==null;){var D=ot,F=D.child;if(D.tag===22&&C){var re=D.memoizedState!==null||Mx;if(!re){var ge=D.alternate,Le=ge!==null&&ge.memoizedState!==null||Yu;ge=Mx;var et=Yu;if(Mx=re,(Yu=Le)&&!et)for(ot=D;ot!==null;)re=ot,Le=re.child,re.tag===22&&re.memoizedState!==null?Ek(D):Le!==null?(Le.return=re,ot=Le):Ek(D);for(;F!==null;)ot=F,_k(F),F=F.sibling;ot=D,Mx=ge,Yu=et}Sk(p)}else D.subtreeFlags&8772&&F!==null?(F.return=D,ot=F):Sk(p)}}function Sk(p){for(;ot!==null;){var g=ot;if(g.flags&8772){var T=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:Yu||Sg(5,g);break;case 1:var C=g.stateNode;if(g.flags&4&&!Yu)if(T===null)C.componentDidMount();else{var D=g.elementType===g.type?T.memoizedProps:Hi(g.type,T.memoizedProps);C.componentDidUpdate(D,T.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var F=g.updateQueue;F!==null&&gL(g,F,C);break;case 3:var re=g.updateQueue;if(re!==null){if(T=null,g.child!==null)switch(g.child.tag){case 5:T=z(g.child.stateNode);break;case 1:T=g.child.stateNode}gL(g,re,T)}break;case 5:var ge=g.stateNode;T===null&&g.flags&4&&Ue(ge,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(de&&g.memoizedState===null){var Le=g.alternate;if(Le!==null){var et=Le.memoizedState;if(et!==null){var ht=et.dehydrated;ht!==null&&Z(ht)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Yu||g.flags&512&&hT(g)}catch(Bt){po(g,g.return,Bt)}}if(g===p){ot=null;break}if(T=g.sibling,T!==null){T.return=g.return,ot=T;break}ot=g.return}}function wk(p){for(;ot!==null;){var g=ot;if(g===p){ot=null;break}var T=g.sibling;if(T!==null){T.return=g.return,ot=T;break}ot=g.return}}function Ek(p){for(;ot!==null;){var g=ot;try{switch(g.tag){case 0:case 11:case 15:var T=g.return;try{Sg(4,g)}catch(Le){po(g,T,Le)}break;case 1:var C=g.stateNode;if(typeof C.componentDidMount=="function"){var D=g.return;try{C.componentDidMount()}catch(Le){po(g,D,Le)}}var F=g.return;try{hT(g)}catch(Le){po(g,F,Le)}break;case 5:var re=g.return;try{hT(g)}catch(Le){po(g,re,Le)}}}catch(Le){po(g,g.return,Le)}if(g===p){ot=null;break}var ge=g.sibling;if(ge!==null){ge.return=g.return,ot=ge;break}ot=g.return}}var Px=0,Cx=1,Ox=2,Rx=3,Ix=4;if(typeof Symbol=="function"&&Symbol.for){var wg=Symbol.for;Px=wg("selector.component"),Cx=wg("selector.has_pseudo_class"),Ox=wg("selector.role"),Rx=wg("selector.test_id"),Ix=wg("selector.text")}function vT(p){var g=q(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(a(364));return g}if(p=G(p),p===null)throw Error(a(362));return p.stateNode.current}function yT(p,g){switch(g.$$typeof){case Px:if(p.type===g.value)return!0;break;case Cx:e:{g=g.value,p=[p,0];for(var T=0;T<p.length;){var C=p[T++],D=p[T++],F=g[D];if(C.tag!==5||!pe(C)){for(;F!=null&&yT(C,F);)D++,F=g[D];if(D===g.length){g=!0;break e}else for(C=C.child;C!==null;)p.push(C,D),C=C.sibling}}g=!1}return g;case Ox:if(p.tag===5&&_e(p.stateNode,g.value))return!0;break;case Ix:if((p.tag===5||p.tag===6)&&(p=se(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case Rx:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function xT(p){switch(p.$$typeof){case Px:return"<"+(A(p.value)||"Unknown")+">";case Cx:return":has("+(xT(p)||"")+")";case Ox:return'[role="'+p.value+'"]';case Ix:return'"'+p.value+'"';case Rx:return'[data-testname="'+p.value+'"]';default:throw Error(a(365))}}function Mk(p,g){var T=[];p=[p,0];for(var C=0;C<p.length;){var D=p[C++],F=p[C++],re=g[F];if(D.tag!==5||!pe(D)){for(;re!=null&&yT(D,re);)F++,re=g[F];if(F===g.length)T.push(D);else for(D=D.child;D!==null;)p.push(D,F),D=D.sibling}}return T}function bT(p,g){if(!Ce)throw Error(a(363));p=vT(p),p=Mk(p,g),g=[],p=Array.from(p);for(var T=0;T<p.length;){var C=p[T++];if(C.tag===5)pe(C)||g.push(C.stateNode);else for(C=C.child;C!==null;)p.push(C),C=C.sibling}return g}var QQ=Math.ceil,Nx=s.ReactCurrentDispatcher,_T=s.ReactCurrentOwner,vr=s.ReactCurrentBatchConfig,Jt=0,Tr=null,Ar=null,li=0,Lo=0,lh=Kt(0),kr=0,Eg=null,ch=0,Dx=0,ST=0,Mg=null,fo=null,wT=0,ET=1/0;function uh(){ET=Zn()+500}var Lx=!1,MT=null,wc=null,kx=!1,Ec=null,Ux=0,Tg=0,TT=null,Fx=-1,jx=0;function Xi(){return Jt&6?Zn():Fx!==-1?Fx:Fx=Zn()}function Mc(p){return p.mode&1?Jt&2&&li!==0?li&-li:Vu.transition!==null?(jx===0&&(p=ul,ul<<=1,!(ul&4194240)&&(ul=64),jx=p),jx):(p=tn,p!==0?p:be()):1}function la(p,g,T){if(50<Tg)throw Tg=0,TT=null,Error(a(185));var C=zx(p,g);return C===null?null:(xs(C,g,T),(!(Jt&2)||C!==Tr)&&(C===Tr&&(!(Jt&2)&&(Dx|=g),kr===4&&Tc(C,li)),ho(C,T),g===1&&Jt===0&&!(p.mode&1)&&(uh(),_s&&uo())),C)}function zx(p,g){p.lanes|=g;var T=p.alternate;for(T!==null&&(T.lanes|=g),T=p,p=p.return;p!==null;)p.childLanes|=g,T=p.alternate,T!==null&&(T.childLanes|=g),T=p,p=p.return;return T.tag===3?T.stateNode:null}function ho(p,g){var T=p.callbackNode;rg(p,g);var C=zu(p,p===Tr?li:0);if(C===0)T!==null&&Zd(T),p.callbackNode=null,p.callbackPriority=0;else if(g=C&-C,p.callbackPriority!==g){if(T!=null&&Zd(T),g===1)p.tag===0?cg(Ak.bind(null,p)):lg(Ak.bind(null,p)),me?Fe(function(){Jt===0&&uo()}):pl(Bu,uo),T=null;else{switch(ig(C)){case 1:T=Bu;break;case 4:T=rx;break;case 16:T=$i;break;case 536870912:T=ag;break;default:T=$i}T=kk(T,Tk.bind(null,p))}p.callbackPriority=g,p.callbackNode=T}}function Tk(p,g){if(Fx=-1,jx=0,Jt&6)throw Error(a(327));var T=p.callbackNode;if(Ju()&&p.callbackNode!==T)return null;var C=zu(p,p===Tr?li:0);if(C===0)return null;if(C&30||C&p.expiredLanes||g)g=Bx(p,C);else{g=C;var D=Jt;Jt|=2;var F=Ok();(Tr!==p||li!==g)&&(uh(),Qu(p,g));do try{eZ();break}catch(ge){Ck(p,ge)}while(!0);eh(),Nx.current=F,Jt=D,Ar!==null?g=0:(Tr=null,li=0,g=kr)}if(g!==0){if(g===2&&(D=hl(p),D!==0&&(C=D,g=AT(p,D))),g===1)throw T=Eg,Qu(p,0),Tc(p,C),ho(p,Zn()),T;if(g===6)Tc(p,C);else{if(D=p.current.alternate,!(C&30)&&!ZQ(D)&&(g=Bx(p,C),g===2&&(F=hl(p),F!==0&&(C=F,g=AT(p,F))),g===1))throw T=Eg,Qu(p,0),Tc(p,C),ho(p,Zn()),T;switch(p.finishedWork=D,p.finishedLanes=C,g){case 0:case 1:throw Error(a(345));case 2:Zu(p,fo);break;case 3:if(Tc(p,C),(C&130023424)===C&&(g=wT+500-Zn(),10<g)){if(zu(p,0)!==0)break;if(D=p.suspendedLanes,(D&C)!==C){Xi(),p.pingedLanes|=p.suspendedLanes&D;break}p.timeoutHandle=ee(Zu.bind(null,p,fo),g);break}Zu(p,fo);break;case 4:if(Tc(p,C),(C&4194240)===C)break;for(g=p.eventTimes,D=-1;0<C;){var re=31-In(C);F=1<<re,re=g[re],re>D&&(D=re),C&=~F}if(C=D,C=Zn()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*QQ(C/1960))-C,10<C){p.timeoutHandle=ee(Zu.bind(null,p,fo),C);break}Zu(p,fo);break;case 5:Zu(p,fo);break;default:throw Error(a(329))}}}return ho(p,Zn()),p.callbackNode===T?Tk.bind(null,p):null}function AT(p,g){var T=Mg;return p.current.memoizedState.isDehydrated&&(Qu(p,g).flags|=256),p=Bx(p,g),p!==2&&(g=fo,fo=T,g!==null&&PT(g)),p}function PT(p){fo===null?fo=p:fo.push.apply(fo,p)}function ZQ(p){for(var g=p;;){if(g.flags&16384){var T=g.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var C=0;C<T.length;C++){var D=T[C],F=D.getSnapshot;D=D.value;try{if(!Oo(F(),D))return!1}catch{return!1}}}if(T=g.child,g.subtreeFlags&16384&&T!==null)T.return=g,g=T;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Tc(p,g){for(g&=~ST,g&=~Dx,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var T=31-In(g),C=1<<T;p[T]=-1,g&=~C}}function Ak(p){if(Jt&6)throw Error(a(327));Ju();var g=zu(p,0);if(!(g&1))return ho(p,Zn()),null;var T=Bx(p,g);if(p.tag!==0&&T===2){var C=hl(p);C!==0&&(g=C,T=AT(p,C))}if(T===1)throw T=Eg,Qu(p,0),Tc(p,g),ho(p,Zn()),T;if(T===6)throw Error(a(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,Zu(p,fo),ho(p,Zn()),null}function Pk(p){Ec!==null&&Ec.tag===0&&!(Jt&6)&&Ju();var g=Jt;Jt|=1;var T=vr.transition,C=tn;try{if(vr.transition=null,tn=1,p)return p()}finally{tn=C,vr.transition=T,Jt=g,!(Jt&6)&&uo()}}function CT(){Lo=lh.current,St(lh)}function Qu(p,g){p.finishedWork=null,p.finishedLanes=0;var T=p.timeoutHandle;if(T!==ue&&(p.timeoutHandle=ue,le(T)),Ar!==null)for(T=Ar.return;T!==null;){var C=T;switch(WM(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Fn();break;case 3:ah(),St(Mn),St(nt),JM();break;case 5:QM(C);break;case 4:ah();break;case 13:St(Jn);break;case 19:St(Jn);break;case 10:Yr(C.type._context);break;case 22:case 23:CT()}T=T.return}if(Tr=p,Ar=p=Ac(p.current,null),li=Lo=g,kr=0,Eg=null,ST=Dx=ch=0,fo=Mg=null,Ro!==null){for(g=0;g<Ro.length;g++)if(T=Ro[g],C=T.interleaved,C!==null){T.interleaved=null;var D=C.next,F=T.pending;if(F!==null){var re=F.next;F.next=D,C.next=re}T.pending=C}Ro=null}return p}function Ck(p,g){do{var T=Ar;try{if(eh(),hx.current=xx,px){for(var C=ar.memoizedState;C!==null;){var D=C.queue;D!==null&&(D.pending=null),C=C.next}px=!1}if(sh=0,Kr=Ei=ar=null,mg=!1,gg=0,_T.current=null,T===null||T.return===null){kr=1,Eg=g,Ar=null;break}e:{var F=p,re=T.return,ge=T,Le=g;if(g=li,ge.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var et=Le,ht=ge,Bt=ht.tag;if(!(ht.mode&1)&&(Bt===0||Bt===11||Bt===15)){var Mt=ht.alternate;Mt?(ht.updateQueue=Mt.updateQueue,ht.memoizedState=Mt.memoizedState,ht.lanes=Mt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Pn=KL(re);if(Pn!==null){Pn.flags&=-257,QL(Pn,re,ge,F,g),Pn.mode&1&&YL(F,et,g),g=Pn,Le=et;var _t=g.updateQueue;if(_t===null){var Ai=new Set;Ai.add(Le),g.updateQueue=Ai}else _t.add(Le);break e}else{if(!(g&1)){YL(F,et,g),OT();break e}Le=Error(a(426))}}else if(qn&&ge.mode&1){var ua=KL(re);if(ua!==null){!(ua.flags&65536)&&(ua.flags|=256),QL(ua,re,ge,F,g),YM(Le);break e}}F=Le,kr!==4&&(kr=2),Mg===null?Mg=[F]:Mg.push(F),Le=aT(Le,ge),ge=re;do{switch(ge.tag){case 3:ge.flags|=65536,g&=-g,ge.lanes|=g;var we=XL(ge,Le,g);mL(ge,we);break e;case 1:F=Le;var xe=ge.type,Ie=ge.stateNode;if(!(ge.flags&128)&&(typeof xe.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(wc===null||!wc.has(Ie)))){ge.flags|=65536,g&=-g,ge.lanes|=g;var st=qL(ge,F,g);mL(ge,st);break e}}ge=ge.return}while(ge!==null)}Ik(T)}catch(yt){g=yt,Ar===T&&T!==null&&(Ar=T=T.return);continue}break}while(!0)}function Ok(){var p=Nx.current;return Nx.current=xx,p===null?xx:p}function OT(){(kr===0||kr===3||kr===2)&&(kr=4),Tr===null||!(ch&268435455)&&!(Dx&268435455)||Tc(Tr,li)}function Bx(p,g){var T=Jt;Jt|=2;var C=Ok();Tr===p&&li===g||Qu(p,g);do try{JQ();break}catch(D){Ck(p,D)}while(!0);if(eh(),Jt=T,Nx.current=C,Ar!==null)throw Error(a(261));return Tr=null,li=0,kr}function JQ(){for(;Ar!==null;)Rk(Ar)}function eZ(){for(;Ar!==null&&!og();)Rk(Ar)}function Rk(p){var g=Lk(p.alternate,p,Lo);p.memoizedProps=p.pendingProps,g===null?Ik(p):Ar=g,_T.current=null}function Ik(p){var g=p;do{var T=g.alternate;if(p=g.return,g.flags&32768){if(T=WQ(T,g),T!==null){T.flags&=32767,Ar=T;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{kr=6,Ar=null;return}}else if(T=VQ(T,g,Lo),T!==null){Ar=T;return}if(g=g.sibling,g!==null){Ar=g;return}Ar=g=p}while(g!==null);kr===0&&(kr=5)}function Zu(p,g){var T=tn,C=vr.transition;try{vr.transition=null,tn=1,tZ(p,g,T)}finally{vr.transition=C,tn=T}return null}function tZ(p,g,T){do Ju();while(Ec!==null);if(Jt&6)throw Error(a(327));var C=p.finishedWork,D=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(a(177));p.callbackNode=null,p.callbackPriority=0;var F=C.lanes|C.childLanes;if(xc(p,F),p===Tr&&(Ar=Tr=null,li=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||kx||(kx=!0,kk($i,function(){return Ju(),null})),F=(C.flags&15990)!==0,C.subtreeFlags&15990||F){F=vr.transition,vr.transition=null;var re=tn;tn=1;var ge=Jt;Jt|=4,_T.current=null,qQ(p,C),YQ(p,C),W(p.containerInfo),p.current=C,KQ(C),nx(),Jt=ge,tn=re,vr.transition=F}else p.current=C;if(kx&&(kx=!1,Ec=p,Ux=D),F=p.pendingLanes,F===0&&(wc=null),sg(C.stateNode),ho(p,Zn()),g!==null)for(T=p.onRecoverableError,C=0;C<g.length;C++)T(g[C]);if(Lx)throw Lx=!1,p=MT,MT=null,p;return Ux&1&&p.tag!==0&&Ju(),F=p.pendingLanes,F&1?p===TT?Tg++:(Tg=0,TT=p):Tg=0,uo(),null}function Ju(){if(Ec!==null){var p=ig(Ux),g=vr.transition,T=tn;try{if(vr.transition=null,tn=16>p?16:p,Ec===null)var C=!1;else{if(p=Ec,Ec=null,Ux=0,Jt&6)throw Error(a(331));var D=Jt;for(Jt|=4,ot=p.current;ot!==null;){var F=ot,re=F.child;if(ot.flags&16){var ge=F.deletions;if(ge!==null){for(var Le=0;Le<ge.length;Le++){var et=ge[Le];for(ot=et;ot!==null;){var ht=ot;switch(ht.tag){case 0:case 11:case 15:Ku(8,ht,F)}var Bt=ht.child;if(Bt!==null)Bt.return=ht,ot=Bt;else for(;ot!==null;){ht=ot;var Mt=ht.sibling,Pn=ht.return;if(gk(ht),ht===et){ot=null;break}if(Mt!==null){Mt.return=Pn,ot=Mt;break}ot=Pn}}}var _t=F.alternate;if(_t!==null){var Ai=_t.child;if(Ai!==null){_t.child=null;do{var ua=Ai.sibling;Ai.sibling=null,Ai=ua}while(Ai!==null)}}ot=F}}if(F.subtreeFlags&2064&&re!==null)re.return=F,ot=re;else e:for(;ot!==null;){if(F=ot,F.flags&2048)switch(F.tag){case 0:case 11:case 15:Ku(9,F,F.return)}var we=F.sibling;if(we!==null){we.return=F.return,ot=we;break e}ot=F.return}}var xe=p.current;for(ot=xe;ot!==null;){re=ot;var Ie=re.child;if(re.subtreeFlags&2064&&Ie!==null)Ie.return=re,ot=Ie;else e:for(re=xe;ot!==null;){if(ge=ot,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:Sg(9,ge)}}catch(yt){po(ge,ge.return,yt)}if(ge===re){ot=null;break e}var st=ge.sibling;if(st!==null){st.return=ge.return,ot=st;break e}ot=ge.return}}if(Jt=D,uo(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot($u,p)}catch{}C=!0}return C}finally{tn=T,vr.transition=g}}return!1}function Nk(p,g,T){g=aT(T,g),g=XL(p,g,1),Sc(p,g),g=Xi(),p=zx(p,1),p!==null&&(xs(p,1,g),ho(p,g))}function po(p,g,T){if(p.tag===3)Nk(p,p,T);else for(;g!==null;){if(g.tag===3){Nk(g,p,T);break}else if(g.tag===1){var C=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(wc===null||!wc.has(C))){p=aT(T,p),p=qL(g,p,1),Sc(g,p),p=Xi(),g=zx(g,1),g!==null&&(xs(g,1,p),ho(g,p));break}}g=g.return}}function nZ(p,g,T){var C=p.pingCache;C!==null&&C.delete(g),g=Xi(),p.pingedLanes|=p.suspendedLanes&T,Tr===p&&(li&T)===T&&(kr===4||kr===3&&(li&130023424)===li&&500>Zn()-wT?Qu(p,0):ST|=T),ho(p,g)}function Dk(p,g){g===0&&(p.mode&1?(g=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):g=1);var T=Xi();p=zx(p,g),p!==null&&(xs(p,g,T),ho(p,T))}function rZ(p){var g=p.memoizedState,T=0;g!==null&&(T=g.retryLane),Dk(p,T)}function iZ(p,g){var T=0;switch(p.tag){case 13:var C=p.stateNode,D=p.memoizedState;D!==null&&(T=D.retryLane);break;case 19:C=p.stateNode;break;default:throw Error(a(314))}C!==null&&C.delete(g),Dk(p,T)}var Lk;Lk=function(p,g,T){if(p!==null)if(p.memoizedProps!==g.pendingProps||Mn.current)Do=!0;else{if(!(p.lanes&T)&&!(g.flags&128))return Do=!1,GQ(p,g,T);Do=!!(p.flags&131072)}else Do=!1,qn&&g.flags&1048576&&_L(g,ux,g.index);switch(g.lanes=0,g.tag){case 2:var C=g.type;p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps;var D=Xn(g,nt.current);mr(g,T),D=tT(null,g,C,p,D,T);var F=nT();return g.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Un(C)?(F=!0,Dr(g)):F=!1,g.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,$M(g),D.updater=lx,g.stateNode=D,D._reactInternals=g,HM(g,C,p,T),g=cT(null,g,C,!0,F,T)):(g.tag=0,qn&&F&&GM(g),Wi(null,g,D,T),g=g.child),g;case 16:C=g.elementType;e:{switch(p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps,D=C._init,C=D(C._payload),g.type=C,D=g.tag=aZ(C),p=Hi(C,p),D){case 0:g=lT(null,g,C,p,T);break e;case 1:g=ok(null,g,C,p,T);break e;case 11:g=ek(null,g,C,p,T);break e;case 14:g=tk(null,g,C,Hi(C.type,p),T);break e}throw Error(a(306,C,""))}return g;case 0:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Hi(C,D),lT(p,g,C,D,T);case 1:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Hi(C,D),ok(p,g,C,D,T);case 3:e:{if(ak(g),p===null)throw Error(a(387));C=g.pendingProps,F=g.memoizedState,D=F.element,pL(p,g),sx(g,C,null,T);var re=g.memoizedState;if(C=re.element,de&&F.isDehydrated)if(F={element:C,isDehydrated:!1,cache:re.cache,transitions:re.transitions},g.updateQueue.baseState=F,g.memoizedState=F,g.flags&256){D=Error(a(423)),g=sk(p,g,C,T,D);break e}else if(C!==D){D=Error(a(424)),g=sk(p,g,C,T,D);break e}else for(de&&(No=Mr(g.stateNode.containerInfo),Io=g,qn=!0,Na=null,ug=!1),T=AL(g,null,C,T),g.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(rh(),C===D){g=xl(p,g,T);break e}Wi(p,g,C,T)}g=g.child}return g;case 5:return PL(g),p===null&&qM(g),C=g.type,D=g.pendingProps,F=p!==null?p.memoizedProps:null,re=D.children,te(C,D)?re=null:F!==null&&te(C,F)&&(g.flags|=32),ik(p,g),Wi(p,g,re,T),g.child;case 6:return p===null&&qM(g),null;case 13:return lk(p,g,T);case 4:return KM(g,g.stateNode.containerInfo),C=g.pendingProps,p===null?g.child=ih(g,null,C,T):Wi(p,g,C,T),g.child;case 11:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Hi(C,D),ek(p,g,C,D,T);case 7:return Wi(p,g,g.pendingProps,T),g.child;case 8:return Wi(p,g,g.pendingProps.children,T),g.child;case 12:return Wi(p,g,g.pendingProps.children,T),g.child;case 10:e:{if(C=g.type._context,D=g.pendingProps,F=g.memoizedProps,re=D.value,ox(g,C,re),F!==null)if(Oo(F.value,re)){if(F.children===D.children&&!Mn.current){g=xl(p,g,T);break e}}else for(F=g.child,F!==null&&(F.return=g);F!==null;){var ge=F.dependencies;if(ge!==null){re=F.child;for(var Le=ge.firstContext;Le!==null;){if(Le.context===C){if(F.tag===1){Le=ml(-1,T&-T),Le.tag=2;var et=F.updateQueue;if(et!==null){et=et.shared;var ht=et.pending;ht===null?Le.next=Le:(Le.next=ht.next,ht.next=Le),et.pending=Le}}F.lanes|=T,Le=F.alternate,Le!==null&&(Le.lanes|=T),Gi(F.return,T,g),ge.lanes|=T;break}Le=Le.next}}else if(F.tag===10)re=F.type===g.type?null:F.child;else if(F.tag===18){if(re=F.return,re===null)throw Error(a(341));re.lanes|=T,ge=re.alternate,ge!==null&&(ge.lanes|=T),Gi(re,T,g),re=F.sibling}else re=F.child;if(re!==null)re.return=F;else for(re=F;re!==null;){if(re===g){re=null;break}if(F=re.sibling,F!==null){F.return=re.return,re=F;break}re=re.return}F=re}Wi(p,g,D.children,T),g=g.child}return g;case 9:return D=g.type,C=g.pendingProps.children,mr(g,T),D=gr(D),C=C(D),g.flags|=1,Wi(p,g,C,T),g.child;case 14:return C=g.type,D=Hi(C,g.pendingProps),D=Hi(C.type,D),tk(p,g,C,D,T);case 15:return nk(p,g,g.type,g.pendingProps,T);case 17:return C=g.type,D=g.pendingProps,D=g.elementType===C?D:Hi(C,D),p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,Un(C)?(p=!0,Dr(g)):p=!1,mr(g,T),xL(g,C,D),HM(g,C,D,T),cT(null,g,C,!0,p,T);case 19:return dk(p,g,T);case 22:return rk(p,g,T)}throw Error(a(156,g.tag))};function kk(p,g){return pl(p,g)}function oZ(p,g,T,C){this.tag=p,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(p,g,T,C){return new oZ(p,g,T,C)}function RT(p){return p=p.prototype,!(!p||!p.isReactComponent)}function aZ(p){if(typeof p=="function")return RT(p)?1:0;if(p!=null){if(p=p.$$typeof,p===x)return 11;if(p===_)return 14}return 2}function Ac(p,g){var T=p.alternate;return T===null?(T=ca(p.tag,g,p.key,p.mode),T.elementType=p.elementType,T.type=p.type,T.stateNode=p.stateNode,T.alternate=p,p.alternate=T):(T.pendingProps=g,T.type=p.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=p.flags&14680064,T.childLanes=p.childLanes,T.lanes=p.lanes,T.child=p.child,T.memoizedProps=p.memoizedProps,T.memoizedState=p.memoizedState,T.updateQueue=p.updateQueue,g=p.dependencies,T.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},T.sibling=p.sibling,T.index=p.index,T.ref=p.ref,T}function $x(p,g,T,C,D,F){var re=2;if(C=p,typeof p=="function")RT(p)&&(re=1);else if(typeof p=="string")re=5;else e:switch(p){case u:return ef(T.children,D,F,g);case f:re=8,D|=8;break;case d:return p=ca(12,T,g,D|2),p.elementType=d,p.lanes=F,p;case v:return p=ca(13,T,g,D),p.elementType=v,p.lanes=F,p;case m:return p=ca(19,T,g,D),p.elementType=m,p.lanes=F,p;case w:return Vx(T,D,F,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case h:re=10;break e;case y:re=9;break e;case x:re=11;break e;case _:re=14;break e;case b:re=16,C=null;break e}throw Error(a(130,p==null?p:typeof p,""))}return g=ca(re,T,g,D),g.elementType=p,g.type=C,g.lanes=F,g}function ef(p,g,T,C){return p=ca(7,p,C,g),p.lanes=T,p}function Vx(p,g,T,C){return p=ca(22,p,C,g),p.elementType=w,p.lanes=T,p.stateNode={},p}function IT(p,g,T){return p=ca(6,p,null,g),p.lanes=T,p}function NT(p,g,T){return g=ca(4,p.children!==null?p.children:[],p.key,g),g.lanes=T,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function sZ(p,g,T,C,D){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ue,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qd(0),this.expirationTimes=Qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qd(0),this.identifierPrefix=C,this.onRecoverableError=D,de&&(this.mutableSourceEagerHydrationData=null)}function Uk(p,g,T,C,D,F,re,ge,Le){return p=new sZ(p,g,T,ge,Le),g===1?(g=1,F===!0&&(g|=8)):g=0,F=ca(3,null,null,g),p.current=F,F.stateNode=p,F.memoizedState={element:C,isDehydrated:T,cache:null,transitions:null},$M(F),p}function Fk(p){if(!p)return Ft;p=p._reactInternals;e:{if(R(p)!==p||p.tag!==1)throw Error(a(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Un(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(a(171))}if(p.tag===1){var T=p.type;if(Un(T))return hn(p,T,g)}return g}function jk(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(a(188)):(p=Object.keys(p).join(","),Error(a(268,p)));return p=L(g),p===null?null:p.stateNode}function zk(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var T=p.retryLane;p.retryLane=T!==0&&T<g?T:g}}function DT(p,g){zk(p,g),(p=p.alternate)&&zk(p,g)}function lZ(p){return p=L(p),p===null?null:p.stateNode}function cZ(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var g=Xi();la(p,134217728,g),DT(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=Xi(),T=Mc(p);la(p,T,g),DT(p,T)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var T=dl(g.pendingLanes);T!==0&&(bs(g,T|1),ho(g,Zn()),!(Jt&6)&&(uh(),uo()))}break;case 13:var C=Xi();Pk(function(){return la(p,1,C)}),DT(p,1)}},n.batchedUpdates=function(p,g){var T=Jt;Jt|=1;try{return p(g)}finally{Jt=T,Jt===0&&(uh(),_s&&uo())}},n.createComponentSelector=function(p){return{$$typeof:Px,value:p}},n.createContainer=function(p,g,T,C,D,F,re){return Uk(p,g,!1,null,T,C,D,F,re)},n.createHasPseudoClassSelector=function(p){return{$$typeof:Cx,value:p}},n.createHydrationContainer=function(p,g,T,C,D,F,re,ge,Le){return p=Uk(T,C,!0,p,D,F,re,ge,Le),p.context=Fk(null),T=p.current,C=Xi(),D=Mc(T),F=ml(C,D),F.callback=g??null,Sc(T,F),p.current.lanes=D,xs(p,D,C),ho(p,C),p},n.createPortal=function(p,g,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:p,containerInfo:g,implementation:T}},n.createRoleSelector=function(p){return{$$typeof:Ox,value:p}},n.createTestNameSelector=function(p){return{$$typeof:Rx,value:p}},n.createTextSelector=function(p){return{$$typeof:Ix,value:p}},n.deferredUpdates=function(p){var g=tn,T=vr.transition;try{return vr.transition=null,tn=16,p()}finally{tn=g,vr.transition=T}},n.discreteUpdates=function(p,g,T,C,D){var F=tn,re=vr.transition;try{return vr.transition=null,tn=1,p(g,T,C,D)}finally{tn=F,vr.transition=re,Jt===0&&uh()}},n.findAllNodes=bT,n.findBoundingRects=function(p,g){if(!Ce)throw Error(a(363));g=bT(p,g),p=[];for(var T=0;T<g.length;T++)p.push(V(g[T]));for(g=p.length-1;0<g;g--){T=p[g];for(var C=T.x,D=C+T.width,F=T.y,re=F+T.height,ge=g-1;0<=ge;ge--)if(g!==ge){var Le=p[ge],et=Le.x,ht=et+Le.width,Bt=Le.y,Mt=Bt+Le.height;if(C>=et&&F>=Bt&&D<=ht&&re<=Mt){p.splice(g,1);break}else if(C!==et||T.width!==Le.width||Mt<F||Bt>re){if(!(F!==Bt||T.height!==Le.height||ht<C||et>D)){et>C&&(Le.width+=et-C,Le.x=C),ht<D&&(Le.width=D-et),p.splice(g,1);break}}else{Bt>F&&(Le.height+=Bt-F,Le.y=F),Mt<re&&(Le.height=re-Bt),p.splice(g,1);break}}}return p},n.findHostInstance=jk,n.findHostInstanceWithNoPortals=function(p){return p=N(p),p=p!==null?U(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return jk(p)},n.flushControlled=function(p){var g=Jt;Jt|=1;var T=vr.transition,C=tn;try{vr.transition=null,tn=1,p()}finally{tn=C,vr.transition=T,Jt=g,Jt===0&&(uh(),uo())}},n.flushPassiveEffects=Ju,n.flushSync=Pk,n.focusWithin=function(p,g){if(!Ce)throw Error(a(363));for(p=vT(p),g=Mk(p,g),g=Array.from(g),p=0;p<g.length;){var T=g[p++];if(!pe(T)){if(T.tag===5&&Me(T.stateNode))return!0;for(T=T.child;T!==null;)g.push(T),T=T.sibling}}return!1},n.getCurrentUpdatePriority=function(){return tn},n.getFindAllNodesFailureDescription=function(p,g){if(!Ce)throw Error(a(363));var T=0,C=[];p=[vT(p),0];for(var D=0;D<p.length;){var F=p[D++],re=p[D++],ge=g[re];if((F.tag!==5||!pe(F))&&(yT(F,ge)&&(C.push(xT(ge)),re++,re>T&&(T=re)),re<g.length))for(F=F.child;F!==null;)p.push(F,re),F=F.sibling}if(T<g.length){for(p=[];T<g.length;T++)p.push(xT(g[T]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return z(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:lZ,findFiberByHostInstance:p.findFiberByHostInstance||cZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{$u=g.inject(p),Co=g}catch{}p=!!g.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,g,T,C){if(!Ce)throw Error(a(363));p=bT(p,g);var D=Be(p,T,C).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(p,g){var T=g._getVersion;T=T(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,T]:p.mutableSourceEagerHydrationData.push(g,T)},n.runWithPriority=function(p,g){var T=tn;try{return tn=p,g()}finally{tn=T}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,g,T,C){var D=g.current,F=Xi(),re=Mc(D);return T=Fk(T),g.context===null?g.context=T:g.pendingContext=T,g=ml(F,re),g.payload={element:p},C=C===void 0?null:C,C!==null&&(g.callback=C),Sc(D,g),p=la(D,re,F),p!==null&&ax(p,D,re),re},n};dK.exports=uBe;var fBe=dK.exports;const dBe=yn(fBe);var hK={exports:{}},pK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,B){var W=k.length;k.push(B);e:for(;0<W;){var $=W-1>>>1,Y=k[$];if(0<i(Y,B))k[$]=B,k[W]=Y,W=$;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var B=k[0],W=k.pop();if(W!==B){k[0]=W;e:for(var $=0,Y=k.length,J=Y>>>1;$<J;){var X=2*($+1)-1,te=k[X],ie=X+1,ee=k[ie];if(0>i(te,W))ie<Y&&0>i(ee,te)?(k[$]=ee,k[ie]=W,$=ie):(k[$]=te,k[X]=W,$=X);else if(ie<Y&&0>i(ee,W))k[$]=ee,k[ie]=W,$=ie;else break e}}return B}function i(k,B){var W=k.sortIndex-B.sortIndex;return W!==0?W:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=k)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(k){if(x=!1,b(k),!y)if(n(l)!==null)y=!0,z(E);else{var B=n(c);B!==null&&Q(w,B.startTime-k)}}function E(k,B){y=!1,x&&(x=!1,m(P),P=-1),h=!0;var W=d;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||k&&!N());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var Y=$(f.expirationTime<=B);B=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var X=n(c);X!==null&&Q(w,X.startTime-B),J=!1}return J}finally{f=null,d=W,h=!1}}var M=!1,A=null,P=-1,R=5,O=-1;function N(){return!(t.unstable_now()-O<R)}function L(){if(A!==null){var k=t.unstable_now();O=k;var B=!0;try{B=A(!0,k)}finally{B?j():(M=!1,A=null)}}else M=!1}var j;if(typeof _=="function")j=function(){_(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=L,j=function(){H.postMessage(null)}}else j=function(){v(L,0)};function z(k){A=k,M||(M=!0,j())}function Q(k,B){P=v(function(){k(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,z(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var W=d;d=B;try{return k()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=d;d=k;try{return B()}finally{d=W}},t.unstable_scheduleCallback=function(k,B,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,k={id:u++,callback:B,priorityLevel:k,startTime:W,expirationTime:Y,sortIndex:-1},W>$?(k.sortIndex=W,e(c,k),n(l)===null&&k===n(c)&&(x?(m(P),P=-1):x=!0,Q(w,W-$))):(k.sortIndex=Y,e(l,k),y||h||(y=!0,z(E))),k},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(k){var B=d;return function(){var W=d;d=B;try{return k.apply(this,arguments)}finally{d=W}}}})(pK);hK.exports=pK;var j5=hK.exports;const iL={},hBe=t=>void Object.assign(iL,t);function pBe(t,e){function n(u,{args:f=[],attach:d,...h},y){let x=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const m=h.object;v=Vh(m,{type:u,root:y,attach:d,primitive:!0})}else{const m=iL[x];if(!m)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=Vh(new m(...f),{type:u,root:y,attach:d,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),x!=="inject"&&WP(v,h),v}function r(u,f){let d=!1;if(f){var h,y;(h=f.__r3f)!=null&&h.attach?GP(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||Vh(f,{}),f.__r3f.parent=u,fR(f),Hh(f)}}function i(u,f,d){let h=!1;if(f){var y,x;if((y=f.__r3f)!=null&&y.attach)GP(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const v=u.children.filter(_=>_!==f),m=v.indexOf(d);u.children=[...v.slice(0,m),f,...v.slice(m)],h=!0}h||(x=u.__r3f)==null||x.objects.push(f),f.__r3f||Vh(f,{}),f.__r3f.parent=u,fR(f),Hh(f)}}function o(u,f,d=!1){u&&[...u].forEach(h=>a(f,h,d))}function a(u,f,d){if(f){var h,y,x;if(f.__r3f&&(f.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==f)),(y=f.__r3f)!=null&&y.attach)H5(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var v;u.remove(f),(v=f.__r3f)!=null&&v.root&&SBe(t_(f),f)}const _=(x=f.__r3f)==null?void 0:x.primitive,b=!_&&(d===void 0?f.dispose!==null:d);if(!_){var m;o((m=f.__r3f)==null?void 0:m.objects,f,b),o(f.children,f,b)}if(delete f.__r3f,b&&f.dispose&&f.type!=="Scene"){const w=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?j5.unstable_scheduleCallback(j5.unstable_IdlePriority,w):w()}Hh(u)}}function s(u,f,d,h){var y;const x=(y=u.__r3f)==null?void 0:y.parent;if(!x)return;const v=n(f,d,u.__r3f.root);if(u.children){for(const m of u.children)m.__r3f&&r(v,m);u.children=u.children.filter(m=>!m.__r3f)}u.__r3f.objects.forEach(m=>r(v,m)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(x,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(x,v),v.raycast&&v.__r3f.eventCount&&t_(v).getState().internal.interaction.push(v),[h,h.alternate].forEach(m=>{m!==null&&(m.stateNode=v,m.ref&&(typeof m.ref=="function"?m.ref(v):m.ref.current=v))})}const l=()=>{};return{reconciler:dBe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&a(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const h=u.getState().scene;h.__r3f&&i(h,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,h){var y;if(((y=u==null?void 0:u.__r3f)!=null?y:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:v=[],children:m,..._}=h,{args:b=[],children:w,...E}=d;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((A,P)=>A!==b[P]))return[!0];const M=_K(u,_,E,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[f,d],h,y,x,v){f?s(u,h,x,v):WP(u,d)},commitMount(u,f,d,h){var y;const x=(y=u.__r3f)!=null?y:{};u.raycast&&x.handlers&&x.eventCount&&t_(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Vh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:h}=(f=u.__r3f)!=null?f:{};d&&h&&H5(h,u,d),u.isObject3D&&(u.visible=!1),Hh(u)},unhideInstance(u,f){var d;const{attach:h,parent:y}=(d=u.__r3f)!=null?d:{};h&&y&&GP(y,u,h),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Hh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():mp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&$n.fun(performance.now)?performance.now:$n.fun(Date.now)?Date.now:()=>0,scheduleTimeout:$n.fun(setTimeout)?setTimeout:void 0,cancelTimeout:$n.fun(clearTimeout)?clearTimeout:void 0}),applyProps:WP}}var z5,B5;const HP=t=>"colorSpace"in t||"outputColorSpace"in t,mK=()=>{var t;return(t=iL.ColorManagement)!=null?t:null},gK=t=>t&&t.isOrthographicCamera,mBe=t=>t&&t.hasOwnProperty("current"),J0=typeof window<"u"&&((z5=window.document)!=null&&z5.createElement||((B5=window.navigator)==null?void 0:B5.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function vK(t){const e=I.useRef(t);return J0(()=>void(e.current=t),[t]),e}function gBe({set:t}){return J0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class yK extends I.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}yK.getDerivedStateFromError=()=>({error:!0});const xK="__default",$5=new Map,vBe=t=>t&&!!t.memoized&&!!t.changes;function bK(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const ov=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function t_(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const $n={obj:t=>t===Object(t)&&!$n.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if($n.str(t)||$n.num(t)||$n.boo(t))return t===e;const o=$n.obj(t);if(o&&r==="reference")return t===e;const a=$n.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!$n.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if($n.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function yBe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Vh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function uR(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const V5=/-\d+$/;function GP(t,e,n){if($n.str(n)){if(V5.test(n)){const o=n.replace(V5,""),{target:a,key:s}=uR(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=uR(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function H5(t,e,n){var r,i;if($n.str(n)){const{target:o,key:a}=uR(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function _K(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),d=[];if(c){const y=Object.keys(l);for(let x=0;x<y.length;x++)i.hasOwnProperty(y[x])||f.unshift([y[x],xK+"remove"])}f.forEach(([y,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&y==="object"||$n.equ(x,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return d.push([y,x,!0,[]]);let m=[];y.includes("-")&&(m=y.split("-")),d.push([y,x,!1,m]);for(const _ in i){const b=i[_];_.startsWith(`${y}-`)&&d.push([_,b,!1,_.split("-")])}});const h={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(h.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(h.attach=u.memoizedProps.attach),{memoized:h,changes:d}}const xBe=typeof process<"u"&&!1;function WP(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=vBe(e)?e:_K(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<s.length;d++){let[h,y,x,v]=s[d];if(HP(t)){const w="srgb",E="srgb-linear";h==="encoding"?(h="colorSpace",y=y===3001?w:E):h==="outputEncoding"&&(h="outputColorSpace",y=y===3001?w:E)}let m=t,_=m[h];if(v.length&&(_=v.reduce((b,w)=>b[w],t),!(_&&_.set))){const[b,...w]=v.reverse();m=w.reverse().reduce((E,M)=>E[M],t),h=b}if(y===xK+"remove")if(m.constructor){let b=$5.get(m.constructor);b||(b=new m.constructor,$5.set(m.constructor,b)),y=b[h]}else y=0;if(x&&r)y?r.handlers[h]=y:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof sd)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&(xBe?_.constructor.name===y.constructor.name:_.constructor===y.constructor))_.copy(y);else if(y!==void 0){var c;const b=(c=_)==null?void 0:c.isColor;!b&&_.setScalar?_.setScalar(y):_ instanceof sd&&y instanceof sd?_.mask=y.mask:_.set(y),!mK()&&o&&!o.linear&&b&&_.convertSRGBToLinear()}}else{var u;if(m[h]=y,(u=m[h])!=null&&u.isTexture&&m[h].format===Ui&&m[h].type===fs&&o){const b=m[h];HP(b)&&HP(o.gl)?b.colorSpace=o.gl.outputColorSpace:b.encoding=o.gl.outputEncoding}}Hh(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=t_(t).getState().internal,h=d.interaction.indexOf(t);h>-1&&d.interaction.splice(h,1),r.eventCount&&d.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&fR(t),t}function Hh(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function fR(t){t.onUpdate==null||t.onUpdate(t)}function bBe(t,e){t.manual||(gK(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Mb(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function _Be(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return mp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return mp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return mp.ContinuousEventPriority;default:return mp.DefaultEventPriority}}function SK(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function SBe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{SK(n.capturedMap,e,r,i)})}function wBe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,d=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let m=0;m<h.length;m++){const _=ov(h[m]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(m){const _=ov(m);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(m,!0):[]}let x=h.flatMap(y).sort((m,_)=>{const b=ov(m.object),w=ov(_.object);return!b||!w?m.distance-_.distance:w.events.priority-b.events.priority||m.distance-_.distance}).filter(m=>{const _=Mb(m);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const m of x){let _=m.object;for(;_;){var v;(v=_.__r3f)!=null&&v.eventCount&&d.push({...m,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let m of u.internal.capturedMap.get(l.pointerId).values())f.has(Mb(m.intersection))||d.push(m.intersection);return d}function i(l,c,u,f){const d=t.getState();if(l.length){const h={stopped:!1};for(const y of l){const x=ov(y.object)||d,{raycaster:v,pointer:m,camera:_,internal:b}=x,w=new ne(m.x,m.y,0).unproject(_),E=O=>{var N,L;return(N=(L=b.capturedMap.get(O))==null?void 0:L.has(y.eventObject))!=null?N:!1},M=O=>{const N={intersection:y,target:c.target};b.capturedMap.has(O)?b.capturedMap.get(O).set(y.eventObject,N):b.capturedMap.set(O,new Map([[y.eventObject,N]])),c.target.setPointerCapture(O)},A=O=>{const N=b.capturedMap.get(O);N&&SK(b.capturedMap,y.eventObject,N,O)};let P={};for(let O in c){let N=c[O];typeof N!="function"&&(P[O]=N)}let R={...y,...P,pointer:m,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:w,ray:v.ray,camera:_,stopPropagation(){const O="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!O||O.has(y.eventObject))&&(R.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(N=>N.eventObject===y.eventObject))){const N=l.slice(0,l.indexOf(y));o([...N,y])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:A},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:A},nativeEvent:c};if(f(R),h.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,h=d==null?void 0:d.handlers;if(c.hovered.delete(Mb(u)),d!=null&&d.eventCount){const y={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(y),h.onPointerLeave==null||h.onPointerLeave(y)}}}function a(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const h=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,h?n:void 0),m=y?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=v.map(b=>b.eventObject)),y&&!v.length&&m<=2&&(a(u,d.interaction),f&&f(u)),h&&o(v);function _(b){const w=b.eventObject,E=w.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(h){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const A=Mb(b),P=d.hovered.get(A);P?P.stopped&&b.stopPropagation():(d.hovered.set(A,b),M.onPointerOver==null||M.onPointerOver(b),M.onPointerEnter==null||M.onPointerEnter(b))}M.onPointerMove==null||M.onPointerMove(b)}else{const A=M[l];A?(!y||d.initialHits.includes(w))&&(a(u,d.interaction.filter(P=>!d.initialHits.includes(P))),A(b)):y&&d.initialHits.includes(w)&&a(u,d.interaction.filter(P=>!d.initialHits.includes(P)))}}i(v,u,m,_)}}return{handlePointer:s}}const wK=t=>!!(t!=null&&t.render),EK=I.createContext(null),EBe=(t,e)=>{const n=rBe((s,l)=>{const c=new ne,u=new ne,f=new ne;function d(m=l().camera,_=u,b=l().size){const{width:w,height:E,top:M,left:A}=b,P=w/E;_.isVector3?f.copy(_):f.set(..._);const R=m.getWorldPosition(c).distanceTo(f);if(gK(m))return{width:w/m.zoom,height:E/m.zoom,top:M,left:A,factor:1,distance:R,aspect:P};{const O=m.fov*Math.PI/180,N=2*Math.tan(O/2)*R,L=N*(w/E);return{width:L,height:N,top:M,left:A,factor:w/L,distance:R,aspect:P}}}let h;const y=m=>s(_=>({performance:{..._.performance,current:m}})),x=new $e;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(m=1)=>t(l(),m),advance:(m,_)=>e(m,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new JD,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const m=l();h&&clearTimeout(h),m.performance.current!==m.performance.min&&y(m.performance.min),h=setTimeout(()=>y(l().performance.max),m.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:m=>s(_=>({..._,events:{..._.events,...m}})),setSize:(m,_,b,w,E)=>{const M=l().camera,A={width:m,height:_,top:w||0,left:E||0,updateStyle:b};s(P=>({size:A,viewport:{...P.viewport,...d(M,u,A)}}))},setDpr:m=>s(_=>{const b=bK(m);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(m="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,m!=="never"&&(_.start(),_.elapsedTime=0),s(()=>({frameloop:m}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:I.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(m,_,b)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:m,priority:_,store:b}),w.subscribers=w.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==m))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var d;i=l,o=c.dpr,bBe(s,l),u.setPixelRatio(c.dpr);const h=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}s!==a&&(a=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let Tb,MBe=new Set,TBe=new Set,ABe=new Set;function XP(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function av(t,e){switch(t){case"before":return XP(MBe,e);case"after":return XP(TBe,e);case"tail":return XP(ABe,e)}}let qP,YP;function KP(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),qP=e.internal.subscribers,Tb=0;Tb<qP.length;Tb++)YP=qP[Tb],YP.ref.current(YP.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function PBe(t){let e=!1,n=!1,r,i,o;function a(c){i=requestAnimationFrame(a),e=!0,r=0,av("before",c),n=!0;for(const f of t.values()){var u;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((u=o.gl.xr)!=null&&u.isPresenting)&&(r+=KP(c,o))}if(n=!1,av("after",c),r===0)return av("tail",c),e=!1,cancelAnimationFrame(i)}function s(c,u=1){var f;if(!c)return t.forEach(d=>s(d.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,f,d){if(u&&av("before",c),f)KP(c,f,d);else for(const h of t.values())KP(c,h.store.getState());u&&av("after",c)}return{loop:a,invalidate:s,advance:l}}function MK(){const t=I.useContext(EK);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Cs(t=n=>n,e){return MK()(t,e)}function oL(t,e=0){const n=MK(),r=n.getState().internal.subscribe,i=vK(t);return J0(()=>r(i,e,n),[e,r,n]),null}const Tm=new Map,{invalidate:G5,advance:W5}=PBe(Tm),{reconciler:Pw,applyProps:jh}=pBe(Tm,_Be),zh={objects:"shallow",strict:!1},CBe=(t,e)=>{const n=typeof t=="function"?t(e):t;return wK(n)?n:new vY({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function OBe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function RBe(t){const e=Tm.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||EBe(G5,W5),a=n||Pw.createContainer(o,mp.ConcurrentRoot,null,!1,null,"",i,null);e||Tm.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:h,events:y,onCreated:x,shadows:v=!1,linear:m=!1,flat:_=!1,legacy:b=!1,orthographic:w=!1,frameloop:E="always",dpr:M=[1,2],performance:A,raycaster:P,camera:R,onPointerMissed:O}=u,N=o.getState(),L=N.gl;N.gl||N.set({gl:L=CBe(f,t)});let j=N.raycaster;j||N.set({raycaster:j=new lK});const{params:U,...H}=P||{};if($n.equ(H,j,zh)||jh(j,{...H}),$n.equ(U,j.params,zh)||jh(j,{params:{...j.params,...U}}),!N.camera||N.camera===c&&!$n.equ(c,R,zh)){c=R;const W=R instanceof G0,$=W?R:w?new gu(0,0,0,0,.1,1e3):new _r(75,0,.1,1e3);W||($.position.z=5,R&&(jh($,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&($.manual=!0,$.updateProjectionMatrix())),!N.camera&&!(R!=null&&R.rotation)&&$.lookAt(0,0,0)),N.set({camera:$}),j.camera=$}if(!N.scene){let W;h!=null&&h.isScene?W=h:(W=new LD,h&&jh(W,h)),N.set({scene:Vh(W)})}if(!N.xr){var z;const W=(J,X)=>{const te=o.getState();te.frameloop!=="never"&&W5(J,!0,te,X)},$=()=>{const J=o.getState();J.gl.xr.enabled=J.gl.xr.isPresenting,J.gl.xr.setAnimationLoop(J.gl.xr.isPresenting?W:null),J.gl.xr.isPresenting||G5(J)},Y={connect(){const J=o.getState().gl;J.xr.addEventListener("sessionstart",$),J.xr.addEventListener("sessionend",$)},disconnect(){const J=o.getState().gl;J.xr.removeEventListener("sessionstart",$),J.xr.removeEventListener("sessionend",$)}};typeof((z=L.xr)==null?void 0:z.addEventListener)=="function"&&Y.connect(),N.set({xr:Y})}if(L.shadowMap){const W=L.shadowMap.enabled,$=L.shadowMap.type;if(L.shadowMap.enabled=!!v,$n.boo(v))L.shadowMap.type=kv;else if($n.str(v)){var Q;const Y={basic:mq,percentage:oM,soft:kv,variance:$a};L.shadowMap.type=(Q=Y[v])!=null?Q:kv}else $n.obj(v)&&Object.assign(L.shadowMap,v);(W!==L.shadowMap.enabled||$!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}const k=mK();k&&("enabled"in k?k.enabled=!b:"legacyMode"in k&&(k.legacyMode=b)),l||jh(L,{outputEncoding:m?3e3:3001,toneMapping:_?Qs:mD}),N.legacy!==b&&N.set(()=>({legacy:b})),N.linear!==m&&N.set(()=>({linear:m})),N.flat!==_&&N.set(()=>({flat:_})),f&&!$n.fun(f)&&!wK(f)&&!$n.equ(f,L,zh)&&jh(L,f),y&&!N.events.handlers&&N.set({events:y(o)});const B=OBe(t,d);return $n.equ(B,N.size,zh)||N.setSize(B.width,B.height,B.updateStyle,B.top,B.left),M&&N.viewport.dpr!==bK(M)&&N.setDpr(M),N.frameloop!==E&&N.setFrameloop(E),N.onPointerMissed||N.set({onPointerMissed:O}),A&&!$n.equ(A,N.performance,zh)&&N.set(W=>({performance:{...W.performance,...A}})),s=x,l=!0,this},render(u){return l||this.configure(),Pw.updateContainer(S.jsx(IBe,{store:o,children:u,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){TK(t)}}}function IBe({store:t,children:e,onCreated:n,rootElement:r}){return J0(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),S.jsx(EK.Provider,{value:t,children:e})}function TK(t,e){const n=Tm.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Pw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),yBe(i),Tm.delete(t)}catch{}},500)})}}Pw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version});const QP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function NBe(t){const{handlePointer:e}=wBe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(QP).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=QP[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=QP[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function X5(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function DBe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=I.useRef(!1);I.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,h]=I.useMemo(()=>{const m=()=>{if(!s.current.element)return;const{left:_,top:b,width:w,height:E,bottom:M,right:A,x:P,y:R}=s.current.element.getBoundingClientRect(),O={left:_,top:b,width:w,height:E,bottom:M,right:A,x:P,y:R};s.current.element instanceof HTMLElement&&r&&(O.height=s.current.element.offsetHeight,O.width=s.current.element.offsetWidth),Object.freeze(O),u.current&&!FBe(s.current.lastBounds,O)&&a(s.current.lastBounds=O)};return[m,c?X5(m,c):m,l?X5(m,l):m]},[a,r,l,c]);function y(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(m=>m.removeEventListener("scroll",h,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function x(){s.current.element&&(s.current.resizeObserver=new i(h),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(m=>m.addEventListener("scroll",h,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const v=m=>{!m||m===s.current.element||(y(),s.current.element=m,s.current.scrollContainers=AK(m),x())};return kBe(h,!!e),LBe(d),I.useEffect(()=>{y(),x()},[e,h,d]),I.useEffect(()=>y,[]),[v,o,f]}function LBe(t){I.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function kBe(t,e){I.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function AK(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...AK(t.parentElement)]}const UBe=["x","y","top","bottom","left","right","width","height"],FBe=(t,e)=>UBe.every(n=>t[n]===e[n]);var jBe=Object.defineProperty,zBe=Object.defineProperties,BBe=Object.getOwnPropertyDescriptors,q5=Object.getOwnPropertySymbols,$Be=Object.prototype.hasOwnProperty,VBe=Object.prototype.propertyIsEnumerable,Y5=(t,e,n)=>e in t?jBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K5=(t,e)=>{for(var n in e||(e={}))$Be.call(e,n)&&Y5(t,n,e[n]);if(q5)for(var n of q5(e))VBe.call(e,n)&&Y5(t,n,e[n]);return t},HBe=(t,e)=>zBe(t,BBe(e)),Q5,Z5;typeof window<"u"&&((Q5=window.document)!=null&&Q5.createElement||((Z5=window.navigator)==null?void 0:Z5.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function PK(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=PK(r,e,n);if(i)return i;r=r.sibling}}function CK(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const J5=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=J5;return}return J5.apply(this,arguments)};const aL=CK(I.createContext(null));class OK extends I.Component{render(){return I.createElement(aL.Provider,{value:this._reactInternals},this.props.children)}}function GBe(){const t=I.useContext(aL);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=I.useId();return I.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=PK(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function WBe(){const t=GBe(),[e]=I.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==aL&&!e.has(i)&&e.set(i,I.useContext(CK(i)))}n=n.return}return e}function XBe(){const t=WBe();return I.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>I.createElement(e,null,I.createElement(n.Provider,HBe(K5({},r),{value:t.get(n)}))),e=>I.createElement(OK,K5({},e))),[t])}const qBe=I.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=NBe,eventSource:s,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:y,dpr:x,performance:v,raycaster:m,camera:_,scene:b,onPointerMissed:w,onCreated:E,...M},A){I.useMemo(()=>hBe(eBe),[]);const P=XBe(),[R,O]=DBe({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=I.useRef(null),L=I.useRef(null);I.useImperativeHandle(A,()=>N.current);const j=vK(w),[U,H]=I.useState(!1),[z,Q]=I.useState(!1);if(U)throw U;if(z)throw z;const k=I.useRef(null);J0(()=>{const W=N.current;O.width>0&&O.height>0&&W&&(k.current||(k.current=RBe(W)),k.current.configure({gl:o,events:a,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:y,dpr:x,performance:v,raycaster:m,camera:_,scene:b,size:O,onPointerMissed:(...$)=>j.current==null?void 0:j.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(s?mBe(s)?s.current:s:L.current),l&&$.setEvents({compute:(Y,J)=>{const X=Y[l+"X"],te=Y[l+"Y"];J.pointer.set(X/J.size.width*2-1,-(te/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),E==null||E($)}}),k.current.render(S.jsx(P,{children:S.jsx(yK,{set:Q,children:S.jsx(I.Suspense,{fallback:S.jsx(gBe,{set:H}),children:e??null})})})))}),I.useEffect(()=>{const W=N.current;if(W)return()=>TK(W)},[]);const B=s?"none":"auto";return S.jsx("div",{ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...i},...M,children:S.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:S.jsx("canvas",{ref:N,style:{display:"block"},children:n})})})}),YBe=I.forwardRef(function(e,n){return S.jsx(OK,{children:S.jsx(qBe,{...e,ref:n})})}),RK=parseInt(B0.replace(/\D+/g,"")),IK=RK>=125?"uv1":"uv2";var KBe=Object.defineProperty,QBe=(t,e,n)=>e in t?KBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZBe=(t,e,n)=>(QBe(t,e+"",n),n);class JBe{constructor(){ZBe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var e4e=Object.defineProperty,t4e=(t,e,n)=>e in t?e4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tt=(t,e,n)=>(t4e(t,typeof e!="symbol"?e+"":e,n),n);const Ab=new Gd,e$=new Il,n4e=Math.cos(70*(Math.PI/180)),t$=(t,e)=>(t%e+e)%e;let r4e=class extends JBe{constructor(e,n){super(),Tt(this,"object"),Tt(this,"domElement"),Tt(this,"enabled",!0),Tt(this,"target",new ne),Tt(this,"minDistance",0),Tt(this,"maxDistance",1/0),Tt(this,"minZoom",0),Tt(this,"maxZoom",1/0),Tt(this,"minPolarAngle",0),Tt(this,"maxPolarAngle",Math.PI),Tt(this,"minAzimuthAngle",-1/0),Tt(this,"maxAzimuthAngle",1/0),Tt(this,"enableDamping",!1),Tt(this,"dampingFactor",.05),Tt(this,"enableZoom",!0),Tt(this,"zoomSpeed",1),Tt(this,"enableRotate",!0),Tt(this,"rotateSpeed",1),Tt(this,"enablePan",!0),Tt(this,"panSpeed",1),Tt(this,"screenSpacePanning",!0),Tt(this,"keyPanSpeed",7),Tt(this,"zoomToCursor",!1),Tt(this,"autoRotate",!1),Tt(this,"autoRotateSpeed",2),Tt(this,"reverseOrbit",!1),Tt(this,"reverseHorizontalOrbit",!1),Tt(this,"reverseVerticalOrbit",!1),Tt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Tt(this,"mouseButtons",{LEFT:Mf.ROTATE,MIDDLE:Mf.DOLLY,RIGHT:Mf.PAN}),Tt(this,"touches",{ONE:Tf.ROTATE,TWO:Tf.DOLLY_PAN}),Tt(this,"target0"),Tt(this,"position0"),Tt(this,"zoom0"),Tt(this,"_domElementKeyEvents",null),Tt(this,"getPolarAngle"),Tt(this,"getAzimuthalAngle"),Tt(this,"setPolarAngle"),Tt(this,"setAzimuthalAngle"),Tt(this,"getDistance"),Tt(this,"getZoomScale"),Tt(this,"listenToKeyEvents"),Tt(this,"stopListenToKeyEvents"),Tt(this,"saveState"),Tt(this,"reset"),Tt(this,"update"),Tt(this,"connect"),Tt(this,"dispose"),Tt(this,"dollyIn"),Tt(this,"dollyOut"),Tt(this,"getScale"),Tt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ce=>{let Te=t$(ce,2*Math.PI),Je=u.phi;Je<0&&(Je+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let ae=Math.abs(Te-Je);2*Math.PI-ae<ae&&(Te<Je?Te+=2*Math.PI:Je+=2*Math.PI),f.phi=Te-Je,r.update()},this.setAzimuthalAngle=ce=>{let Te=t$(ce,2*Math.PI),Je=u.theta;Je<0&&(Je+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let ae=Math.abs(Te-Je);2*Math.PI-ae<ae&&(Te<Je?Te+=2*Math.PI:Je+=2*Math.PI),f.theta=Te-Je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ce=>{ce.addEventListener("keydown",De),this._domElementKeyEvents=ce},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",De),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ce=new ne,Te=new ne(0,1,0),Je=new Fi().setFromUnitVectors(e.up,Te),ae=Je.clone().invert(),Oe=new ne,Se=new Fi,je=2*Math.PI;return function(){const Ge=r.object.position;Je.setFromUnitVectors(e.up,Te),ae.copy(Je).invert(),ce.copy(Ge).sub(r.target),ce.applyQuaternion(Je),u.setFromVector3(ce),r.autoRotate&&l===s.NONE&&U(L()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let rt=r.minAzimuthAngle,vt=r.maxAzimuthAngle;isFinite(rt)&&isFinite(vt)&&(rt<-Math.PI?rt+=je:rt>Math.PI&&(rt-=je),vt<-Math.PI?vt+=je:vt>Math.PI&&(vt-=je),rt<=vt?u.theta=Math.max(rt,Math.min(vt,u.theta)):u.theta=u.theta>(rt+vt)/2?Math.max(rt,u.theta):Math.min(vt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&R||r.object.isOrthographicCamera?u.radius=J(u.radius):u.radius=J(u.radius*d),ce.setFromSpherical(u),ce.applyQuaternion(ae),Ge.copy(r.target).add(ce),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let ct=!1;if(r.zoomToCursor&&R){let mt=null;if(r.object instanceof _r&&r.object.isPerspectiveCamera){const an=ce.length();mt=J(an*d);const cn=an-mt;r.object.position.addScaledVector(A,cn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const an=new ne(P.x,P.y,0);an.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),ct=!0;const cn=new ne(P.x,P.y,0);cn.unproject(r.object),r.object.position.sub(cn).add(an),r.object.updateMatrixWorld(),mt=ce.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;mt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(mt).add(r.object.position):(Ab.origin.copy(r.object.position),Ab.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Ab.direction))<n4e?e.lookAt(r.target):(e$.setFromNormalAndCoplanarPoint(r.object.up,r.target),Ab.intersectPlane(e$,r.target))))}else r.object instanceof gu&&r.object.isOrthographicCamera&&(ct=d!==1,ct&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,R=!1,ct||Oe.distanceToSquared(r.object.position)>c||8*(1-Se.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Oe.copy(r.object.position),Se.copy(r.object.quaternion),ct=!1,!0):!1}})(),this.connect=ce=>{r.domElement=ce,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ue),r.domElement.addEventListener("pointerdown",V),r.domElement.addEventListener("pointercancel",pe),r.domElement.addEventListener("wheel",Be)},this.dispose=()=>{var ce,Te,Je,ae,Oe,Se;r.domElement&&(r.domElement.style.touchAction="auto"),(ce=r.domElement)==null||ce.removeEventListener("contextmenu",Ue),(Te=r.domElement)==null||Te.removeEventListener("pointerdown",V),(Je=r.domElement)==null||Je.removeEventListener("pointercancel",pe),(ae=r.domElement)==null||ae.removeEventListener("wheel",Be),(Oe=r.domElement)==null||Oe.ownerDocument.removeEventListener("pointermove",se),(Se=r.domElement)==null||Se.ownerDocument.removeEventListener("pointerup",pe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",De)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,u=new cR,f=new cR;let d=1;const h=new ne,y=new $e,x=new $e,v=new $e,m=new $e,_=new $e,b=new $e,w=new $e,E=new $e,M=new $e,A=new ne,P=new $e;let R=!1;const O=[],N={};function L(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function U(ce){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ce:f.theta-=ce}function H(ce){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ce:f.phi-=ce}const z=(()=>{const ce=new ne;return function(Je,ae){ce.setFromMatrixColumn(ae,0),ce.multiplyScalar(-Je),h.add(ce)}})(),Q=(()=>{const ce=new ne;return function(Je,ae){r.screenSpacePanning===!0?ce.setFromMatrixColumn(ae,1):(ce.setFromMatrixColumn(ae,0),ce.crossVectors(r.object.up,ce)),ce.multiplyScalar(Je),h.add(ce)}})(),k=(()=>{const ce=new ne;return function(Je,ae){const Oe=r.domElement;if(Oe&&r.object instanceof _r&&r.object.isPerspectiveCamera){const Se=r.object.position;ce.copy(Se).sub(r.target);let je=ce.length();je*=Math.tan(r.object.fov/2*Math.PI/180),z(2*Je*je/Oe.clientHeight,r.object.matrix),Q(2*ae*je/Oe.clientHeight,r.object.matrix)}else Oe&&r.object instanceof gu&&r.object.isOrthographicCamera?(z(Je*(r.object.right-r.object.left)/r.object.zoom/Oe.clientWidth,r.object.matrix),Q(ae*(r.object.top-r.object.bottom)/r.object.zoom/Oe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function B(ce){r.object instanceof _r&&r.object.isPerspectiveCamera||r.object instanceof gu&&r.object.isOrthographicCamera?d=ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(ce){B(d/ce)}function $(ce){B(d*ce)}function Y(ce){if(!r.zoomToCursor||!r.domElement)return;R=!0;const Te=r.domElement.getBoundingClientRect(),Je=ce.clientX-Te.left,ae=ce.clientY-Te.top,Oe=Te.width,Se=Te.height;P.x=Je/Oe*2-1,P.y=-(ae/Se)*2+1,A.set(P.x,P.y,1).unproject(r.object).sub(r.object.position).normalize()}function J(ce){return Math.max(r.minDistance,Math.min(r.maxDistance,ce))}function X(ce){y.set(ce.clientX,ce.clientY)}function te(ce){Y(ce),w.set(ce.clientX,ce.clientY)}function ie(ce){m.set(ce.clientX,ce.clientY)}function ee(ce){x.set(ce.clientX,ce.clientY),v.subVectors(x,y).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(U(2*Math.PI*v.x/Te.clientHeight),H(2*Math.PI*v.y/Te.clientHeight)),y.copy(x),r.update()}function le(ce){E.set(ce.clientX,ce.clientY),M.subVectors(E,w),M.y>0?W(j()):M.y<0&&$(j()),w.copy(E),r.update()}function ue(ce){_.set(ce.clientX,ce.clientY),b.subVectors(_,m).multiplyScalar(r.panSpeed),k(b.x,b.y),m.copy(_),r.update()}function he(ce){Y(ce),ce.deltaY<0?$(j()):ce.deltaY>0&&W(j()),r.update()}function fe(ce){let Te=!1;switch(ce.code){case r.keys.UP:k(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:k(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:k(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:k(-r.keyPanSpeed,0),Te=!0;break}Te&&(ce.preventDefault(),r.update())}function K(){if(O.length==1)y.set(O[0].pageX,O[0].pageY);else{const ce=.5*(O[0].pageX+O[1].pageX),Te=.5*(O[0].pageY+O[1].pageY);y.set(ce,Te)}}function de(){if(O.length==1)m.set(O[0].pageX,O[0].pageY);else{const ce=.5*(O[0].pageX+O[1].pageX),Te=.5*(O[0].pageY+O[1].pageY);m.set(ce,Te)}}function q(){const ce=O[0].pageX-O[1].pageX,Te=O[0].pageY-O[1].pageY,Je=Math.sqrt(ce*ce+Te*Te);w.set(0,Je)}function Pe(){r.enableZoom&&q(),r.enablePan&&de()}function be(){r.enableZoom&&q(),r.enableRotate&&K()}function Re(ce){if(O.length==1)x.set(ce.pageX,ce.pageY);else{const Je=ke(ce),ae=.5*(ce.pageX+Je.x),Oe=.5*(ce.pageY+Je.y);x.set(ae,Oe)}v.subVectors(x,y).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(U(2*Math.PI*v.x/Te.clientHeight),H(2*Math.PI*v.y/Te.clientHeight)),y.copy(x)}function me(ce){if(O.length==1)_.set(ce.pageX,ce.pageY);else{const Te=ke(ce),Je=.5*(ce.pageX+Te.x),ae=.5*(ce.pageY+Te.y);_.set(Je,ae)}b.subVectors(_,m).multiplyScalar(r.panSpeed),k(b.x,b.y),m.copy(_)}function Fe(ce){const Te=ke(ce),Je=ce.pageX-Te.x,ae=ce.pageY-Te.y,Oe=Math.sqrt(Je*Je+ae*ae);E.set(0,Oe),M.set(0,Math.pow(E.y/w.y,r.zoomSpeed)),W(M.y),w.copy(E)}function Ce(ce){r.enableZoom&&Fe(ce),r.enablePan&&me(ce)}function G(ce){r.enableZoom&&Fe(ce),r.enableRotate&&Re(ce)}function V(ce){var Te,Je;r.enabled!==!1&&(O.length===0&&((Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointermove",se),(Je=r.domElement)==null||Je.ownerDocument.addEventListener("pointerup",pe)),Xe(ce),ce.pointerType==="touch"?He(ce):_e(ce))}function se(ce){r.enabled!==!1&&(ce.pointerType==="touch"?it(ce):Me(ce))}function pe(ce){var Te,Je,ae;qe(ce),O.length===0&&((Te=r.domElement)==null||Te.releasePointerCapture(ce.pointerId),(Je=r.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",se),(ae=r.domElement)==null||ae.ownerDocument.removeEventListener("pointerup",pe)),r.dispatchEvent(a),l=s.NONE}function _e(ce){let Te;switch(ce.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case Mf.DOLLY:if(r.enableZoom===!1)return;te(ce),l=s.DOLLY;break;case Mf.ROTATE:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enablePan===!1)return;ie(ce),l=s.PAN}else{if(r.enableRotate===!1)return;X(ce),l=s.ROTATE}break;case Mf.PAN:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(r.enableRotate===!1)return;X(ce),l=s.ROTATE}else{if(r.enablePan===!1)return;ie(ce),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Me(ce){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;ee(ce);break;case s.DOLLY:if(r.enableZoom===!1)return;le(ce);break;case s.PAN:if(r.enablePan===!1)return;ue(ce);break}}function Be(ce){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ce.preventDefault(),r.dispatchEvent(o),he(ce),r.dispatchEvent(a))}function De(ce){r.enabled===!1||r.enablePan===!1||fe(ce)}function He(ce){switch(Ye(ce),O.length){case 1:switch(r.touches.ONE){case Tf.ROTATE:if(r.enableRotate===!1)return;K(),l=s.TOUCH_ROTATE;break;case Tf.PAN:if(r.enablePan===!1)return;de(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Tf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Pe(),l=s.TOUCH_DOLLY_PAN;break;case Tf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;be(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function it(ce){switch(Ye(ce),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Re(ce),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;me(ce),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ce(ce),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;G(ce),r.update();break;default:l=s.NONE}}function Ue(ce){r.enabled!==!1&&ce.preventDefault()}function Xe(ce){O.push(ce)}function qe(ce){delete N[ce.pointerId];for(let Te=0;Te<O.length;Te++)if(O[Te].pointerId==ce.pointerId){O.splice(Te,1);return}}function Ye(ce){let Te=N[ce.pointerId];Te===void 0&&(Te=new $e,N[ce.pointerId]=Te),Te.set(ce.pageX,ce.pageY)}function ke(ce){const Te=ce.pointerId===O[0].pointerId?O[1]:O[0];return N[Te.pointerId]}this.dollyIn=(ce=j())=>{$(ce),r.update()},this.dollyOut=(ce=j())=>{W(ce),r.update()},this.getScale=()=>d,this.setScale=ce=>{B(ce),r.update()},this.getZoomScale=()=>j(),n!==void 0&&this.connect(n),this.update()}};const n$=new Ir,Pb=new ne;class sL extends FM{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new gt(e,3)),this.setAttribute("uv",new gt(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new Aw(n,6,1);return this.setAttribute("instanceStart",new Wo(r,3,0)),this.setAttribute("instanceEnd",new Wo(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new Aw(r,n*2,1);return this.setAttribute("instanceColorStart",new Wo(i,n,0)),this.setAttribute("instanceColorEnd",new Wo(i,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new GD(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ir);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),n$.setFromBufferAttribute(n),this.boundingBox.union(n$))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hr),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Pb.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Pb)),Pb.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(Pb));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class NK extends sL{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,n=3){const r=e.length-n,i=new Float32Array(2*r);if(n===3)for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5];else for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5],i[2*o+6]=e[o+6],i[2*o+7]=e[o+7];return super.setColors(i,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class lL extends Pa{constructor(e){super({type:"LineMaterial",uniforms:u0.clone(u0.merge([tt.common,tt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new $e(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${RK>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const ZP=new qt,r$=new ne,i$=new ne,ci=new qt,ui=new qt,Ts=new qt,JP=new ne,eC=new Ct,pi=new cK,o$=new ne,Cb=new Ir,Ob=new Hr,As=new qt;let ks,cd;function a$(t,e,n){return As.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),As.multiplyScalar(1/As.w),As.x=cd/n.width,As.y=cd/n.height,As.applyMatrix4(t.projectionMatrixInverse),As.multiplyScalar(1/As.w),Math.abs(Math.max(As.x,As.y))}function i4e(t,e){const n=t.matrixWorld,r=t.geometry,i=r.attributes.instanceStart,o=r.attributes.instanceEnd,a=Math.min(r.instanceCount,i.count);for(let s=0,l=a;s<l;s++){pi.start.fromBufferAttribute(i,s),pi.end.fromBufferAttribute(o,s),pi.applyMatrix4(n);const c=new ne,u=new ne;ks.distanceSqToSegment(pi.start,pi.end,u,c),u.distanceTo(c)<cd*.5&&e.push({point:u,pointOnLine:c,distance:ks.origin.distanceTo(u),object:t,face:null,faceIndex:s,uv:null,[IK]:null})}}function o4e(t,e,n){const r=e.projectionMatrix,o=t.material.resolution,a=t.matrixWorld,s=t.geometry,l=s.attributes.instanceStart,c=s.attributes.instanceEnd,u=Math.min(s.instanceCount,l.count),f=-e.near;ks.at(1,Ts),Ts.w=1,Ts.applyMatrix4(e.matrixWorldInverse),Ts.applyMatrix4(r),Ts.multiplyScalar(1/Ts.w),Ts.x*=o.x/2,Ts.y*=o.y/2,Ts.z=0,JP.copy(Ts),eC.multiplyMatrices(e.matrixWorldInverse,a);for(let d=0,h=u;d<h;d++){if(ci.fromBufferAttribute(l,d),ui.fromBufferAttribute(c,d),ci.w=1,ui.w=1,ci.applyMatrix4(eC),ui.applyMatrix4(eC),ci.z>f&&ui.z>f)continue;if(ci.z>f){const b=ci.z-ui.z,w=(ci.z-f)/b;ci.lerp(ui,w)}else if(ui.z>f){const b=ui.z-ci.z,w=(ui.z-f)/b;ui.lerp(ci,w)}ci.applyMatrix4(r),ui.applyMatrix4(r),ci.multiplyScalar(1/ci.w),ui.multiplyScalar(1/ui.w),ci.x*=o.x/2,ci.y*=o.y/2,ui.x*=o.x/2,ui.y*=o.y/2,pi.start.copy(ci),pi.start.z=0,pi.end.copy(ui),pi.end.z=0;const x=pi.closestPointToPointParameter(JP,!0);pi.at(x,o$);const v=tY.lerp(ci.z,ui.z,x),m=v>=-1&&v<=1,_=JP.distanceTo(o$)<cd*.5;if(m&&_){pi.start.fromBufferAttribute(l,d),pi.end.fromBufferAttribute(c,d),pi.start.applyMatrix4(a),pi.end.applyMatrix4(a);const b=new ne,w=new ne;ks.distanceSqToSegment(pi.start,pi.end,w,b),n.push({point:w,pointOnLine:b,distance:ks.origin.distanceTo(w),object:t,face:null,faceIndex:d,uv:null,[IK]:null})}}}class DK extends Qn{constructor(e=new sL,n=new lL({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let a=0,s=0,l=n.count;a<l;a++,s+=2)r$.fromBufferAttribute(n,a),i$.fromBufferAttribute(r,a),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+r$.distanceTo(i$);const o=new Aw(i,2,1);return e.setAttribute("instanceDistanceStart",new Wo(o,1,0)),e.setAttribute("instanceDistanceEnd",new Wo(o,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;ks=e.ray;const a=this.matrixWorld,s=this.geometry,l=this.material;cd=l.linewidth+o,s.boundingSphere===null&&s.computeBoundingSphere(),Ob.copy(s.boundingSphere).applyMatrix4(a);let c;if(r)c=cd*.5;else{const f=Math.max(i.near,Ob.distanceToPoint(ks.origin));c=a$(i,f,l.resolution)}if(Ob.radius+=c,ks.intersectsSphere(Ob)===!1)return;s.boundingBox===null&&s.computeBoundingBox(),Cb.copy(s.boundingBox).applyMatrix4(a);let u;if(r)u=cd*.5;else{const f=Math.max(i.near,Cb.distanceToPoint(ks.origin));u=a$(i,f,l.resolution)}Cb.expandByScalar(u),ks.intersectsBox(Cb)!==!1&&(r?i4e(this,n):o4e(this,i,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(ZP),this.material.uniforms.resolution.value.set(ZP.z,ZP.w))}}class a4e extends DK{constructor(e=new NK,n=new lL({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const s4e=I.forwardRef(function({points:e,color:n=16777215,vertexColors:r,linewidth:i,lineWidth:o,segments:a,dashed:s,...l},c){var u,f;const d=Cs(m=>m.size),h=I.useMemo(()=>a?new DK:new a4e,[a]),[y]=I.useState(()=>new lL),x=(r==null||(u=r[0])==null?void 0:u.length)===4?4:3,v=I.useMemo(()=>{const m=a?new sL:new NK,_=e.map(b=>{const w=Array.isArray(b);return b instanceof ne||b instanceof qt?[b.x,b.y,b.z]:b instanceof $e?[b.x,b.y,0]:w&&b.length===3?[b[0],b[1],b[2]]:w&&b.length===2?[b[0],b[1],0]:b});if(m.setPositions(_.flat()),r){n=16777215;const b=r.map(w=>w instanceof at?w.toArray():w);m.setColors(b.flat(),x)}return m},[e,a,r,x]);return I.useLayoutEffect(()=>{h.computeLineDistances()},[e,h]),I.useLayoutEffect(()=>{s?y.defines.USE_DASH="":delete y.defines.USE_DASH,y.needsUpdate=!0},[s,y]),I.useEffect(()=>()=>{v.dispose(),y.dispose()},[v]),I.createElement("primitive",Pd({object:h,ref:c},l),I.createElement("primitive",{object:v,attach:"geometry"}),I.createElement("primitive",Pd({object:y,attach:"material",color:n,vertexColors:!!r,resolution:[d.width,d.height],linewidth:(f=i??o)!==null&&f!==void 0?f:1,dashed:s,transparent:x===4},l)))});function l4e(){var t=Object.create(null);function e(i,o){var a=i.id,s=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[a])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(h){if(h instanceof Error)throw h}),d=t[d.id].value),d}),c=r("<"+s+">.init",c),u&&(u=r("<"+s+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[a]={id:a,value:f,getTransferables:u},o(f)}catch(d){d&&d.noLog||console.error(d),o(d)}}function n(i,o){var a,s=i.id,l=i.args;(!t[s]||typeof t[s].value!="function")&&o(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var c=(a=t[s]).value.apply(a,l);c&&typeof c.then=="function"?c.then(u,function(f){return o(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){o(f)}function u(f){try{var d=t[s].getTransferables&&t[s].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),o(f,d)}catch(h){console.error(h),o(h)}}}function r(i,o){var a=void 0;self.troikaDefine=function(l){return a=l};var s=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,a}self.addEventListener("message",function(i){var o=i.data,a=o.messageId,s=o.action,l=o.data;try{s==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof c=="function"}})}),s==="callModule"&&n(l,function(c,u){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:a,success:!1,error:c.stack})}})}function c4e(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(o){return o&&(o=o.onMainThread||o,o._getInitResult&&(o=o._getInitResult())),o}):[];var i=Promise.all(n).then(function(o){return r.apply(null,o)});return e._getInitResult=function(){return i},i},e}var LK=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return LK=function(){return t},t},u4e=0,f4e=0,tC=!1,Wv=Object.create(null),Xv=Object.create(null),dR=Object.create(null);function eg(t){if((!t||typeof t.init!="function")&&!tC)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,o=c4e(t);i==null&&(i="#default");var a="workerModule"+ ++u4e,s=t.name||a,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(tC=!0,u=eg({workerId:i,name:"<"+s+"> function dependency: "+u.name,init:`function(){return (
`+n_(u)+`
)}`}),tC=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function c(){for(var u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!LK())return o.apply(void 0,u);if(!l){l=s$(i,"registerModule",c.workerModuleData);var d=function(){l=null,Xv[i].delete(d)};(Xv[i]||(Xv[i]=new Set)).add(d)}return l.then(function(h){var y=h.isCallable;if(y)return s$(i,"callModule",{id:a,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:a,name:s,dependencies:e,init:n_(n),getTransferables:r&&n_(r)},c.onMainThread=o,c}function d4e(t){Xv[t]&&Xv[t].forEach(function(e){e()}),Wv[t]&&(Wv[t].terminate(),delete Wv[t])}function n_(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function h4e(t){var e=Wv[t];if(!e){var n=n_(l4e);e=Wv[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,o=i.messageId,a=dR[o];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete dR[o],a(i)}}return e}function s$(t,e,n){return new Promise(function(r,i){var o=++f4e;dR[o]=function(a){a.success?r(a.result):i(new Error("Error in worker "+e+" call: "+a.error))},h4e(t).postMessage({messageId:o,action:e,data:n})})}function kK(){var t=function(e){function n(B,W,$,Y,J,X,te,ie){var ee=1-te;ie.x=ee*ee*B+2*ee*te*$+te*te*J,ie.y=ee*ee*W+2*ee*te*Y+te*te*X}function r(B,W,$,Y,J,X,te,ie,ee,le){var ue=1-ee;le.x=ue*ue*ue*B+3*ue*ue*ee*$+3*ue*ee*ee*J+ee*ee*ee*te,le.y=ue*ue*ue*W+3*ue*ue*ee*Y+3*ue*ee*ee*X+ee*ee*ee*ie}function i(B,W){for(var $=/([MLQCZ])([^MLQCZ]*)/g,Y,J,X,te,ie;Y=$.exec(B);){var ee=Y[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(le){return parseFloat(le)});switch(Y[1]){case"M":te=J=ee[0],ie=X=ee[1];break;case"L":(ee[0]!==te||ee[1]!==ie)&&W("L",te,ie,te=ee[0],ie=ee[1]);break;case"Q":{W("Q",te,ie,te=ee[2],ie=ee[3],ee[0],ee[1]);break}case"C":{W("C",te,ie,te=ee[4],ie=ee[5],ee[0],ee[1],ee[2],ee[3]);break}case"Z":(te!==J||ie!==X)&&W("L",te,ie,J,X);break}}}function o(B,W,$){$===void 0&&($=16);var Y={x:0,y:0};i(B,function(J,X,te,ie,ee,le,ue,he,fe){switch(J){case"L":W(X,te,ie,ee);break;case"Q":{for(var K=X,de=te,q=1;q<$;q++)n(X,te,le,ue,ie,ee,q/($-1),Y),W(K,de,Y.x,Y.y),K=Y.x,de=Y.y;break}case"C":{for(var Pe=X,be=te,Re=1;Re<$;Re++)r(X,te,le,ue,he,fe,ie,ee,Re/($-1),Y),W(Pe,be,Y.x,Y.y),Pe=Y.x,be=Y.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(B,W){var $=B.getContext?B.getContext("webgl",c):B,Y=l.get($);if(!Y){let Pe=function(G){var V=X[G];if(!V&&(V=X[G]=$.getExtension(G),!V))throw new Error(G+" not supported");return V},be=function(G,V){var se=$.createShader(V);return $.shaderSource(se,G),$.compileShader(se),se},Re=function(G,V,se,pe){if(!te[G]){var _e={},Me={},Be=$.createProgram();$.attachShader(Be,be(V,$.VERTEX_SHADER)),$.attachShader(Be,be(se,$.FRAGMENT_SHADER)),$.linkProgram(Be),te[G]={program:Be,transaction:function(He){$.useProgram(Be),He({setUniform:function(Ue,Xe){for(var qe=[],Ye=arguments.length-2;Ye-- >0;)qe[Ye]=arguments[Ye+2];var ke=Me[Xe]||(Me[Xe]=$.getUniformLocation(Be,Xe));$["uniform"+Ue].apply($,[ke].concat(qe))},setAttribute:function(Ue,Xe,qe,Ye,ke){var ce=_e[Ue];ce||(ce=_e[Ue]={buf:$.createBuffer(),loc:$.getAttribLocation(Be,Ue),data:null}),$.bindBuffer($.ARRAY_BUFFER,ce.buf),$.vertexAttribPointer(ce.loc,Xe,$.FLOAT,!1,0,0),$.enableVertexAttribArray(ce.loc),J?$.vertexAttribDivisor(ce.loc,Ye):Pe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ce.loc,Ye),ke!==ce.data&&($.bufferData($.ARRAY_BUFFER,ke,qe),ce.data=ke)}})}}}te[G].transaction(pe)},me=function(G,V){ee++;try{$.activeTexture($.TEXTURE0+ee);var se=ie[G];se||(se=ie[G]=$.createTexture(),$.bindTexture($.TEXTURE_2D,se),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.NEAREST),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.NEAREST)),$.bindTexture($.TEXTURE_2D,se),V(se,ee)}finally{ee--}},Fe=function(G,V,se){var pe=$.createFramebuffer();le.push(pe),$.bindFramebuffer($.FRAMEBUFFER,pe),$.activeTexture($.TEXTURE0+V),$.bindTexture($.TEXTURE_2D,G),$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,G,0);try{se(pe)}finally{$.deleteFramebuffer(pe),$.bindFramebuffer($.FRAMEBUFFER,le[--le.length-1]||null)}},Ce=function(){X={},te={},ie={},ee=-1,le.length=0};var ue=Pe,he=be,fe=Re,K=me,de=Fe,q=Ce,J=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext,X={},te={},ie={},ee=-1,le=[];$.canvas.addEventListener("webglcontextlost",function(G){Ce(),G.preventDefault()},!1),l.set($,Y={gl:$,isWebGL2:J,getExtension:Pe,withProgram:Re,withTexture:me,withTextureFramebuffer:Fe,handleContextLoss:Ce})}W(Y)}function f(B,W,$,Y,J,X,te,ie){te===void 0&&(te=15),ie===void 0&&(ie=null),u(B,function(ee){var le=ee.gl,ue=ee.withProgram,he=ee.withTexture;he("copy",function(fe,K){le.texImage2D(le.TEXTURE_2D,0,le.RGBA,J,X,0,le.RGBA,le.UNSIGNED_BYTE,W),ue("copy",a,s,function(de){var q=de.setUniform,Pe=de.setAttribute;Pe("aUV",2,le.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),q("1i","image",K),le.bindFramebuffer(le.FRAMEBUFFER,ie||null),le.disable(le.BLEND),le.colorMask(te&8,te&4,te&2,te&1),le.viewport($,Y,J,X),le.scissor($,Y,J,X),le.drawArrays(le.TRIANGLES,0,3)})})})}function d(B,W,$){var Y=B.width,J=B.height;u(B,function(X){var te=X.gl,ie=new Uint8Array(Y*J*4);te.readPixels(0,0,Y,J,te.RGBA,te.UNSIGNED_BYTE,ie),B.width=W,B.height=$,f(te,ie,0,0,Y,J)})}var h=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function y(B,W,$,Y,J,X){X===void 0&&(X=1);var te=new Uint8Array(B*W),ie=Y[2]-Y[0],ee=Y[3]-Y[1],le=[];o($,function(Pe,be,Re,me){le.push({x1:Pe,y1:be,x2:Re,y2:me,minX:Math.min(Pe,Re),minY:Math.min(be,me),maxX:Math.max(Pe,Re),maxY:Math.max(be,me)})}),le.sort(function(Pe,be){return Pe.maxX-be.maxX});for(var ue=0;ue<B;ue++)for(var he=0;he<W;he++){var fe=de(Y[0]+ie*(ue+.5)/B,Y[1]+ee*(he+.5)/W),K=Math.pow(1-Math.abs(fe)/J,X)/2;fe<0&&(K=1-K),K=Math.max(0,Math.min(255,Math.round(K*255))),te[he*B+ue]=K}return te;function de(Pe,be){for(var Re=1/0,me=1/0,Fe=le.length;Fe--;){var Ce=le[Fe];if(Ce.maxX+me<=Pe)break;if(Pe+me>Ce.minX&&be-me<Ce.maxY&&be+me>Ce.minY){var G=m(Pe,be,Ce.x1,Ce.y1,Ce.x2,Ce.y2);G<Re&&(Re=G,me=Math.sqrt(Re))}}return q(Pe,be)&&(me=-me),me}function q(Pe,be){for(var Re=0,me=le.length;me--;){var Fe=le[me];if(Fe.maxX<=Pe)break;var Ce=Fe.y1>be!=Fe.y2>be&&Pe<(Fe.x2-Fe.x1)*(be-Fe.y1)/(Fe.y2-Fe.y1)+Fe.x1;Ce&&(Re+=Fe.y1<Fe.y2?1:-1)}return Re!==0}}function x(B,W,$,Y,J,X,te,ie,ee,le){X===void 0&&(X=1),ie===void 0&&(ie=0),ee===void 0&&(ee=0),le===void 0&&(le=0),v(B,W,$,Y,J,X,te,null,ie,ee,le)}function v(B,W,$,Y,J,X,te,ie,ee,le,ue){X===void 0&&(X=1),ee===void 0&&(ee=0),le===void 0&&(le=0),ue===void 0&&(ue=0);for(var he=y(B,W,$,Y,J,X),fe=new Uint8Array(he.length*4),K=0;K<he.length;K++)fe[K*4+ue]=he[K];f(te,fe,ee,le,B,W,1<<3-ue,ie)}function m(B,W,$,Y,J,X){var te=J-$,ie=X-Y,ee=te*te+ie*ie,le=ee?Math.max(0,Math.min(1,((B-$)*te+(W-Y)*ie)/ee)):0,ue=B-($+le*te),he=W-(Y+le*ie);return ue*ue+he*he}var _=Object.freeze({__proto__:null,generate:y,generateIntoCanvas:x,generateIntoFramebuffer:v}),b="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",w="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),A=null,P=!1,R={},O=new WeakMap;function N(B){if(!P&&!H(B))throw new Error("WebGL generation not supported")}function L(B,W,$,Y,J,X,te){if(X===void 0&&(X=1),te===void 0&&(te=null),!te&&(te=A,!te)){var ie=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ie)throw new Error("OffscreenCanvas or DOM canvas not supported");te=A=ie.getContext("webgl",{depth:!1})}N(te);var ee=new Uint8Array(B*W*4);u(te,function(fe){var K=fe.gl,de=fe.withTexture,q=fe.withTextureFramebuffer;de("readable",function(Pe,be){K.texImage2D(K.TEXTURE_2D,0,K.RGBA,B,W,0,K.RGBA,K.UNSIGNED_BYTE,null),q(Pe,be,function(Re){U(B,W,$,Y,J,X,K,Re,0,0,0),K.readPixels(0,0,B,W,K.RGBA,K.UNSIGNED_BYTE,ee)})})});for(var le=new Uint8Array(B*W),ue=0,he=0;ue<ee.length;ue+=4)le[he++]=ee[ue];return le}function j(B,W,$,Y,J,X,te,ie,ee,le){X===void 0&&(X=1),ie===void 0&&(ie=0),ee===void 0&&(ee=0),le===void 0&&(le=0),U(B,W,$,Y,J,X,te,null,ie,ee,le)}function U(B,W,$,Y,J,X,te,ie,ee,le,ue){X===void 0&&(X=1),ee===void 0&&(ee=0),le===void 0&&(le=0),ue===void 0&&(ue=0),N(te);var he=[];o($,function(fe,K,de,q){he.push(fe,K,de,q)}),he=new Float32Array(he),u(te,function(fe){var K=fe.gl,de=fe.isWebGL2,q=fe.getExtension,Pe=fe.withProgram,be=fe.withTexture,Re=fe.withTextureFramebuffer,me=fe.handleContextLoss;if(be("rawDistances",function(Fe,Ce){(B!==Fe._lastWidth||W!==Fe._lastHeight)&&K.texImage2D(K.TEXTURE_2D,0,K.RGBA,Fe._lastWidth=B,Fe._lastHeight=W,0,K.RGBA,K.UNSIGNED_BYTE,null),Pe("main",b,w,function(G){var V=G.setAttribute,se=G.setUniform,pe=!de&&q("ANGLE_instanced_arrays"),_e=!de&&q("EXT_blend_minmax");V("aUV",2,K.STATIC_DRAW,0,M),V("aLineSegment",4,K.DYNAMIC_DRAW,1,he),se.apply(void 0,["4f","uGlyphBounds"].concat(Y)),se("1f","uMaxDistance",J),se("1f","uExponent",X),Re(Fe,Ce,function(Me){K.enable(K.BLEND),K.colorMask(!0,!0,!0,!0),K.viewport(0,0,B,W),K.scissor(0,0,B,W),K.blendFunc(K.ONE,K.ONE),K.blendEquationSeparate(K.FUNC_ADD,de?K.MAX:_e.MAX_EXT),K.clear(K.COLOR_BUFFER_BIT),de?K.drawArraysInstanced(K.TRIANGLES,0,3,he.length/4):pe.drawArraysInstancedANGLE(K.TRIANGLES,0,3,he.length/4)})}),Pe("post",a,E,function(G){G.setAttribute("aUV",2,K.STATIC_DRAW,0,M),G.setUniform("1i","tex",Ce),K.bindFramebuffer(K.FRAMEBUFFER,ie),K.disable(K.BLEND),K.colorMask(ue===0,ue===1,ue===2,ue===3),K.viewport(ee,le,B,W),K.scissor(ee,le,B,W),K.drawArrays(K.TRIANGLES,0,3)})}),K.isContextLost())throw me(),new Error("webgl context lost")})}function H(B){var W=!B||B===A?R:B.canvas||B,$=O.get(W);if($===void 0){P=!0;var Y=null;try{var J=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],X=L(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,B);$=X&&J.length===X.length&&X.every(function(te,ie){return te===J[ie]}),$||(Y="bad trial run results",console.info(J,X))}catch(te){$=!1,Y=te.message}Y&&console.warn("WebGL SDF generation not supported:",Y),P=!1,O.set(W,$)}return $}var z=Object.freeze({__proto__:null,generate:L,generateIntoCanvas:j,generateIntoFramebuffer:U,isSupported:H});function Q(B,W,$,Y,J,X){J===void 0&&(J=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),X===void 0&&(X=1);try{return L.apply(z,arguments)}catch(te){return console.info("WebGL SDF generation failed, falling back to JS",te),y.apply(_,arguments)}}function k(B,W,$,Y,J,X,te,ie,ee,le){J===void 0&&(J=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),X===void 0&&(X=1),ie===void 0&&(ie=0),ee===void 0&&(ee=0),le===void 0&&(le=0);try{return j.apply(z,arguments)}catch(ue){return console.info("WebGL SDF generation failed, falling back to JS",ue),x.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=Q,e.generateIntoCanvas=k,e.javascript=_,e.pathToLineSegments=o,e.webgl=z,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function p4e(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(me,Fe){r[me]=1<<Fe+1,i[r[me]]=me}),Object.freeze(r);var o=r.LRI|r.RLI|r.FSI,a=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|o|r.PDI|l,u=null;function f(){if(!u){u=new Map;var me=function(Ce){if(n.hasOwnProperty(Ce)){var G=0;n[Ce].split(",").forEach(function(V){var se=V.split("+"),pe=se[0],_e=se[1];pe=parseInt(pe,36),_e=_e?parseInt(_e,36):0,u.set(G+=pe,r[Ce]);for(var Me=0;Me<_e;Me++)u.set(++G,r[Ce])})}};for(var Fe in n)me(Fe)}}function d(me){return f(),u.get(me.codePointAt(0))||r.L}function h(me){return i[d(me)]}var y={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(me,Fe){var Ce=36,G=0,V=new Map,se=Fe&&new Map,pe;return me.split(",").forEach(function _e(Me){if(Me.indexOf("+")!==-1)for(var Be=+Me;Be--;)_e(pe);else{pe=Me;var De=Me.split(">"),He=De[0],it=De[1];He=String.fromCodePoint(G+=parseInt(He,Ce)),it=String.fromCodePoint(G+=parseInt(it,Ce)),V.set(He,it),Fe&&se.set(it,He)}}),{map:V,reverseMap:se}}var v,m,_;function b(){if(!v){var me=x(y.pairs,!0),Fe=me.map,Ce=me.reverseMap;v=Fe,m=Ce,_=x(y.canonical,!1).map}}function w(me){return b(),v.get(me)||null}function E(me){return b(),m.get(me)||null}function M(me){return b(),_.get(me)||null}var A=r.L,P=r.R,R=r.EN,O=r.ES,N=r.ET,L=r.AN,j=r.CS,U=r.B,H=r.S,z=r.ON,Q=r.BN,k=r.NSM,B=r.AL,W=r.LRO,$=r.RLO,Y=r.LRE,J=r.RLE,X=r.PDF,te=r.LRI,ie=r.RLI,ee=r.FSI,le=r.PDI;function ue(me,Fe){for(var Ce=125,G=new Uint32Array(me.length),V=0;V<me.length;V++)G[V]=d(me[V]);var se=new Map;function pe(Yr,Gi){var mr=G[Yr];G[Yr]=Gi,se.set(mr,se.get(mr)-1),mr&s&&se.set(s,se.get(s)-1),se.set(Gi,(se.get(Gi)||0)+1),Gi&s&&se.set(s,(se.get(s)||0)+1)}for(var _e=new Uint8Array(me.length),Me=new Map,Be=[],De=null,He=0;He<me.length;He++)De||Be.push(De={start:He,end:me.length-1,level:Fe==="rtl"?1:Fe==="ltr"?0:eh(He,!1)}),G[He]&U&&(De.end=He,De=null);for(var it=J|Y|$|W|o|le|X|U,Ue=function(Yr){return Yr+(Yr&1?1:2)},Xe=function(Yr){return Yr+(Yr&1?2:1)},qe=0;qe<Be.length;qe++){De=Be[qe];var Ye=[{_level:De.level,_override:0,_isolate:0}],ke=void 0,ce=0,Te=0,Je=0;se.clear();for(var ae=De.start;ae<=De.end;ae++){var Oe=G[ae];if(ke=Ye[Ye.length-1],se.set(Oe,(se.get(Oe)||0)+1),Oe&s&&se.set(s,(se.get(s)||0)+1),Oe&it)if(Oe&(J|Y)){_e[ae]=ke._level;var Se=(Oe===J?Xe:Ue)(ke._level);Se<=Ce&&!ce&&!Te?Ye.push({_level:Se,_override:0,_isolate:0}):ce||Te++}else if(Oe&($|W)){_e[ae]=ke._level;var je=(Oe===$?Xe:Ue)(ke._level);je<=Ce&&!ce&&!Te?Ye.push({_level:je,_override:Oe&$?P:A,_isolate:0}):ce||Te++}else if(Oe&o){Oe&ee&&(Oe=eh(ae+1,!0)===1?ie:te),_e[ae]=ke._level,ke._override&&pe(ae,ke._override);var We=(Oe===ie?Xe:Ue)(ke._level);We<=Ce&&ce===0&&Te===0?(Je++,Ye.push({_level:We,_override:0,_isolate:1,_isolInitIndex:ae})):ce++}else if(Oe&le){if(ce>0)ce--;else if(Je>0){for(Te=0;!Ye[Ye.length-1]._isolate;)Ye.pop();var Ge=Ye[Ye.length-1]._isolInitIndex;Ge!=null&&(Me.set(Ge,ae),Me.set(ae,Ge)),Ye.pop(),Je--}ke=Ye[Ye.length-1],_e[ae]=ke._level,ke._override&&pe(ae,ke._override)}else Oe&X?(ce===0&&(Te>0?Te--:!ke._isolate&&Ye.length>1&&(Ye.pop(),ke=Ye[Ye.length-1])),_e[ae]=ke._level):Oe&U&&(_e[ae]=De.level);else _e[ae]=ke._level,ke._override&&Oe!==Q&&pe(ae,ke._override)}for(var rt=[],vt=null,ct=De.start;ct<=De.end;ct++){var mt=G[ct];if(!(mt&l)){var an=_e[ct],cn=mt&o,Wn=mt===le;vt&&an===vt._level?(vt._end=ct,vt._endsWithIsolInit=cn):rt.push(vt={_start:ct,_end:ct,_level:an,_startsWithPDI:Wn,_endsWithIsolInit:cn})}}for(var bi=[],Nr=0;Nr<rt.length;Nr++){var si=rt[Nr];if(!si._startsWithPDI||si._startsWithPDI&&!Me.has(si._start)){for(var Po=[vt=si],_i=void 0;vt&&vt._endsWithIsolInit&&(_i=Me.get(vt._end))!=null;)for(var Si=Nr+1;Si<rt.length;Si++)if(rt[Si]._start===_i){Po.push(vt=rt[Si]);break}for(var Mr=[],co=0;co<Po.length;co++)for(var Fu=Po[co],yc=Fu._start;yc<=Fu._end;yc++)Mr.push(yc);for(var ng=_e[Mr[0]],Kd=De.level,cl=Mr[0]-1;cl>=0;cl--)if(!(G[cl]&l)){Kd=_e[cl];break}var Z=Mr[Mr.length-1],ye=_e[Z],Ae=De.level;if(!(G[Z]&o)){for(var Ee=Z+1;Ee<=De.end;Ee++)if(!(G[Ee]&l)){Ae=_e[Ee];break}}bi.push({_seqIndices:Mr,_sosType:Math.max(Kd,ng)%2?P:A,_eosType:Math.max(Ae,ye)%2?P:A})}}for(var ve=0;ve<bi.length;ve++){var Ze=bi[ve],Ne=Ze._seqIndices,lt=Ze._sosType,pt=Ze._eosType,wt=_e[Ne[0]]&1?P:A;if(se.get(k))for(var Ot=0;Ot<Ne.length;Ot++){var dt=Ne[Ot];if(G[dt]&k){for(var zt=lt,Kt=Ot-1;Kt>=0;Kt--)if(!(G[Ne[Kt]]&l)){zt=G[Ne[Kt]];break}pe(dt,zt&(o|le)?z:zt)}}if(se.get(R))for(var St=0;St<Ne.length;St++){var Ut=Ne[St];if(G[Ut]&R)for(var Ft=St-1;Ft>=-1;Ft--){var nt=Ft===-1?lt:G[Ne[Ft]];if(nt&a){nt===B&&pe(Ut,L);break}}}if(se.get(B))for(var Mn=0;Mn<Ne.length;Mn++){var Wt=Ne[Mn];G[Wt]&B&&pe(Wt,P)}if(se.get(O)||se.get(j))for(var Xn=1;Xn<Ne.length-1;Xn++){var Un=Ne[Xn];if(G[Un]&(O|j)){for(var Fn=0,na=0,hn=Xn-1;hn>=0&&(Fn=G[Ne[hn]],!!(Fn&l));hn--);for(var Dr=Xn+1;Dr<Ne.length&&(na=G[Ne[Dr]],!!(na&l));Dr++);Fn===na&&(G[Un]===O?Fn===R:Fn&(R|L))&&pe(Un,Fn)}}if(se.get(R))for(var Lr=0;Lr<Ne.length;Lr++){var In=Ne[Lr];if(G[In]&R){for(var Bi=Lr-1;Bi>=0&&G[Ne[Bi]]&(N|l);Bi--)pe(Ne[Bi],R);for(Lr++;Lr<Ne.length&&G[Ne[Lr]]&(N|l|R);Lr++)G[Ne[Lr]]!==R&&pe(Ne[Lr],R)}}if(se.get(N)||se.get(O)||se.get(j))for(var wi=0;wi<Ne.length;wi++){var ju=Ne[wi];if(G[ju]&(N|O|j)){pe(ju,z);for(var ul=wi-1;ul>=0&&G[Ne[ul]]&l;ul--)pe(Ne[ul],z);for(var fl=wi+1;fl<Ne.length&&G[Ne[fl]]&l;fl++)pe(Ne[fl],z)}}if(se.get(R))for(var dl=0,zu=lt;dl<Ne.length;dl++){var tx=Ne[dl],rg=G[tx];rg&R?zu===A&&pe(tx,A):rg&a&&(zu=rg)}if(se.get(s)){var hl=P|R|L,Qd=hl|A,xs=[];{for(var xc=[],bs=0;bs<Ne.length;bs++)if(G[Ne[bs]]&s){var tn=me[Ne[bs]],ig=void 0;if(w(tn)!==null)if(xc.length<63)xc.push({char:tn,seqIndex:bs});else break;else if((ig=E(tn))!==null)for(var pl=xc.length-1;pl>=0;pl--){var Zd=xc[pl].char;if(Zd===ig||Zd===E(M(tn))||w(M(Zd))===tn){xs.push([xc[pl].seqIndex,bs]),xc.length=pl;break}}}xs.sort(function(Yr,Gi){return Yr[0]-Gi[0]})}for(var og=0;og<xs.length;og++){for(var nx=xs[og],Zn=nx[0],Bu=nx[1],rx=!1,$i=0,ag=Zn+1;ag<Bu;ag++){var $u=Ne[ag];if(G[$u]&Qd){rx=!0;var Co=G[$u]&hl?P:A;if(Co===wt){$i=Co;break}}}if(rx&&!$i){$i=lt;for(var sg=Zn-1;sg>=0;sg--){var ix=Ne[sg];if(G[ix]&Qd){var Oo=G[ix]&hl?P:A;Oo!==wt?$i=Oo:$i=wt;break}}}if($i){if(G[Ne[Zn]]=G[Ne[Bu]]=$i,$i!==wt){for(var Vi=Zn+1;Vi<Ne.length;Vi++)if(!(G[Ne[Vi]]&l)){d(me[Ne[Vi]])&k&&(G[Ne[Vi]]=$i);break}}if($i!==wt){for(var _s=Bu+1;_s<Ne.length;_s++)if(!(G[Ne[_s]]&l)){d(me[Ne[_s]])&k&&(G[Ne[_s]]=$i);break}}}}for(var ra=0;ra<Ne.length;ra++)if(G[Ne[ra]]&s){for(var lg=ra,cg=ra,uo=lt,Vu=ra-1;Vu>=0;Vu--)if(G[Ne[Vu]]&l)lg=Vu;else{uo=G[Ne[Vu]]&hl?P:A;break}for(var Hu=pt,Gu=ra+1;Gu<Ne.length;Gu++)if(G[Ne[Gu]]&(s|l))cg=Gu;else{Hu=G[Ne[Gu]]&hl?P:A;break}for(var Hi=lg;Hi<=cg;Hi++)G[Ne[Hi]]=uo===Hu?uo:wt;ra=cg}}}for(var qr=De.start;qr<=De.end;qr++){var Jd=_e[qr],Ia=G[qr];if(Jd&1?Ia&(A|R|L)&&_e[qr]++:Ia&P?_e[qr]++:Ia&(L|R)&&(_e[qr]+=2),Ia&l&&(_e[qr]=qr===0?De.level:_e[qr-1]),qr===De.end||d(me[qr])&(H|U))for(var bc=qr;bc>=0&&d(me[bc])&c;bc--)_e[bc]=De.level}}return{levels:_e,paragraphs:Be};function eh(Yr,Gi){for(var mr=Yr;mr<me.length;mr++){var gr=G[mr];if(gr&(P|B))return 1;if(gr&(U|A)||Gi&&gr===le)return 0;if(gr&o){var Ro=ox(mr);mr=Ro===-1?me.length:Ro}}return 0}function ox(Yr){for(var Gi=1,mr=Yr+1;mr<me.length;mr++){var gr=G[mr];if(gr&U)break;if(gr&le){if(--Gi===0)return mr}else gr&o&&Gi++}return-1}}var he="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",fe;function K(){if(!fe){var me=x(he,!0),Fe=me.map,Ce=me.reverseMap;Ce.forEach(function(G,V){Fe.set(V,G)}),fe=Fe}}function de(me){return K(),fe.get(me)||null}function q(me,Fe,Ce,G){var V=me.length;Ce=Math.max(0,Ce==null?0:+Ce),G=Math.min(V-1,G==null?V-1:+G);for(var se=new Map,pe=Ce;pe<=G;pe++)if(Fe[pe]&1){var _e=de(me[pe]);_e!==null&&se.set(pe,_e)}return se}function Pe(me,Fe,Ce,G){var V=me.length;Ce=Math.max(0,Ce==null?0:+Ce),G=Math.min(V-1,G==null?V-1:+G);var se=[];return Fe.paragraphs.forEach(function(pe){var _e=Math.max(Ce,pe.start),Me=Math.min(G,pe.end);if(_e<Me){for(var Be=Fe.levels.slice(_e,Me+1),De=Me;De>=_e&&d(me[De])&c;De--)Be[De]=pe.level;for(var He=pe.level,it=1/0,Ue=0;Ue<Be.length;Ue++){var Xe=Be[Ue];Xe>He&&(He=Xe),Xe<it&&(it=Xe|1)}for(var qe=He;qe>=it;qe--)for(var Ye=0;Ye<Be.length;Ye++)if(Be[Ye]>=qe){for(var ke=Ye;Ye+1<Be.length&&Be[Ye+1]>=qe;)Ye++;Ye>ke&&se.push([ke+_e,Ye+_e])}}}),se}function be(me,Fe,Ce,G){var V=Re(me,Fe,Ce,G),se=[].concat(me);return V.forEach(function(pe,_e){se[_e]=(Fe.levels[pe]&1?de(me[pe]):null)||me[pe]}),se.join("")}function Re(me,Fe,Ce,G){for(var V=Pe(me,Fe,Ce,G),se=[],pe=0;pe<me.length;pe++)se[pe]=pe;return V.forEach(function(_e){for(var Me=_e[0],Be=_e[1],De=se.slice(Me,Be+1),He=De.length;He--;)se[Be-He]=De[He]}),se}return e.closingToOpeningBracket=E,e.getBidiCharType=d,e.getBidiCharTypeName=h,e.getCanonicalBracket=M,e.getEmbeddingLevels=ue,e.getMirroredCharacter=de,e.getMirroredCharactersMap=q,e.getReorderSegments=Pe,e.getReorderedIndices=Re,e.getReorderedString=be,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const UK=/\bvoid\s+main\s*\(\s*\)\s*{/g;function hR(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let o=Vt[i];return o?hR(o):r}return t.replace(e,n)}const fi=[];for(let t=0;t<256;t++)fi[t]=(t<16?"0":"")+t.toString(16);function m4e(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(fi[t&255]+fi[t>>8&255]+fi[t>>16&255]+fi[t>>24&255]+"-"+fi[e&255]+fi[e>>8&255]+"-"+fi[e>>16&15|64]+fi[e>>24&255]+"-"+fi[n&63|128]+fi[n>>8&255]+"-"+fi[n>>16&255]+fi[n>>24&255]+fi[r&255]+fi[r>>8&255]+fi[r>>16&255]+fi[r>>24&255]).toUpperCase()}const xf=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},g4e=Date.now(),l$=new WeakMap,c$=new Map;let v4e=1e10;function pR(t,e){const n=_4e(e);let r=l$.get(t);if(r||l$.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,o=function(c,u){t.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=c$[f];if(!d){const h=y4e(this,c,e,n);d=c$[f]=h}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,xf(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-g4e}}),this[i]&&this[i](c)},a=function(){return s(e.chained?t:t.clone())},s=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:v4e++}),u.uuid=m4e(),u.uniforms=xf({},c.uniforms,e.uniforms),u.defines=xf({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=xf({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:c=>{t.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return o},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(xf(this.extensions,c.extensions),xf(this.defines,c.defines),xf(this.uniforms,u0.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return s(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=pR(t.isDerivedMaterial?t.getDepthMaterial():new gM({depthPacking:AD}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=pR(t.isDerivedMaterial?t.getDistanceMaterial():new vM,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=a,new a}function y4e(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:o,vertexMainIntro:a,vertexMainOutro:s,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:h,timeUniform:y}=r;if(o=o||"",a=a||"",s=s||"",c=c||"",u=u||"",f=f||"",(l||h)&&(e=hR(e)),(d||h)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=hR(n)),h){let x=h({vertexShader:e,fragmentShader:n});e=x.vertexShader,n=x.fragmentShader}if(d){let x=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,v=>(x.push(v),"")),f=`${d}
${x.join(`
`)}
${f}`}if(y){const x=`
uniform float ${y};
`;o=x+o,c=x+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,o=`${o}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,a=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(x,v,m,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,m))?v:`troika_${v}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=u$(e,i,o,a,s),n=u$(n,i,c,u,f),{vertexShader:e,fragmentShader:n}}function u$(t,e,n,r,i){return(r||i||n)&&(t=t.replace(UK,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function x4e(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let b4e=0;const f$=new Map;function _4e(t){const e=JSON.stringify(t,x4e);let n=f$.get(e);return n==null&&f$.set(e,n=++b4e),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function S4e(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var o=e._bin,a=new Uint8Array(i);if(o.readASCII(a,0,4)=="ttcf"){var s=4;o.readUshort(a,s),s+=2,o.readUshort(a,s),s+=2;var l=o.readUint(a,s);s+=4;for(var c=[],u=0;u<l;u++){var f=o.readUint(a,s);s+=4,c.push(e._readFont(a,f))}return c}return[e._readFont(a,0)]},_readFont:function(i,o){var a=e._bin,s=o;a.readFixed(i,o),o+=4;var l=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:i,_offset:s},f={},d=0;d<l;d++){var h=a.readASCII(i,o,4);o+=4,a.readUint(i,o),o+=4;var y=a.readUint(i,o);o+=4;var x=a.readUint(i,o);o+=4,f[h]={offset:y,length:x}}for(d=0;d<c.length;d++){var v=c[d];f[v]&&(u[v.trim()]=e[v.trim()].parse(i,f[v].offset,f[v].length,u))}return u},_tabOffset:function(i,o,a){for(var s=e._bin,l=s.readUshort(i,a+4),c=a+12,u=0;u<l;u++){var f=s.readASCII(i,c,4);c+=4,s.readUint(i,c),c+=4;var d=s.readUint(i,c);if(c+=4,s.readUint(i,c),c+=4,f==o)return d}return 0}};e._bin={readFixed:function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<8|i[o+3])/65540},readF2dot14:function(i,o){return e._bin.readShort(i,o)/16384},readInt:function(i,o){return e._bin._view(i).getInt32(o)},readInt8:function(i,o){return e._bin._view(i).getInt8(o)},readShort:function(i,o){return e._bin._view(i).getInt16(o)},readUshort:function(i,o){return e._bin._view(i).getUint16(o)},readUshorts:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(e._bin.readUshort(i,o+2*l));return s},readUint:function(i,o){return e._bin._view(i).getUint32(o)},readUint64:function(i,o){return 4294967296*e._bin.readUint(i,o)+e._bin.readUint(i,o+4)},readASCII:function(i,o,a){for(var s="",l=0;l<a;l++)s+=String.fromCharCode(i[o+l]);return s},readUnicode:function(i,o,a){for(var s="",l=0;l<a;l++){var c=i[o++]<<8|i[o++];s+=String.fromCharCode(c)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,o,a){var s=e._bin._tdec;return s&&o==0&&a==i.length?s.decode(i):e._bin.readASCII(i,o,a)},readBytes:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(i[o+l]);return s},readASCIIArray:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(String.fromCharCode(i[o+l]));return s},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,o,a,s,l){var c=e._bin,u={},f=o;c.readFixed(i,o),o+=4;var d=c.readUshort(i,o);o+=2;var h=c.readUshort(i,o);o+=2;var y=c.readUshort(i,o);return o+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+h),u.lookupList=e._lctf.readLookupList(i,f+y,l),u},e._lctf.readLookupList=function(i,o,a){var s=e._bin,l=o,c=[],u=s.readUshort(i,o);o+=2;for(var f=0;f<u;f++){var d=s.readUshort(i,o);o+=2;var h=e._lctf.readLookupTable(i,l+d,a);c.push(h)}return c},e._lctf.readLookupTable=function(i,o,a){var s=e._bin,l=o,c={tabs:[]};c.ltype=s.readUshort(i,o),o+=2,c.flag=s.readUshort(i,o),o+=2;var u=s.readUshort(i,o);o+=2;for(var f=c.ltype,d=0;d<u;d++){var h=s.readUshort(i,o);o+=2;var y=a(i,f,l+h,c);c.tabs.push(y)}return c},e._lctf.numOfOnes=function(i){for(var o=0,a=0;a<32;a++)i>>>a&1&&o++;return o},e._lctf.readClassDef=function(i,o){var a=e._bin,s=[],l=a.readUshort(i,o);if(o+=2,l==1){var c=a.readUshort(i,o);o+=2;var u=a.readUshort(i,o);o+=2;for(var f=0;f<u;f++)s.push(c+f),s.push(c+f),s.push(a.readUshort(i,o)),o+=2}if(l==2){var d=a.readUshort(i,o);for(o+=2,f=0;f<d;f++)s.push(a.readUshort(i,o)),o+=2,s.push(a.readUshort(i,o)),o+=2,s.push(a.readUshort(i,o)),o+=2}return s},e._lctf.getInterval=function(i,o){for(var a=0;a<i.length;a+=3){var s=i[a],l=i[a+1];if(i[a+2],s<=o&&o<=l)return a}return-1},e._lctf.readCoverage=function(i,o){var a=e._bin,s={};s.fmt=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);return o+=2,s.fmt==1&&(s.tab=a.readUshorts(i,o,l)),s.fmt==2&&(s.tab=a.readUshorts(i,o,3*l)),s},e._lctf.coverageIndex=function(i,o){var a=i.tab;if(i.fmt==1)return a.indexOf(o);if(i.fmt==2){var s=e._lctf.getInterval(a,o);if(s!=-1)return a[s+2]+(o-a[s])}return-1},e._lctf.readFeatureList=function(i,o){var a=e._bin,s=o,l=[],c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readASCII(i,o,4);o+=4;var d=a.readUshort(i,o);o+=2;var h=e._lctf.readFeatureTable(i,s+d);h.tag=f.trim(),l.push(h)}return l},e._lctf.readFeatureTable=function(i,o){var a=e._bin,s=o,l={},c=a.readUshort(i,o);o+=2,c>0&&(l.featureParams=s+c);var u=a.readUshort(i,o);o+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(a.readUshort(i,o+2*f));return l},e._lctf.readScriptList=function(i,o){var a=e._bin,s=o,l={},c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readASCII(i,o,4);o+=4;var d=a.readUshort(i,o);o+=2,l[f.trim()]=e._lctf.readScriptTable(i,s+d)}return l},e._lctf.readScriptTable=function(i,o){var a=e._bin,s=o,l={},c=a.readUshort(i,o);o+=2,c>0&&(l.default=e._lctf.readLangSysTable(i,s+c));var u=a.readUshort(i,o);o+=2;for(var f=0;f<u;f++){var d=a.readASCII(i,o,4);o+=4;var h=a.readUshort(i,o);o+=2,l[d.trim()]=e._lctf.readLangSysTable(i,s+h)}return l},e._lctf.readLangSysTable=function(i,o){var a=e._bin,s={};a.readUshort(i,o),o+=2,s.reqFeature=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);return o+=2,s.features=a.readUshorts(i,o,l),s},e.CFF={},e.CFF.parse=function(i,o,a){var s=e._bin;(i=new Uint8Array(i.buffer,o,a))[o=0],i[++o],i[++o],i[++o],o++;var l=[];o=e.CFF.readIndex(i,o,l);for(var c=[],u=0;u<l.length-1;u++)c.push(s.readASCII(i,o+l[u],l[u+1]-l[u]));o+=l[l.length-1];var f=[];o=e.CFF.readIndex(i,o,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,o+f[u],o+f[u+1]));o+=f[f.length-1];var h=d[0],y=[];o=e.CFF.readIndex(i,o,y);var x=[];for(u=0;u<y.length-1;u++)x.push(s.readASCII(i,o+y[u],y[u+1]-y[u]));if(o+=y[y.length-1],e.CFF.readSubrs(i,o,h),h.CharStrings){o=h.CharStrings,y=[],o=e.CFF.readIndex(i,o,y);var v=[];for(u=0;u<y.length-1;u++)v.push(s.readBytes(i,o+y[u],y[u+1]-y[u]));h.CharStrings=v}if(h.ROS){o=h.FDArray;var m=[];for(o=e.CFF.readIndex(i,o,m),h.FDArray=[],u=0;u<m.length-1;u++){var _=e.CFF.readDict(i,o+m[u],o+m[u+1]);e.CFF._readFDict(i,_,x),h.FDArray.push(_)}o+=m[m.length-1],o=h.FDSelect,h.FDSelect=[];var b=i[o];if(o++,b!=3)throw b;var w=s.readUshort(i,o);for(o+=2,u=0;u<w+1;u++)h.FDSelect.push(s.readUshort(i,o),i[o+2]),o+=3}return h.Encoding&&(h.Encoding=e.CFF.readEncoding(i,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=e.CFF.readCharset(i,h.charset,h.CharStrings.length)),e.CFF._readFDict(i,h,x),h},e.CFF._readFDict=function(i,o,a){var s;for(var l in o.Private&&(s=o.Private[1],o.Private=e.CFF.readDict(i,s,s+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(i,s+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(o[l]=a[o[l]-426+35])},e.CFF.readSubrs=function(i,o,a){var s=e._bin,l=[];o=e.CFF.readIndex(i,o,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,a.Bias=c,a.Subrs=[];for(var f=0;f<l.length-1;f++)a.Subrs.push(s.readBytes(i,o+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,o){for(var a=0;a<i.charset.length;a++)if(i.charset[a]==o)return a;return-1},e.CFF.glyphBySE=function(i,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[o])},e.CFF.readEncoding=function(i,o,a){e._bin;var s=[".notdef"],l=i[o];if(o++,l!=0)throw"error: unknown encoding format: "+l;var c=i[o];o++;for(var u=0;u<c;u++)s.push(i[o+u]);return s},e.CFF.readCharset=function(i,o,a){var s=e._bin,l=[".notdef"],c=i[o];if(o++,c==0)for(var u=0;u<a;u++){var f=s.readUshort(i,o);o+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<a;){f=s.readUshort(i,o),o+=2;var d=0;for(c==1?(d=i[o],o++):(d=s.readUshort(i,o),o+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,o,a){var s=e._bin,l=s.readUshort(i,o)+1,c=i[o+=2];if(o++,c==1)for(var u=0;u<l;u++)a.push(i[o+u]);else if(c==2)for(u=0;u<l;u++)a.push(s.readUshort(i,o+2*u));else if(c==3)for(u=0;u<l;u++)a.push(16777215&s.readUint(i,o+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(o+=l*c)-1},e.CFF.getCharString=function(i,o,a){var s=e._bin,l=i[o],c=i[o+1];i[o+2],i[o+3],i[o+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=s.readShort(i,o+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=s.readInt(i,o+1)/65535,u=5),a.val=d??"o"+f,a.size=u},e.CFF.readCharString=function(i,o,a){for(var s=o+a,l=e._bin,c=[];o<s;){var u=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,h=null,y=null;u<=20&&(h=u,d=1),u==12&&(h=100*u+f,d=2),u!=19&&u!=20||(h=u,d=2),21<=u&&u<=27&&(h=u,d=1),u==28&&(y=l.readShort(i,o+1),d=3),29<=u&&u<=31&&(h=u,d=1),32<=u&&u<=246&&(y=u-139,d=1),247<=u&&u<=250&&(y=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(y=256*-(u-251)-f-108,d=2),u==255&&(y=l.readInt(i,o+1)/65535,d=5),c.push(y??"o"+h),o+=d}return c},e.CFF.readDict=function(i,o,a){for(var s=e._bin,l={},c=[];o<a;){var u=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,h=null,y=null;if(u==28&&(y=s.readShort(i,o+1),d=3),u==29&&(y=s.readInt(i,o+1),d=5),32<=u&&u<=246&&(y=u-139,d=1),247<=u&&u<=250&&(y=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(y=256*-(u-251)-f-108,d=2),u==255)throw y=s.readInt(i,o+1)/65535,d=5,"unknown number";if(u==30){var x=[];for(d=1;;){var v=i[o+d];d++;var m=v>>4,_=15&v;if(m!=15&&x.push(m),_!=15&&x.push(_),_==15)break}for(var b="",w=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<x.length;E++)b+=w[x[E]];y=parseFloat(b)}u<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),h!=null?(l[h]=c.length==1?c[0]:c,c=[]):c.push(y),o+=d}return l},e.cmap={},e.cmap.parse=function(i,o,a){i=new Uint8Array(i.buffer,o,a),o=0;var s=e._bin,l={};s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=s.readUshort(i,o);o+=2;var h=s.readUshort(i,o);o+=2;var y=s.readUint(i,o);o+=4;var x="p"+d+"e"+h,v=u.indexOf(y);if(v==-1){var m;v=l.tables.length,u.push(y);var _=s.readUshort(i,y);_==0?m=e.cmap.parse0(i,y):_==4?m=e.cmap.parse4(i,y):_==6?m=e.cmap.parse6(i,y):_==12?m=e.cmap.parse12(i,y):console.debug("unknown format: "+_,d,h,y),l.tables.push(m)}if(l[x]!=null)throw"multiple tables for one platform+encoding";l[x]=v}return l},e.cmap.parse0=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2,s.map=[];for(var c=0;c<l-6;c++)s.map.push(i[o+c]);return s},e.cmap.parse4=function(i,o){var a=e._bin,s=o,l={};l.format=a.readUshort(i,o),o+=2;var c=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2;var u=a.readUshort(i,o);o+=2;var f=u/2;l.searchRange=a.readUshort(i,o),o+=2,l.entrySelector=a.readUshort(i,o),o+=2,l.rangeShift=a.readUshort(i,o),o+=2,l.endCount=a.readUshorts(i,o,f),o+=2*f,o+=2,l.startCount=a.readUshorts(i,o,f),o+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(a.readShort(i,o)),o+=2;for(l.idRangeOffset=a.readUshorts(i,o,f),o+=2*f,l.glyphIdArray=[];o<s+c;)l.glyphIdArray.push(a.readUshort(i,o)),o+=2;return l},e.cmap.parse6=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,s.firstCode=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2,s.glyphIdArray=[];for(var c=0;c<l;c++)s.glyphIdArray.push(a.readUshort(i,o)),o+=2;return s},e.cmap.parse12=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2,o+=2,a.readUint(i,o),o+=4,a.readUint(i,o),o+=4;var l=a.readUint(i,o);o+=4,s.groups=[];for(var c=0;c<l;c++){var u=o+12*c,f=a.readUint(i,u+0),d=a.readUint(i,u+4),h=a.readUint(i,u+8);s.groups.push([f,d,h])}return s},e.glyf={},e.glyf.parse=function(i,o,a,s){for(var l=[],c=0;c<s.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,o){var a=e._bin,s=i._data,l=e._tabOffset(s,"glyf",i._offset)+i.loca[o];if(i.loca[o]==i.loca[o+1])return null;var c={};if(c.noc=a.readShort(s,l),l+=2,c.xMin=a.readShort(s,l),l+=2,c.yMin=a.readShort(s,l),l+=2,c.xMax=a.readShort(s,l),l+=2,c.yMax=a.readShort(s,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(a.readUshort(s,l)),l+=2;var f=a.readUshort(s,l);if(l+=2,s.length-l<f)return null;c.instructions=a.readBytes(s,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var h=s[l];if(l++,c.flags.push(h),(8&h)!=0){var y=s[l];l++;for(var x=0;x<y;x++)c.flags.push(h),u++}}for(c.xs=[],u=0;u<d;u++){var v=(2&c.flags[u])!=0,m=(16&c.flags[u])!=0;v?(c.xs.push(m?s[l]:-s[l]),l++):m?c.xs.push(0):(c.xs.push(a.readShort(s,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)v=(4&c.flags[u])!=0,m=(32&c.flags[u])!=0,v?(c.ys.push(m?s[l]:-s[l]),l++):m?c.ys.push(0):(c.ys.push(a.readShort(s,l)),l+=2);var _=0,b=0;for(u=0;u<d;u++)_+=c.xs[u],b+=c.ys[u],c.xs[u]=_,c.ys[u]=b}else{var w;c.parts=[];do{w=a.readUshort(s,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=a.readUshort(s,l),l+=2,1&w){var M=a.readShort(s,l);l+=2;var A=a.readShort(s,l);l+=2}else M=a.readInt8(s,l),l++,A=a.readInt8(s,l),l++;2&w?(E.m.tx=M,E.m.ty=A):(E.p1=M,E.p2=A),8&w?(E.m.a=E.m.d=a.readF2dot14(s,l),l+=2):64&w?(E.m.a=a.readF2dot14(s,l),l+=2,E.m.d=a.readF2dot14(s,l),l+=2):128&w&&(E.m.a=a.readF2dot14(s,l),l+=2,E.m.b=a.readF2dot14(s,l),l+=2,E.m.c=a.readF2dot14(s,l),l+=2,E.m.d=a.readF2dot14(s,l),l+=2)}while(32&w);if(256&w){var P=a.readUshort(s,l);for(l+=2,c.instr=[],u=0;u<P;u++)c.instr.push(s[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(i,o,a,s){var l=o;o+=4;var c=e._bin.readUshort(i,o);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,l+c)}},e.GPOS={},e.GPOS.parse=function(i,o,a,s){return e._lctf.parse(i,o,a,s,e.GPOS.subt)},e.GPOS.subt=function(i,o,a,s){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,o==1||o==2||o==3||o==7||o==8&&u.fmt<=2){var f=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(o==1&&u.fmt==1){var d=l.readUshort(i,a);a+=2,d!=0&&(u.pos=e.GPOS.readValueRecord(i,a,d))}else if(o==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,a),a+=2;var h=l.readUshort(i,a);a+=2;var y=e._lctf.numOfOnes(d),x=e._lctf.numOfOnes(h);if(u.fmt==1){u.pairsets=[];var v=l.readUshort(i,a);a+=2;for(var m=0;m<v;m++){var _=c+l.readUshort(i,a);a+=2;var b=l.readUshort(i,_);_+=2;for(var w=[],E=0;E<b;E++){var M=l.readUshort(i,_);_+=2,d!=0&&(L=e.GPOS.readValueRecord(i,_,d),_+=2*y),h!=0&&(j=e.GPOS.readValueRecord(i,_,h),_+=2*x),w.push({gid2:M,val1:L,val2:j})}u.pairsets.push(w)}}if(u.fmt==2){var A=l.readUshort(i,a);a+=2;var P=l.readUshort(i,a);a+=2;var R=l.readUshort(i,a);a+=2;var O=l.readUshort(i,a);for(a+=2,u.classDef1=e._lctf.readClassDef(i,c+A),u.classDef2=e._lctf.readClassDef(i,c+P),u.matrix=[],m=0;m<R;m++){var N=[];for(E=0;E<O;E++){var L=null,j=null;d!=0&&(L=e.GPOS.readValueRecord(i,a,d),a+=2*y),h!=0&&(j=e.GPOS.readValueRecord(i,a,h),a+=2*x),N.push({val1:L,val2:j})}u.matrix.push(N)}}}else if(o==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else if(o==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else{if(o==9&&u.fmt==1){var U=l.readUshort(i,a);a+=2;var H=l.readUint(i,a);if(a+=4,s.ltype==9)s.ltype=U;else if(s.ltype!=U)throw"invalid extension substitution";return e.GPOS.subt(i,s.ltype,c+H)}console.debug("unsupported GPOS table LookupType",o,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,o,a){var s=e._bin,l=[];return l.push(1&a?s.readShort(i,o):0),o+=1&a?2:0,l.push(2&a?s.readShort(i,o):0),o+=2&a?2:0,l.push(4&a?s.readShort(i,o):0),o+=4&a?2:0,l.push(8&a?s.readShort(i,o):0),o+=8&a?2:0,l},e.GPOS.readBaseArray=function(i,o,a){var s=e._bin,l=[],c=o,u=s.readUshort(i,o);o+=2;for(var f=0;f<u;f++){for(var d=[],h=0;h<a;h++)d.push(e.GPOS.readAnchorRecord(i,c+s.readUshort(i,o))),o+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,o){var a=e._bin,s=[],l=o,c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=e.GPOS.readAnchorRecord(i,a.readUshort(i,o+2)+l);f.markClass=a.readUshort(i,o),s.push(f),o+=4}return s},e.GPOS.readAnchorRecord=function(i,o){var a=e._bin,s={};return s.fmt=a.readUshort(i,o),s.x=a.readShort(i,o+2),s.y=a.readShort(i,o+4),s},e.GSUB={},e.GSUB.parse=function(i,o,a,s){return e._lctf.parse(i,o,a,s,e.GSUB.subt)},e.GSUB.subt=function(i,o,a,s){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,o!=1&&o!=2&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==2||o==4||o==5&&u.fmt<=2||o==6&&u.fmt<=2){var f=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(o==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,a),a+=2;else if(u.fmt==2){var d=l.readUshort(i,a);a+=2,u.newg=l.readUshorts(i,a,d),a+=2*u.newg.length}}else if(o==2&&u.fmt==1){d=l.readUshort(i,a),a+=2,u.seqs=[];for(var h=0;h<d;h++){var y=l.readUshort(i,a)+c;a+=2;var x=l.readUshort(i,y);u.seqs.push(l.readUshorts(i,y+2,x))}}else if(o==4)for(u.vals=[],d=l.readUshort(i,a),a+=2,h=0;h<d;h++){var v=l.readUshort(i,a);a+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+v))}else if(o==5&&u.fmt==2){if(u.fmt==2){var m=l.readUshort(i,a);a+=2,u.cDef=e._lctf.readClassDef(i,c+m),u.scset=[];var _=l.readUshort(i,a);for(a+=2,h=0;h<_;h++){var b=l.readUshort(i,a);a+=2,u.scset.push(b==0?null:e.GSUB.readSubClassSet(i,c+b))}}}else if(o==6&&u.fmt==3){if(u.fmt==3){for(h=0;h<3;h++){d=l.readUshort(i,a),a+=2;for(var w=[],E=0;E<d;E++)w.push(e._lctf.readCoverage(i,c+l.readUshort(i,a+2*E)));a+=2*d,h==0&&(u.backCvg=w),h==1&&(u.inptCvg=w),h==2&&(u.ahedCvg=w)}d=l.readUshort(i,a),a+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,a,d)}}else{if(o==7&&u.fmt==1){var M=l.readUshort(i,a);a+=2;var A=l.readUint(i,a);if(a+=4,s.ltype==9)s.ltype=M;else if(s.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,s.ltype,c+A)}console.debug("unsupported GSUB table LookupType",o,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,o){var a=e._bin.readUshort,s=o,l=[],c=a(i,o);o+=2;for(var u=0;u<c;u++){var f=a(i,o);o+=2,l.push(e.GSUB.readSubClassRule(i,s+f))}return l},e.GSUB.readSubClassRule=function(i,o){var a=e._bin.readUshort,s={},l=a(i,o),c=a(i,o+=2);o+=2,s.input=[];for(var u=0;u<l-1;u++)s.input.push(a(i,o)),o+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(i,o,c),s},e.GSUB.readSubstLookupRecords=function(i,o,a){for(var s=e._bin.readUshort,l=[],c=0;c<a;c++)l.push(s(i,o),s(i,o+2)),o+=4;return l},e.GSUB.readChainSubClassSet=function(i,o){var a=e._bin,s=o,l=[],c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,o);o+=2,l.push(e.GSUB.readChainSubClassRule(i,s+f))}return l},e.GSUB.readChainSubClassRule=function(i,o){for(var a=e._bin,s={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=a.readUshort(i,o);o+=2,c==1&&u--,s[l[c]]=a.readUshorts(i,o,u),o+=2*s[l[c]].length}return u=a.readUshort(i,o),o+=2,s.subst=a.readUshorts(i,o,2*u),o+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(i,o){var a=e._bin,s=o,l=[],c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,o);o+=2,l.push(e.GSUB.readLigature(i,s+f))}return l},e.GSUB.readLigature=function(i,o){var a=e._bin,s={chain:[]};s.nglyph=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2;for(var c=0;c<l-1;c++)s.chain.push(a.readUshort(i,o)),o+=2;return s},e.head={},e.head.parse=function(i,o,a){var s=e._bin,l={};return s.readFixed(i,o),o+=4,l.fontRevision=s.readFixed(i,o),o+=4,s.readUint(i,o),o+=4,s.readUint(i,o),o+=4,l.flags=s.readUshort(i,o),o+=2,l.unitsPerEm=s.readUshort(i,o),o+=2,l.created=s.readUint64(i,o),o+=8,l.modified=s.readUint64(i,o),o+=8,l.xMin=s.readShort(i,o),o+=2,l.yMin=s.readShort(i,o),o+=2,l.xMax=s.readShort(i,o),o+=2,l.yMax=s.readShort(i,o),o+=2,l.macStyle=s.readUshort(i,o),o+=2,l.lowestRecPPEM=s.readUshort(i,o),o+=2,l.fontDirectionHint=s.readShort(i,o),o+=2,l.indexToLocFormat=s.readShort(i,o),o+=2,l.glyphDataFormat=s.readShort(i,o),o+=2,l},e.hhea={},e.hhea.parse=function(i,o,a){var s=e._bin,l={};return s.readFixed(i,o),o+=4,l.ascender=s.readShort(i,o),o+=2,l.descender=s.readShort(i,o),o+=2,l.lineGap=s.readShort(i,o),o+=2,l.advanceWidthMax=s.readUshort(i,o),o+=2,l.minLeftSideBearing=s.readShort(i,o),o+=2,l.minRightSideBearing=s.readShort(i,o),o+=2,l.xMaxExtent=s.readShort(i,o),o+=2,l.caretSlopeRise=s.readShort(i,o),o+=2,l.caretSlopeRun=s.readShort(i,o),o+=2,l.caretOffset=s.readShort(i,o),o+=2,o+=8,l.metricDataFormat=s.readShort(i,o),o+=2,l.numberOfHMetrics=s.readUshort(i,o),o+=2,l},e.hmtx={},e.hmtx.parse=function(i,o,a,s){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<s.maxp.numGlyphs;d++)d<s.hhea.numberOfHMetrics&&(u=l.readUshort(i,o),o+=2,f=l.readShort(i,o),o+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,o,a,s){var l=e._bin,c=l.readUshort(i,o);if(o+=2,c==1)return e.kern.parseV1(i,o-2,a,s);var u=l.readUshort(i,o);o+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){o+=2,a=l.readUshort(i,o),o+=2;var h=l.readUshort(i,o);o+=2;var y=h>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;o=e.kern.readFormat0(i,o,f)}return f},e.kern.parseV1=function(i,o,a,s){var l=e._bin;l.readFixed(i,o),o+=4;var c=l.readUint(i,o);o+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,o),o+=4;var d=l.readUshort(i,o);o+=2,l.readUshort(i,o),o+=2;var h=d>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;o=e.kern.readFormat0(i,o,u)}return u},e.kern.readFormat0=function(i,o,a){var s=e._bin,l=-1,c=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2;for(var u=0;u<c;u++){var f=s.readUshort(i,o);o+=2;var d=s.readUshort(i,o);o+=2;var h=s.readShort(i,o);o+=2,f!=l&&(a.glyph1.push(f),a.rval.push({glyph2:[],vals:[]}));var y=a.rval[a.rval.length-1];y.glyph2.push(d),y.vals.push(h),l=f}return o},e.loca={},e.loca.parse=function(i,o,a,s){var l=e._bin,c=[],u=s.head.indexToLocFormat,f=s.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,o+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,o+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,o,a){var s=e._bin,l={},c=s.readUint(i,o);return o+=4,l.numGlyphs=s.readUshort(i,o),o+=2,c==65536&&(l.maxPoints=s.readUshort(i,o),o+=2,l.maxContours=s.readUshort(i,o),o+=2,l.maxCompositePoints=s.readUshort(i,o),o+=2,l.maxCompositeContours=s.readUshort(i,o),o+=2,l.maxZones=s.readUshort(i,o),o+=2,l.maxTwilightPoints=s.readUshort(i,o),o+=2,l.maxStorage=s.readUshort(i,o),o+=2,l.maxFunctionDefs=s.readUshort(i,o),o+=2,l.maxInstructionDefs=s.readUshort(i,o),o+=2,l.maxStackElements=s.readUshort(i,o),o+=2,l.maxSizeOfInstructions=s.readUshort(i,o),o+=2,l.maxComponentElements=s.readUshort(i,o),o+=2,l.maxComponentDepth=s.readUshort(i,o),o+=2),l},e.name={},e.name.parse=function(i,o,a){var s=e._bin,l={};s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2,s.readUshort(i,o);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=o+=2,h=0;h<c;h++){var y=s.readUshort(i,o);o+=2;var x=s.readUshort(i,o);o+=2;var v=s.readUshort(i,o);o+=2;var m=s.readUshort(i,o);o+=2;var _=s.readUshort(i,o);o+=2;var b=s.readUshort(i,o);o+=2;var w,E=f[m],M=d+12*c+b;if(y==0)w=s.readUnicode(i,M,_/2);else if(y==3&&x==0)w=s.readUnicode(i,M,_/2);else if(x==0)w=s.readASCII(i,M,_);else if(x==1)w=s.readUnicode(i,M,_/2);else if(x==3)w=s.readUnicode(i,M,_/2);else{if(y!=1)throw"unknown encoding "+x+", platformID: "+y;w=s.readASCII(i,M,_),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var A="p"+y+","+v.toString(16);l[A]==null&&(l[A]={}),l[A][E!==void 0?E:m]=w,l[A]._lang=v}for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==1033)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==0)return l[P];for(var P in l)if(l[P].postScriptName!=null&&l[P]._lang==3084)return l[P];for(var P in l)if(l[P].postScriptName!=null)return l[P];for(var P in l){u=P;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,o,a){var s=e._bin.readUshort(i,o);o+=2;var l={};if(s==0)e["OS/2"].version0(i,o,l);else if(s==1)e["OS/2"].version1(i,o,l);else if(s==2||s==3||s==4)e["OS/2"].version2(i,o,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(i,o,l)}return l},e["OS/2"].version0=function(i,o,a){var s=e._bin;return a.xAvgCharWidth=s.readShort(i,o),o+=2,a.usWeightClass=s.readUshort(i,o),o+=2,a.usWidthClass=s.readUshort(i,o),o+=2,a.fsType=s.readUshort(i,o),o+=2,a.ySubscriptXSize=s.readShort(i,o),o+=2,a.ySubscriptYSize=s.readShort(i,o),o+=2,a.ySubscriptXOffset=s.readShort(i,o),o+=2,a.ySubscriptYOffset=s.readShort(i,o),o+=2,a.ySuperscriptXSize=s.readShort(i,o),o+=2,a.ySuperscriptYSize=s.readShort(i,o),o+=2,a.ySuperscriptXOffset=s.readShort(i,o),o+=2,a.ySuperscriptYOffset=s.readShort(i,o),o+=2,a.yStrikeoutSize=s.readShort(i,o),o+=2,a.yStrikeoutPosition=s.readShort(i,o),o+=2,a.sFamilyClass=s.readShort(i,o),o+=2,a.panose=s.readBytes(i,o,10),o+=10,a.ulUnicodeRange1=s.readUint(i,o),o+=4,a.ulUnicodeRange2=s.readUint(i,o),o+=4,a.ulUnicodeRange3=s.readUint(i,o),o+=4,a.ulUnicodeRange4=s.readUint(i,o),o+=4,a.achVendID=[s.readInt8(i,o),s.readInt8(i,o+1),s.readInt8(i,o+2),s.readInt8(i,o+3)],o+=4,a.fsSelection=s.readUshort(i,o),o+=2,a.usFirstCharIndex=s.readUshort(i,o),o+=2,a.usLastCharIndex=s.readUshort(i,o),o+=2,a.sTypoAscender=s.readShort(i,o),o+=2,a.sTypoDescender=s.readShort(i,o),o+=2,a.sTypoLineGap=s.readShort(i,o),o+=2,a.usWinAscent=s.readUshort(i,o),o+=2,a.usWinDescent=s.readUshort(i,o),o+=2},e["OS/2"].version1=function(i,o,a){var s=e._bin;return o=e["OS/2"].version0(i,o,a),a.ulCodePageRange1=s.readUint(i,o),o+=4,a.ulCodePageRange2=s.readUint(i,o),o+=4},e["OS/2"].version2=function(i,o,a){var s=e._bin;return o=e["OS/2"].version1(i,o,a),a.sxHeight=s.readShort(i,o),o+=2,a.sCapHeight=s.readShort(i,o),o+=2,a.usDefault=s.readUshort(i,o),o+=2,a.usBreak=s.readUshort(i,o),o+=2,a.usMaxContext=s.readUshort(i,o),o+=2},e["OS/2"].version5=function(i,o,a){var s=e._bin;return o=e["OS/2"].version2(i,o,a),a.usLowerOpticalPointSize=s.readUshort(i,o),o+=2,a.usUpperOpticalPointSize=s.readUshort(i,o),o+=2},e.post={},e.post.parse=function(i,o,a){var s=e._bin,l={};return l.version=s.readFixed(i,o),o+=4,l.italicAngle=s.readFixed(i,o),o+=4,l.underlinePosition=s.readShort(i,o),o+=2,l.underlineThickness=s.readShort(i,o),o+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,o){var a=i.cmap,s=-1;if(a.p0e4!=null?s=a.p0e4:a.p3e1!=null?s=a.p3e1:a.p1e0!=null?s=a.p1e0:a.p0e3!=null&&(s=a.p0e3),s==-1)throw"no familiar platform and encoding!";var l=a.tables[s];if(l.format==0)return o>=l.map.length?0:l.map[o];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(o<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>o?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[o-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:o+l.idDelta[c])}if(l.format==12){if(o>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=o&&o<=f[1])return f[2]+(o-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,o){var a={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[o]){var s=i.SVG.entries[o];return s==null?a:(typeof s=="string"&&(s=e.SVG.toPath(s),i.SVG.entries[o]=s),s)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=o;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[o],l,c,u,a)}else i.glyf&&e.U._drawGlyf(o,i,a);return a},e.U._drawGlyf=function(i,o,a){var s=o.glyf[i];s==null&&(s=o.glyf[i]=e.glyf._parseGlyf(o,i)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,a):e.U._compoGlyph(s,o,a))},e.U._simpleGlyph=function(i,o){for(var a=0;a<i.noc;a++){for(var s=a==0?0:i.endPts[a-1]+1,l=i.endPts[a],c=s;c<=l;c++){var u=c==s?l:c-1,f=c==l?s:c+1,d=1&i.flags[c],h=1&i.flags[u],y=1&i.flags[f],x=i.xs[c],v=i.ys[c];if(c==s)if(d){if(!h){e.U.P.moveTo(o,x,v);continue}e.U.P.moveTo(o,i.xs[u],i.ys[u])}else h?e.U.P.moveTo(o,i.xs[u],i.ys[u]):e.U.P.moveTo(o,(i.xs[u]+x)/2,(i.ys[u]+v)/2);d?h&&e.U.P.lineTo(o,x,v):y?e.U.P.qcurveTo(o,x,v,i.xs[f],i.ys[f]):e.U.P.qcurveTo(o,x,v,(x+i.xs[f])/2,(v+i.ys[f])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(i,o,a){for(var s=0;s<i.parts.length;s++){var l={cmds:[],crds:[]},c=i.parts[s];e.U._drawGlyf(c.glyphIndex,o,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],h=l.crds[f+1];a.crds.push(d*u.a+h*u.b+u.tx),a.crds.push(d*u.c+h*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)a.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,o){var a=e._lctf.getInterval(o,i);return a==-1?0:o[a+2]},e.U._applySubs=function(i,o,a,s){for(var l=i.length-o-1,c=0;c<a.tabs.length;c++)if(a.tabs[c]!=null){var u,f=a.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[o]))!=-1){if(a.ltype==1)i[o],f.fmt==1?i[o]=i[o]+f.delta:i[o]=f.newg[u];else if(a.ltype==4)for(var d=f.vals[u],h=0;h<d.length;h++){var y=d[h],x=y.chain.length;if(!(x>l)){for(var v=!0,m=0,_=0;_<x;_++){for(;i[o+m+(1+_)]==-1;)m++;y.chain[_]!=i[o+m+(1+_)]&&(v=!1)}if(v){for(i[o]=y.nglyph,_=0;_<x+m;_++)i[o+_+1]=-1;break}}}else if(a.ltype==5&&f.fmt==2)for(var b=e._lctf.getInterval(f.cDef,i[o]),w=f.cDef[b+2],E=f.scset[w],M=0;M<E.length;M++){var A=E[M],P=A.input;if(!(P.length>l)){for(v=!0,_=0;_<P.length;_++){var R=e._lctf.getInterval(f.cDef,i[o+1+_]);if(b==-1&&f.cDef[R+2]!=P[_]){v=!1;break}}if(v){var O=A.substLookupRecords;for(h=0;h<O.length;h+=2)O[h],O[h+1]}}}else if(a.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,o-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,o)||!e.U._glsCovered(i,f.ahedCvg,o+f.inptCvg.length))continue;var N=f.lookupRec;for(M=0;M<N.length;M+=2){b=N[M];var L=s[N[M+1]];e.U._applySubs(i,o+b,L,s)}}}}},e.U._glsCovered=function(i,o,a){for(var s=0;s<o.length;s++)if(e._lctf.coverageIndex(o[s],i[a+s])==-1)return!1;return!0},e.U.glyphsToPath=function(i,o,a){for(var s={cmds:[],crds:[]},l=0,c=0;c<o.length;c++){var u=o[c];if(u!=-1){for(var f=c<o.length-1&&o[c+1]!=-1?o[c+1]:0,d=e.U.glyphToPath(i,u),h=0;h<d.crds.length;h+=2)s.crds.push(d.crds[h]+l),s.crds.push(d.crds[h+1]);for(a&&s.cmds.push(a),h=0;h<d.cmds.length;h++)s.cmds.push(d.cmds[h]);a&&s.cmds.push("X"),l+=i.hmtx.aWidth[u],c<o.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return s},e.U.P={},e.U.P.moveTo=function(i,o,a){i.cmds.push("M"),i.crds.push(o,a)},e.U.P.lineTo=function(i,o,a){i.cmds.push("L"),i.crds.push(o,a)},e.U.P.curveTo=function(i,o,a,s,l,c,u){i.cmds.push("C"),i.crds.push(o,a,s,l,c,u)},e.U.P.qcurveTo=function(i,o,a,s,l){i.cmds.push("Q"),i.crds.push(o,a,s,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,o,a,s,l){for(var c=o.stack,u=o.nStems,f=o.haveWidth,d=o.width,h=o.open,y=0,x=o.x,v=o.y,m=0,_=0,b=0,w=0,E=0,M=0,A=0,P=0,R=0,O=0,N={val:0,size:0};y<i.length;){e.CFF.getCharString(i,y,N);var L=N.val;if(y+=N.size,L=="o1"||L=="o18")c.length%2!=0&&!f&&(d=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(L=="o3"||L=="o23")c.length%2!=0&&!f&&(d=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(L=="o4")c.length>1&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),h&&e.U.P.closePath(l),v+=c.pop(),e.U.P.moveTo(l,x,v),h=!0;else if(L=="o5")for(;c.length>0;)x+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,x,v);else if(L=="o6"||L=="o7")for(var j=c.length,U=L=="o6",H=0;H<j;H++){var z=c.shift();U?x+=z:v+=z,U=!U,e.U.P.lineTo(l,x,v)}else if(L=="o8"||L=="o24"){j=c.length;for(var Q=0;Q+6<=j;)m=x+c.shift(),_=v+c.shift(),b=m+c.shift(),w=_+c.shift(),x=b+c.shift(),v=w+c.shift(),e.U.P.curveTo(l,m,_,b,w,x,v),Q+=6;L=="o24"&&(x+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,x,v))}else{if(L=="o11")break;if(L=="o1234"||L=="o1235"||L=="o1236"||L=="o1237")L=="o1234"&&(_=v,b=(m=x+c.shift())+c.shift(),O=w=_+c.shift(),M=w,P=v,x=(A=(E=(R=b+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,m,_,b,w,R,O),e.U.P.curveTo(l,E,M,A,P,x,v)),L=="o1235"&&(m=x+c.shift(),_=v+c.shift(),b=m+c.shift(),w=_+c.shift(),R=b+c.shift(),O=w+c.shift(),E=R+c.shift(),M=O+c.shift(),A=E+c.shift(),P=M+c.shift(),x=A+c.shift(),v=P+c.shift(),c.shift(),e.U.P.curveTo(l,m,_,b,w,R,O),e.U.P.curveTo(l,E,M,A,P,x,v)),L=="o1236"&&(m=x+c.shift(),_=v+c.shift(),b=m+c.shift(),O=w=_+c.shift(),M=w,A=(E=(R=b+c.shift())+c.shift())+c.shift(),P=M+c.shift(),x=A+c.shift(),e.U.P.curveTo(l,m,_,b,w,R,O),e.U.P.curveTo(l,E,M,A,P,x,v)),L=="o1237"&&(m=x+c.shift(),_=v+c.shift(),b=m+c.shift(),w=_+c.shift(),R=b+c.shift(),O=w+c.shift(),E=R+c.shift(),M=O+c.shift(),A=E+c.shift(),P=M+c.shift(),Math.abs(A-x)>Math.abs(P-v)?x=A+c.shift():v=P+c.shift(),e.U.P.curveTo(l,m,_,b,w,R,O),e.U.P.curveTo(l,E,M,A,P,x,v));else if(L=="o14"){if(c.length>0&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),c.length==4){var k=c.shift(),B=c.shift(),W=c.shift(),$=c.shift(),Y=e.CFF.glyphBySE(a,W),J=e.CFF.glyphBySE(a,$);e.U._drawCFF(a.CharStrings[Y],o,a,s,l),o.x=k,o.y=B,e.U._drawCFF(a.CharStrings[J],o,a,s,l)}h&&(e.U.P.closePath(l),h=!1)}else if(L=="o19"||L=="o20")c.length%2!=0&&!f&&(d=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,y+=u+7>>3;else if(L=="o21")c.length>2&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),v+=c.pop(),x+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,x,v),h=!0;else if(L=="o22")c.length>1&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),x+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,x,v),h=!0;else if(L=="o25"){for(;c.length>6;)x+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,x,v);m=x+c.shift(),_=v+c.shift(),b=m+c.shift(),w=_+c.shift(),x=b+c.shift(),v=w+c.shift(),e.U.P.curveTo(l,m,_,b,w,x,v)}else if(L=="o26")for(c.length%2&&(x+=c.shift());c.length>0;)m=x,_=v+c.shift(),x=b=m+c.shift(),v=(w=_+c.shift())+c.shift(),e.U.P.curveTo(l,m,_,b,w,x,v);else if(L=="o27")for(c.length%2&&(v+=c.shift());c.length>0;)_=v,b=(m=x+c.shift())+c.shift(),w=_+c.shift(),x=b+c.shift(),v=w,e.U.P.curveTo(l,m,_,b,w,x,v);else if(L=="o10"||L=="o29"){var X=L=="o10"?s:a;if(c.length==0)console.debug("error: empty stack");else{var te=c.pop(),ie=X.Subrs[te+X.Bias];o.x=x,o.y=v,o.nStems=u,o.haveWidth=f,o.width=d,o.open=h,e.U._drawCFF(ie,o,a,s,l),x=o.x,v=o.y,u=o.nStems,f=o.haveWidth,d=o.width,h=o.open}}else if(L=="o30"||L=="o31"){var ee=c.length,le=(Q=0,L=="o31");for(Q+=ee-(j=-3&ee);Q<j;)le?(_=v,b=(m=x+c.shift())+c.shift(),v=(w=_+c.shift())+c.shift(),j-Q==5?(x=b+c.shift(),Q++):x=b,le=!1):(m=x,_=v+c.shift(),b=m+c.shift(),w=_+c.shift(),x=b+c.shift(),j-Q==5?(v=w+c.shift(),Q++):v=w,le=!0),e.U.P.curveTo(l,m,_,b,w,x,v),Q+=4}else{if((L+"").charAt(0)=="o")throw console.debug("Unknown operation: "+L,i),L;c.push(L)}}}o.x=x,o.y=v,o.nStems=u,o.haveWidth=f,o.width=d,o.open=h};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function w4e(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(L,j){for(var U=new n(31),H=0;H<31;++H)U[H]=j+=1<<L[H-1];var z=new r(U[30]);for(H=1;H<30;++H)for(var Q=U[H];Q<U[H+1];++Q)z[Q]=Q-U[H]<<5|H;return[U,z]},l=s(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=s(o,0)[0],d=new n(32768),h=0;h<32768;++h){var y=(43690&h)>>>1|(21845&h)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,d[h]=((65280&y)>>>8|(255&y)<<8)>>>1}var x=function(L,j,U){for(var H=L.length,z=0,Q=new n(j);z<H;++z)++Q[L[z]-1];var k,B=new n(j);for(z=0;z<j;++z)B[z]=B[z-1]+Q[z-1]<<1;{k=new n(1<<j);var W=15-j;for(z=0;z<H;++z)if(L[z])for(var $=z<<4|L[z],Y=j-L[z],J=B[L[z]-1]++<<Y,X=J|(1<<Y)-1;J<=X;++J)k[d[J]>>>W]=$}return k},v=new e(288);for(h=0;h<144;++h)v[h]=8;for(h=144;h<256;++h)v[h]=9;for(h=256;h<280;++h)v[h]=7;for(h=280;h<288;++h)v[h]=8;var m=new e(32);for(h=0;h<32;++h)m[h]=5;var _=x(v,9),b=x(m,5),w=function(L){for(var j=L[0],U=1;U<L.length;++U)L[U]>j&&(j=L[U]);return j},E=function(L,j,U){var H=j/8|0;return(L[H]|L[H+1]<<8)>>(7&j)&U},M=function(L,j){var U=j/8|0;return(L[U]|L[U+1]<<8|L[U+2]<<16)>>(7&j)},A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],P=function(L,j,U){var H=new Error(j||A[L]);if(H.code=L,Error.captureStackTrace&&Error.captureStackTrace(H,P),!U)throw H;return H},R=function(L,j,U){var H=L.length;if(!H||U&&!U.l&&H<5)return j||new e(0);var z=!j||U,Q=!U||U.i;U||(U={}),j||(j=new e(3*H));var k,B=function(ke){var ce=j.length;if(ke>ce){var Te=new e(Math.max(2*ce,ke));Te.set(j),j=Te}},W=U.f||0,$=U.p||0,Y=U.b||0,J=U.l,X=U.d,te=U.m,ie=U.n,ee=8*H;do{if(!J){U.f=W=E(L,$,1);var le=E(L,$+1,3);if($+=3,!le){var ue=L[(Ce=((k=$)/8|0)+(7&k&&1)+4)-4]|L[Ce-3]<<8,he=Ce+ue;if(he>H){Q&&P(0);break}z&&B(Y+ue),j.set(L.subarray(Ce,he),Y),U.b=Y+=ue,U.p=$=8*he;continue}if(le==1)J=_,X=b,te=9,ie=5;else if(le==2){var fe=E(L,$,31)+257,K=E(L,$+10,15)+4,de=fe+E(L,$+5,31)+1;$+=14;for(var q=new e(de),Pe=new e(19),be=0;be<K;++be)Pe[a[be]]=E(L,$+3*be,7);$+=3*K;var Re=w(Pe),me=(1<<Re)-1,Fe=x(Pe,Re);for(be=0;be<de;){var Ce,G=Fe[E(L,$,me)];if($+=15&G,(Ce=G>>>4)<16)q[be++]=Ce;else{var V=0,se=0;for(Ce==16?(se=3+E(L,$,3),$+=2,V=q[be-1]):Ce==17?(se=3+E(L,$,7),$+=3):Ce==18&&(se=11+E(L,$,127),$+=7);se--;)q[be++]=V}}var pe=q.subarray(0,fe),_e=q.subarray(fe);te=w(pe),ie=w(_e),J=x(pe,te),X=x(_e,ie)}else P(1);if($>ee){Q&&P(0);break}}z&&B(Y+131072);for(var Me=(1<<te)-1,Be=(1<<ie)-1,De=$;;De=$){var He=(V=J[M(L,$)&Me])>>>4;if(($+=15&V)>ee){Q&&P(0);break}if(V||P(2),He<256)j[Y++]=He;else{if(He==256){De=$,J=null;break}var it=He-254;if(He>264){var Ue=i[be=He-257];it=E(L,$,(1<<Ue)-1)+c[be],$+=Ue}var Xe=X[M(L,$)&Be],qe=Xe>>>4;if(Xe||P(3),$+=15&Xe,_e=f[qe],qe>3&&(Ue=o[qe],_e+=M(L,$)&(1<<Ue)-1,$+=Ue),$>ee){Q&&P(0);break}z&&B(Y+131072);for(var Ye=Y+it;Y<Ye;Y+=4)j[Y]=j[Y-_e],j[Y+1]=j[Y+1-_e],j[Y+2]=j[Y+2-_e],j[Y+3]=j[Y+3-_e];Y=Ye}}U.l=J,U.p=De,U.b=Y,J&&(W=1,U.m=te,U.d=X,U.n=ie)}while(!W);return Y==j.length?j:function(ke,ce,Te){(Te==null||Te>ke.length)&&(Te=ke.length);var Je=new(ke instanceof n?n:ke instanceof r?r:e)(Te-ce);return Je.set(ke.subarray(ce,Te)),Je}(j,0,Y)},O=new e(0),N=typeof TextDecoder<"u"&&new TextDecoder;try{N.decode(O,{stream:!0})}catch{}return t.convert_streams=function(L){var j=new DataView(L),U=0;function H(){var fe=j.getUint16(U);return U+=2,fe}function z(){var fe=j.getUint32(U);return U+=4,fe}function Q(fe){ue.setUint16(he,fe),he+=2}function k(fe){ue.setUint32(he,fe),he+=4}for(var B={signature:z(),flavor:z(),length:z(),numTables:H(),reserved:H(),totalSfntSize:z(),majorVersion:H(),minorVersion:H(),metaOffset:z(),metaLength:z(),metaOrigLength:z(),privOffset:z(),privLength:z()},W=0;Math.pow(2,W)<=B.numTables;)W++;W--;for(var $=16*Math.pow(2,W),Y=16*B.numTables-$,J=12,X=[],te=0;te<B.numTables;te++)X.push({tag:z(),offset:z(),compLength:z(),origLength:z(),origChecksum:z()}),J+=16;var ie,ee=new Uint8Array(12+16*X.length+X.reduce(function(fe,K){return fe+K.origLength+4},0)),le=ee.buffer,ue=new DataView(le),he=0;return k(B.flavor),Q(B.numTables),Q($),Q(W),Q(Y),X.forEach(function(fe){k(fe.tag),k(fe.origChecksum),k(J),k(fe.origLength),fe.outOffset=J,(J+=fe.origLength)%4!=0&&(J+=4-J%4)}),X.forEach(function(fe){var K,de=L.slice(fe.offset,fe.offset+fe.compLength);if(fe.compLength!=fe.origLength){var q=new Uint8Array(fe.origLength);K=new Uint8Array(de,2),R(K,q)}else q=new Uint8Array(de);ee.set(q,fe.outOffset);var Pe=0;(J=fe.outOffset+fe.origLength)%4!=0&&(Pe=4-J%4),ee.set(new Uint8Array(Pe).buffer,fe.outOffset+fe.origLength),ie=J+Pe}),le.slice(0,ie)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function E4e(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,o=2,a=4,s=8,l=16,c=32;let u;function f(A){if(!u){const P={R:o,L:i,D:a,C:l,U:c,T:s};u=new Map;for(let R in r){let O=0;r[R].split(",").forEach(N=>{let[L,j]=N.split("+");L=parseInt(L,36),j=j?parseInt(j,36):0,u.set(O+=L,P[R]);for(let U=j;U--;)u.set(++O,P[R])})}}return u.get(A)||c}const d=1,h=2,y=3,x=4,v=[null,"isol","init","fina","medi"];function m(A){const P=new Uint8Array(A.length);let R=c,O=d,N=-1;for(let L=0;L<A.length;L++){const j=A.codePointAt(L);let U=f(j)|0,H=d;U&s||(R&(i|a|l)?U&(o|a|l)?(H=y,(O===d||O===y)&&P[N]++):U&(i|c)&&(O===h||O===x)&&P[N]--:R&(o|c)&&(O===h||O===x)&&P[N]--,O=P[L]=H,R=U,N=L,j>65535&&L++)}return P}function _(A,P){const R=[];for(let N=0;N<P.length;N++){const L=P.codePointAt(N);L>65535&&N++,R.push(t.U.codeToGlyph(A,L))}const O=A.GSUB;if(O){const{lookupList:N,featureList:L}=O;let j;const U=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,H=[];L.forEach(z=>{if(U.test(z.tag))for(let Q=0;Q<z.tab.length;Q++){if(H[z.tab[Q]])continue;H[z.tab[Q]]=!0;const k=N[z.tab[Q]],B=/^(isol|init|fina|medi)$/.test(z.tag);B&&!j&&(j=m(P));for(let W=0;W<R.length;W++)(!j||!B||v[j[W]]===z.tag)&&t.U._applySubs(R,W,k,N)}})}return R}function b(A,P){const R=new Int16Array(P.length*3);let O=0;for(;O<P.length;O++){const U=P[O];if(U===-1)continue;R[O*3+2]=A.hmtx.aWidth[U];const H=A.GPOS;if(H){const z=H.lookupList;for(let Q=0;Q<z.length;Q++){const k=z[Q];for(let B=0;B<k.tabs.length;B++){const W=k.tabs[B];if(k.ltype===1){if(t._lctf.coverageIndex(W.coverage,U)!==-1&&W.pos){j(W.pos,O);break}}else if(k.ltype===2){let $=null,Y=N();if(Y!==-1){const J=t._lctf.coverageIndex(W.coverage,P[Y]);if(J!==-1){if(W.fmt===1){const X=W.pairsets[J];for(let te=0;te<X.length;te++)X[te].gid2===U&&($=X[te])}else if(W.fmt===2){const X=t.U._getGlyphClass(P[Y],W.classDef1),te=t.U._getGlyphClass(U,W.classDef2);$=W.matrix[X][te]}if($){$.val1&&j($.val1,Y),$.val2&&j($.val2,O);break}}}}else if(k.ltype===4){const $=t._lctf.coverageIndex(W.markCoverage,U);if($!==-1){const Y=N(L),J=Y===-1?-1:t._lctf.coverageIndex(W.baseCoverage,P[Y]);if(J!==-1){const X=W.markArray[$],te=W.baseArray[J][X.markClass];R[O*3]=te.x-X.x+R[Y*3]-R[Y*3+2],R[O*3+1]=te.y-X.y+R[Y*3+1];break}}}else if(k.ltype===6){const $=t._lctf.coverageIndex(W.mark1Coverage,U);if($!==-1){const Y=N();if(Y!==-1){const J=P[Y];if(w(A,J)===3){const X=t._lctf.coverageIndex(W.mark2Coverage,J);if(X!==-1){const te=W.mark1Array[$],ie=W.mark2Array[X][te.markClass];R[O*3]=ie.x-te.x+R[Y*3]-R[Y*3+2],R[O*3+1]=ie.y-te.y+R[Y*3+1];break}}}}}}}}else if(A.kern&&!A.cff){const z=N();if(z!==-1){const Q=A.kern.glyph1.indexOf(P[z]);if(Q!==-1){const k=A.kern.rval[Q].glyph2.indexOf(U);k!==-1&&(R[z*3+2]+=A.kern.rval[Q].vals[k])}}}}return R;function N(U){for(let H=O-1;H>=0;H--)if(P[H]!==-1&&(!U||U(P[H])))return H;return-1}function L(U){return w(A,U)===1}function j(U,H){for(let z=0;z<3;z++)R[H*3+z]+=U[z]||0}}function w(A,P){const R=A.GDEF&&A.GDEF.glyphClassDef;return R?t.U._getGlyphClass(P,R):0}function E(...A){for(let P=0;P<A.length;P++)if(typeof A[P]=="number")return A[P]}function M(A){const P=Object.create(null),R=A["OS/2"],O=A.hhea,N=A.head.unitsPerEm,L=E(R&&R.sTypoAscender,O&&O.ascender,N),j={unitsPerEm:N,ascender:L,descender:E(R&&R.sTypoDescender,O&&O.descender,0),capHeight:E(R&&R.sCapHeight,L),xHeight:E(R&&R.sxHeight,L),lineGap:E(R&&R.sTypoLineGap,O&&O.lineGap),supportsCodePoint(U){return t.U.codeToGlyph(A,U)>0},forEachGlyph(U,H,z,Q){let k=0;const B=1/j.unitsPerEm*H,W=_(A,U);let $=0;const Y=b(A,W);return W.forEach((J,X)=>{if(J!==-1){let te=P[J];if(!te){const{cmds:ie,crds:ee}=t.U.glyphToPath(A,J);let le="",ue=0;for(let q=0,Pe=ie.length;q<Pe;q++){const be=n[ie[q]];le+=ie[q];for(let Re=1;Re<=be;Re++)le+=(Re>1?",":"")+ee[ue++]}let he,fe,K,de;if(ee.length){he=fe=1/0,K=de=-1/0;for(let q=0,Pe=ee.length;q<Pe;q+=2){let be=ee[q],Re=ee[q+1];be<he&&(he=be),Re<fe&&(fe=Re),be>K&&(K=be),Re>de&&(de=Re)}}else he=K=fe=de=0;te=P[J]={index:J,advanceWidth:A.hmtx.aWidth[J],xMin:he,yMin:fe,xMax:K,yMax:de,path:le}}Q.call(null,te,k+Y[X*3]*B,Y[X*3+1]*B,$),k+=Y[X*3+2]*B,z&&(k+=z*H)}$+=U.codePointAt($)>65535?2:1}),k}};return j}return function(P){const R=new Uint8Array(P,0,4),O=t._bin.readASCII(R,0,4);if(O==="wOFF")P=e(P);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return M(t.parse(P)[0])}}const M4e=eg({name:"Typr Font Parser",dependencies:[S4e,w4e,E4e],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function T4e(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(b){var w=b>>5;this.buckets.set(w,(this.buckets.get(w)||0)|1<<(31&b))},e.prototype.has=function(b){var w=this.buckets.get(b>>5);return w!==void 0&&(w&1<<(31&b))!=0},e.prototype.serialize=function(){var b=[];return this.buckets.forEach(function(w,E){b.push((+E).toString(36)+":"+w.toString(36))}),b.join(",")},e.prototype.deserialize=function(b){var w=this;this.buckets.clear(),b.split(",").forEach(function(E){var M=E.split(":");w.buckets.set(parseInt(M[0],36),parseInt(M[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function o(b){var w=function(M){return M&i}(b).toString(16),E=function(M){return(M&i)+n-1}(b).toString(16);return"codepoint-index/plane"+(b>>16)+"/"+w+"-"+E+".json"}function a(b,w){var E=b&r,M=w.codePointAt(E/6|0);return((M=(M||48)-48)&1<<E%6)!=0}function s(b,w){var E;(E=b,E.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(M){return M.split("-").map(function(A){return parseInt(A.trim(),16)})})).forEach(function(M){var A=M[0],P=M[1];P===void 0&&(P=A),w(A,P)})}function l(b,w){s(b,function(E,M){for(var A=E;A<=M;A++)w(A)})}var c={},u={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(b){var w=f.get(b);return w||(w=new e,l(b.ranges,function(E){return w.add(E)}),f.set(b,w)),w}var y,x=new Map;function v(b,w,E){return b[w]?w:b[E]?E:function(M){for(var A in M)return A}(b)}function m(b,w){var E=w;if(!b.includes(E)){E=1/0;for(var M=0;M<b.length;M++)Math.abs(b[M]-w)<Math.abs(E-w)&&(E=b[M])}return E}function _(b){return y||(y=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(w){y.add(w)})),y.has(b)}return t.CodePointSet=e,t.clearCache=function(){c={},u={}},t.getFontsForString=function(b,w){w===void 0&&(w={});var E,M=w.lang;M===void 0&&(M=new RegExp("\\p{Script=Hangul}","u").test(E=b)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(E)?"ja":"en");var A=w.category;A===void 0&&(A="sans-serif");var P=w.style;P===void 0&&(P="normal");var R=w.weight;R===void 0&&(R=400);var O=(w.dataUrl||d).replace(/\/$/g,""),N=new Map,L=new Uint8Array(b.length),j={},U={},H=new Array(b.length),z=new Map,Q=!1;function k($){var Y=x.get($);return Y||(Y=fetch(O+"/"+$).then(function(J){if(!J.ok)throw new Error(J.statusText);return J.json().then(function(X){if(!Array.isArray(X)||X[0]!==1)throw new Error("Incorrect schema version; need 1, got "+X[0]);return X[1]})}).catch(function(J){if(O!==d)return Q||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+O+'", trying default CDN. '+J.message),Q=!0),O=d,x.delete($),k($);throw J}),x.set($,Y)),Y}for(var B=function($){var Y=b.codePointAt($),J=o(Y);H[$]=J,c[J]||z.has(J)||z.set(J,k(J).then(function(X){c[J]=X})),Y>65535&&($++,W=$)},W=0;W<b.length;W++)B(W);return Promise.all(z.values()).then(function(){z.clear();for(var $=function(J){var X=b.codePointAt(J),te=null,ie=c[H[J]],ee=void 0;for(var le in ie){var ue=U[le];if(ue===void 0&&(ue=U[le]=new RegExp(le).test(M||"en")),ue){for(var he in ee=le,ie[le])if(a(X,ie[le][he])){te=he;break}break}}if(!te){e:for(var fe in ie)if(fe!==ee){for(var K in ie[fe])if(a(X,ie[fe][K])){te=K;break e}}}te||(console.debug("No font coverage for U+"+X.toString(16)),te="latin"),H[J]=te,u[te]||z.has(te)||z.set(te,k("font-meta/"+te+".json").then(function(de){u[te]=de})),X>65535&&(J++,Y=J)},Y=0;Y<b.length;Y++)$(Y);return Promise.all(z.values())}).then(function(){for(var $,Y=null,J=0;J<b.length;J++){var X=b.codePointAt(J);if(Y&&(_(X)||h(Y).has(X)))L[J]=L[J-1];else{Y=u[H[J]];var te=j[Y.id];if(!te){var ie=Y.typeforms,ee=v(ie,A,"sans-serif"),le=v(ie[ee],P,"normal"),ue=m(($=ie[ee])===null||$===void 0?void 0:$[le],R);te=j[Y.id]=O+"/font-files/"+Y.id+"/"+ee+"."+le+"."+ue+".woff"}var he=N.get(te);he==null&&(he=N.size,N.set(te,he)),L[J]=he}X>65535&&(J++,L[J]=L[J-1])}return{fontUrls:Array.from(N.keys()),chars:L}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function A4e(t,e){const n=Object.create(null),r=Object.create(null);function i(a,s){const l=c=>{console.error(`Failure loading font ${a}`,c)};try{const c=new XMLHttpRequest;c.open("get",a,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=t(c.response);u.src=a,s(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function o(a,s){let l=n[a];l?s(l):r[a]?r[a].push(s):(r[a]=[s],i(a,c=>{c.src=a,n[a]=c,r[a].forEach(u=>u(c)),delete r[a]}))}return function(a,s,{lang:l,fonts:c=[],style:u="normal",weight:f="normal",unicodeFontsURL:d}={}){const h=new Uint8Array(a.length),y=[];a.length||_();const x=new Map,v=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(w=>!w.lang||w.lang.test(l)).reverse(),c.length){let A=0;(function P(R=0){for(let O=R,N=a.length;O<N;O++){const L=a.codePointAt(O);if(A===1&&y[h[O-1]].supportsCodePoint(L)||O>0&&/\s/.test(a[O]))h[O]=h[O-1],A===2&&(v[v.length-1][1]=O);else for(let j=h[O],U=c.length;j<=U;j++)if(j===U){const H=A===2?v[v.length-1]:v[v.length]=[O,O];H[1]=O,A=2}else{h[O]=j;const{src:H,unicodeRange:z}=c[j];if(!z||b(L,z)){const Q=n[H];if(!Q){o(H,()=>{P(O)});return}if(Q.supportsCodePoint(L)){let k=x.get(Q);typeof k!="number"&&(k=y.length,y.push(Q),x.set(Q,k)),h[O]=k,A=1;break}}}L>65535&&O+1<N&&(h[O+1]=h[O],O++,A===2&&(v[v.length-1][1]=O))}m()})()}else v.push([0,a.length-1]),m();function m(){if(v.length){const w=v.map(E=>a.substring(E[0],E[1]+1)).join(`
`);e.getFontsForString(w,{lang:l||void 0,style:u,weight:f,dataUrl:d}).then(({fontUrls:E,chars:M})=>{const A=y.length;let P=0;v.forEach(O=>{for(let N=0,L=O[1]-O[0];N<=L;N++)h[O[0]+N]=M[P++]+A;P++});let R=0;E.forEach((O,N)=>{o(O,L=>{y[N+A]=L,++R===E.length&&_()})})})}else _()}function _(){s({chars:h,fonts:y})}function b(w,E){for(let M=0;M<E.length;M++){const[A,P=A]=E[M];if(A<=w&&w<=P)return!0}return!1}}}const P4e=eg({name:"FontResolver",dependencies:[A4e,M4e,T4e],init(t,e,n){return t(e,n())}});function C4e(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",o=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:y,lang:x,fonts:v,style:m,weight:_,preResolvedFonts:b,unicodeFontsURL:w},E){const M=({chars:A,fonts:P})=>{let R,O;const N=[];for(let L=0;L<A.length;L++)A[L]!==O?(O=A[L],N.push(R={start:L,end:L,fontObj:P[A[L]]})):R.end=L;E(N)};b?M(b):t(y,M,{lang:x,fonts:v,style:m,weight:_,unicodeFontsURL:w})}function s({text:y="",font:x,lang:v,sdfGlyphSize:m=64,fontSize:_=400,fontWeight:b=1,fontStyle:w="normal",letterSpacing:E=0,lineHeight:M="normal",maxWidth:A=1/0,direction:P,textAlign:R="left",textIndent:O=0,whiteSpace:N="normal",overflowWrap:L="normal",anchorX:j=0,anchorY:U=0,metricsOnly:H=!1,unicodeFontsURL:z,preResolvedFonts:Q=null,includeCaretPositions:k=!1,chunkedBoundsSize:B=8192,colorRanges:W=null},$){const Y=f(),J={fontLoad:0,typesetting:0};y.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),y=y.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,E=+E,A=+A,M=M||"normal",O=+O,a({text:y,lang:v,style:w,weight:b,fonts:typeof x=="string"?[{src:x}]:x,unicodeFontsURL:z,preResolvedFonts:Q},X=>{J.fontLoad=f()-Y;const te=isFinite(A);let ie=null,ee=null,le=null,ue=null,he=null,fe=null,K=null,de=null,q=0,Pe=0,be=N!=="nowrap";const Re=new Map,me=f();let Fe=O,Ce=0,G=new d;const V=[G];X.forEach(Be=>{const{fontObj:De}=Be,{ascender:He,descender:it,unitsPerEm:Ue,lineGap:Xe,capHeight:qe,xHeight:Ye}=De;let ke=Re.get(De);if(!ke){const Oe=_/Ue,Se=M==="normal"?(He-it+Xe)*Oe:M*_,je=(Se-(He-it)*Oe)/2,We=Math.min(Se,(He-it)*Oe),Ge=(He+it)/2*Oe+We/2;ke={index:Re.size,src:De.src,fontObj:De,fontSizeMult:Oe,unitsPerEm:Ue,ascender:He*Oe,descender:it*Oe,capHeight:qe*Oe,xHeight:Ye*Oe,lineHeight:Se,baseline:-je-He*Oe,caretTop:Ge,caretBottom:Ge-We},Re.set(De,ke)}const{fontSizeMult:ce}=ke,Te=y.slice(Be.start,Be.end+1);let Je,ae;De.forEachGlyph(Te,_,E,(Oe,Se,je,We)=>{Se+=Ce,We+=Be.start,Je=Se,ae=Oe;const Ge=y.charAt(We),rt=Oe.advanceWidth*ce,vt=G.count;let ct;if("isEmpty"in Oe||(Oe.isWhitespace=!!Ge&&new RegExp(i).test(Ge),Oe.canBreakAfter=!!Ge&&o.test(Ge),Oe.isEmpty=Oe.xMin===Oe.xMax||Oe.yMin===Oe.yMax||r.test(Ge)),!Oe.isWhitespace&&!Oe.isEmpty&&Pe++,be&&te&&!Oe.isWhitespace&&Se+rt+Fe>A&&vt){if(G.glyphAt(vt-1).glyphObj.canBreakAfter)ct=new d,Fe=-Se;else for(let an=vt;an--;)if(an===0&&L==="break-word"){ct=new d,Fe=-Se;break}else if(G.glyphAt(an).glyphObj.canBreakAfter){ct=G.splitAt(an+1);const cn=ct.glyphAt(0).x;Fe-=cn;for(let Wn=ct.count;Wn--;)ct.glyphAt(Wn).x-=cn;break}ct&&(G.isSoftWrapped=!0,G=ct,V.push(G),q=A)}let mt=G.glyphAt(G.count);mt.glyphObj=Oe,mt.x=Se+Fe,mt.y=je,mt.width=rt,mt.charIndex=We,mt.fontData=ke,Ge===`
`&&(G=new d,V.push(G),Fe=-(Se+rt+E*_)+O)}),Ce=Je+ae.advanceWidth*ce+E*_});let se=0;V.forEach(Be=>{let De=!0;for(let He=Be.count;He--;){const it=Be.glyphAt(He);De&&!it.glyphObj.isWhitespace&&(Be.width=it.x+it.width,Be.width>q&&(q=Be.width),De=!1);let{lineHeight:Ue,capHeight:Xe,xHeight:qe,baseline:Ye}=it.fontData;Ue>Be.lineHeight&&(Be.lineHeight=Ue);const ke=Ye-Be.baseline;ke<0&&(Be.baseline+=ke,Be.cap+=ke,Be.ex+=ke),Be.cap=Math.max(Be.cap,Be.baseline+Xe),Be.ex=Math.max(Be.ex,Be.baseline+qe)}Be.baseline-=se,Be.cap-=se,Be.ex-=se,se+=Be.lineHeight});let pe=0,_e=0;if(j&&(typeof j=="number"?pe=-j:typeof j=="string"&&(pe=-q*(j==="left"?0:j==="center"?.5:j==="right"?1:c(j)))),U&&(typeof U=="number"?_e=-U:typeof U=="string"&&(_e=U==="top"?0:U==="top-baseline"?-V[0].baseline:U==="top-cap"?-V[0].cap:U==="top-ex"?-V[0].ex:U==="middle"?se/2:U==="bottom"?se:U==="bottom-baseline"?-V[V.length-1].baseline:c(U)*se)),!H){const Be=e.getEmbeddingLevels(y,P);ie=new Uint16Array(Pe),ee=new Uint8Array(Pe),le=new Float32Array(Pe*2),ue={},K=[1/0,1/0,-1/0,-1/0],de=[],k&&(fe=new Float32Array(y.length*4)),W&&(he=new Uint8Array(Pe*3));let De=0,He=-1,it=-1,Ue,Xe;if(V.forEach((qe,Ye)=>{let{count:ke,width:ce}=qe;if(ke>0){let Te=0;for(let We=ke;We--&&qe.glyphAt(We).glyphObj.isWhitespace;)Te++;let Je=0,ae=0;if(R==="center")Je=(q-ce)/2;else if(R==="right")Je=q-ce;else if(R==="justify"&&qe.isSoftWrapped){let We=0;for(let Ge=ke-Te;Ge--;)qe.glyphAt(Ge).glyphObj.isWhitespace&&We++;ae=(q-ce)/We}if(ae||Je){let We=0;for(let Ge=0;Ge<ke;Ge++){let rt=qe.glyphAt(Ge);const vt=rt.glyphObj;rt.x+=Je+We,ae!==0&&vt.isWhitespace&&Ge<ke-Te&&(We+=ae,rt.width+=ae)}}const Oe=e.getReorderSegments(y,Be,qe.glyphAt(0).charIndex,qe.glyphAt(qe.count-1).charIndex);for(let We=0;We<Oe.length;We++){const[Ge,rt]=Oe[We];let vt=1/0,ct=-1/0;for(let mt=0;mt<ke;mt++)if(qe.glyphAt(mt).charIndex>=Ge){let an=mt,cn=mt;for(;cn<ke;cn++){let Wn=qe.glyphAt(cn);if(Wn.charIndex>rt)break;cn<ke-Te&&(vt=Math.min(vt,Wn.x),ct=Math.max(ct,Wn.x+Wn.width))}for(let Wn=an;Wn<cn;Wn++){const bi=qe.glyphAt(Wn);bi.x=ct-(bi.x+bi.width-vt)}break}}let Se;const je=We=>Se=We;for(let We=0;We<ke;We++){const Ge=qe.glyphAt(We);Se=Ge.glyphObj;const rt=Se.index,vt=Be.levels[Ge.charIndex]&1;if(vt){const ct=e.getMirroredCharacter(y[Ge.charIndex]);ct&&Ge.fontData.fontObj.forEachGlyph(ct,0,0,je)}if(k){const{charIndex:ct,fontData:mt}=Ge,an=Ge.x+pe,cn=Ge.x+Ge.width+pe;fe[ct*4]=vt?cn:an,fe[ct*4+1]=vt?an:cn,fe[ct*4+2]=qe.baseline+mt.caretBottom+_e,fe[ct*4+3]=qe.baseline+mt.caretTop+_e;const Wn=ct-He;Wn>1&&u(fe,He,Wn),He=ct}if(W){const{charIndex:ct}=Ge;for(;ct>it;)it++,W.hasOwnProperty(it)&&(Xe=W[it])}if(!Se.isWhitespace&&!Se.isEmpty){const ct=De++,{fontSizeMult:mt,src:an,index:cn}=Ge.fontData,Wn=ue[an]||(ue[an]={});Wn[rt]||(Wn[rt]={path:Se.path,pathBounds:[Se.xMin,Se.yMin,Se.xMax,Se.yMax]});const bi=Ge.x+pe,Nr=Ge.y+qe.baseline+_e;le[ct*2]=bi,le[ct*2+1]=Nr;const si=bi+Se.xMin*mt,Po=Nr+Se.yMin*mt,_i=bi+Se.xMax*mt,Si=Nr+Se.yMax*mt;si<K[0]&&(K[0]=si),Po<K[1]&&(K[1]=Po),_i>K[2]&&(K[2]=_i),Si>K[3]&&(K[3]=Si),ct%B===0&&(Ue={start:ct,end:ct,rect:[1/0,1/0,-1/0,-1/0]},de.push(Ue)),Ue.end++;const Mr=Ue.rect;if(si<Mr[0]&&(Mr[0]=si),Po<Mr[1]&&(Mr[1]=Po),_i>Mr[2]&&(Mr[2]=_i),Si>Mr[3]&&(Mr[3]=Si),ie[ct]=rt,ee[ct]=cn,W){const co=ct*3;he[co]=Xe>>16&255,he[co+1]=Xe>>8&255,he[co+2]=Xe&255}}}}}),fe){const qe=y.length-He;qe>1&&u(fe,He,qe)}}const Me=[];Re.forEach(({index:Be,src:De,unitsPerEm:He,ascender:it,descender:Ue,lineHeight:Xe,capHeight:qe,xHeight:Ye})=>{Me[Be]={src:De,unitsPerEm:He,ascender:it,descender:Ue,lineHeight:Xe,capHeight:qe,xHeight:Ye}}),J.typesetting=f()-me,$({glyphIds:ie,glyphFontIndices:ee,glyphPositions:le,glyphData:ue,fontData:Me,caretPositions:fe,glyphColors:he,chunkedBounds:de,fontSize:_,topBaseline:_e+V[0].baseline,blockBounds:[pe,_e-se,pe+q,_e],visibleBounds:K,timings:J})})}function l(y,x){s({...y,metricsOnly:!0},v=>{const[m,_,b,w]=v.blockBounds;x({width:b-m,height:w-_})})}function c(y){let x=y.match(/^([\d.]+)%$/),v=x?parseFloat(x[1]):NaN;return isNaN(v)?0:v/100}function u(y,x,v){const m=y[x*4],_=y[x*4+1],b=y[x*4+2],w=y[x*4+3],E=(_-m)/v;for(let M=0;M<v;M++){const A=(x+M)*4;y[A]=m+E*M,y[A+1]=m+E*(M+1),y[A+2]=b,y[A+3]=w}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(y){let x=d.flyweight;return x.data=this.data,x.index=y,x},splitAt(y){let x=new d;return x.data=this.data.splice(y*h.length),x}},d.flyweight=h.reduce((y,x,v,m)=>(Object.defineProperty(y,x,{get(){return this.data[this.index*h.length+v]},set(_){this.data[this.index*h.length+v]=_}}),y),{data:null,index:0}),{typeset:s,measure:l}}const ud=()=>(self.performance||Date).now(),jM=kK();let d$;function O4e(t,e,n,r,i,o,a,s,l,c,u=!0){return u?I4e(t,e,n,r,i,o,a,s,l,c).then(null,f=>(d$||(console.warn("WebGL SDF generation failed, falling back to JS",f),d$=!0),p$(t,e,n,r,i,o,a,s,l,c))):p$(t,e,n,r,i,o,a,s,l,c)}const r_=[],R4e=5;let mR=0;function FK(){const t=ud();for(;r_.length&&ud()-t<R4e;)r_.shift()();mR=r_.length?setTimeout(FK,0):0}const I4e=(...t)=>new Promise((e,n)=>{r_.push(()=>{const r=ud();try{jM.webgl.generateIntoCanvas(...t),e({timing:ud()-r})}catch(i){n(i)}}),mR||(mR=setTimeout(FK,0))}),N4e=4,D4e=2e3,h$={};let L4e=0;function p$(t,e,n,r,i,o,a,s,l,c){const u="TroikaTextSDFGenerator_JS_"+L4e++%N4e;let f=h$[u];return f||(f=h$[u]={workerModule:eg({name:u,workerId:u,dependencies:[kK,ud],init(d,h){const y=d().javascript.generate;return function(...x){const v=h();return{textureData:y(...x),timing:h()-v}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,o).then(({textureData:d,timing:h})=>{const y=ud(),x=new Uint8Array(d.length*4);for(let v=0;v<d.length;v++)x[v*4+c]=d[v];return jM.webglUtils.renderImageData(a,x,s,l,t,e,1<<3-c),h+=ud()-y,--f.requests===0&&(f.idleTimer=setTimeout(()=>{d4e(u)},D4e)),{timing:h}})}function k4e(t){t._warm||(jM.webgl.isSupported(t),t._warm=!0)}const U4e=jM.webglUtils.resizeWebGLCanvasWithoutClearing,Gh={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},F4e=new at;function Bh(){return(self.performance||Date).now()}const m$=Object.create(null);function jK(t,e){t=B4e({},t);const n=Bh(),{defaultFontURL:r}=Gh,i=[];if(r&&i.push({label:"default",src:g$(r)}),t.font&&i.push({label:"user",src:g$(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Gh.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Gh.unicodeFontsURL,t.colorRanges!=null){let h={};for(let y in t.colorRanges)if(t.colorRanges.hasOwnProperty(y)){let x=t.colorRanges[y];typeof x!="number"&&(x=F4e.set(x).getHex()),h[y]=x}t.colorRanges=h}Object.freeze(t);const{textureWidth:o,sdfExponent:a}=Gh,{sdfGlyphSize:s}=t,l=o/s*4;let c=m$[s];if(!c){const h=document.createElement("canvas");h.width=o,h.height=s*256/l,c=m$[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:h,sdfTexture:new ir(h,void 0,void 0,void 0,wr,wr),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,j4e(c)}const{sdfTexture:u,sdfCanvas:f}=c;$K(t).then(h=>{const{glyphIds:y,glyphFontIndices:x,fontData:v,glyphPositions:m,fontSize:_,timings:b}=h,w=[],E=new Float32Array(y.length*4);let M=0,A=0;const P=Bh(),R=v.map(U=>{let H=c.glyphsByFont.get(U.src);return H||c.glyphsByFont.set(U.src,H=new Map),H});y.forEach((U,H)=>{const z=x[H],{src:Q,unitsPerEm:k}=v[z];let B=R[z].get(U);if(!B){const{path:X,pathBounds:te}=h.glyphData[Q][U],ie=Math.max(te[2]-te[0],te[3]-te[1])/s*(Gh.sdfMargin*s+.5),ee=c.glyphCount++,le=[te[0]-ie,te[1]-ie,te[2]+ie,te[3]+ie];R[z].set(U,B={path:X,atlasIndex:ee,sdfViewBox:le}),w.push(B)}const{sdfViewBox:W}=B,$=m[A++],Y=m[A++],J=_/k;E[M++]=$+W[0]*J,E[M++]=Y+W[1]*J,E[M++]=$+W[2]*J,E[M++]=Y+W[3]*J,y[H]=B.atlasIndex}),b.quads=(b.quads||0)+(Bh()-P);const O=Bh();b.sdf={};const N=f.height,L=Math.ceil(c.glyphCount/l),j=Math.pow(2,Math.ceil(Math.log2(L*s)));j>N&&(console.info(`Increasing SDF texture size ${N}->${j}`),U4e(f,o,j),u.dispose()),Promise.all(w.map(U=>zK(U,c,t.gpuAccelerateSDF).then(({timing:H})=>{b.sdf[U.atlasIndex]=H}))).then(()=>{w.length&&!c.contextLost&&(BK(c),u.needsUpdate=!0),b.sdfTotal=Bh()-O,b.total=Bh()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:s,sdfExponent:a,glyphBounds:E,glyphAtlasIndices:y,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{c.contextLost||k4e(f)})}function zK({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:o},a){if(o)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=Gh,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),f=u%(s/r)*r,d=Math.floor(u/(s/r))*r,h=e%4;return O4e(r,r,t,n,c,l,i,f,d,h,a)}function j4e(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(o=>{r.push(zK(o,t,!0))})}),Promise.all(r).then(()=>{BK(t),t.sdfTexture.needsUpdate=!0})})}function z4e({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;jK({font:t,sdfGlyphSize:n,text:i},r)}function B4e(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let Rb;function g$(t){return Rb||(Rb=typeof document>"u"?{}:document.createElement("a")),Rb.href=t,Rb.href}function BK(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,o=t.sdfCanvas.getContext("webgl");let a=n.image.data;(!a||a.length!==r*i*4)&&(a=new Uint8Array(r*i*4),n.image={width:r,height:i,data:a},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,a)}}const $4e=eg({name:"Typesetter",dependencies:[C4e,P4e,p4e],init(t,e,n){return t(e,n())}}),$K=eg({name:"Typesetter",dependencies:[$4e],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});$K.onMainThread;const v$={};function V4e(t){let e=v$[t];return e||(e=v$[t]=new vc(1,1,t,t).translate(.5,.5,0)),e}const H4e="aTroikaGlyphBounds",y$="aTroikaGlyphIndex",G4e="aTroikaGlyphColor";class W4e extends FM{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Hr,this.boundingBox=new Ir}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=V4e(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,o){this.updateAttributeData(H4e,e,4),this.updateAttributeData(y$,n,1),this.updateAttributeData(G4e,o,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:o,min:a,max:s,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(n),h=e[0]/d,y=e[2]/d,x=o((h+u)/f)!==o((y+u)/f)?-d:a(l(h)*d,l(y)*d),v=o((h-u)/f)!==o((y-u)/f)?d:s(l(h)*d,l(y)*d),m=o((h+i)/f)!==o((y+i)/f)?d*2:s(d-c(h)*d,d-c(y)*d);r.min.set(x,e[1],n<0?-m:0),r.max.set(v,e[3],n<0?0:m)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(y$).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new Nd(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const X4e=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,q4e=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Y4e=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,K4e=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Q4e(t){const e=pR(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new $e},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new qt(0,0,0,0)},uTroikaClipRect:{value:new qt(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new $e},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new at},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new jt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:X4e,vertexTransform:q4e,fragmentDefs:Y4e,fragmentColorTransform:K4e,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(UK,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const cL=new gc({color:16777215,side:Qa,transparent:!0}),x$=8421504,b$=new Ct,Ib=new ne,nC=new ne,sv=[],Z4e=new ne,rC="+x+y";function _$(t){return Array.isArray(t)?t[0]:t}let VK=()=>{const t=new Qn(new vc(1,1),cL);return VK=()=>t,t},HK=()=>{const t=new Qn(new vc(1,1,32,1),cL);return HK=()=>t,t};const J4e={type:"syncstart"},e5e={type:"synccomplete"},GK=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],t5e=GK.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let WK=class extends Qn{constructor(){const e=new W4e;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=x$,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=rC,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(J4e),jK({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(e5e),e&&e()})))}onBeforeRender(e,n,r,i,o,a){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Q4e(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=cL.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return _$(this.material).getDepthMaterial()}get customDistanceMaterial(){return _$(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:s,blockBounds:l}=i;r.uTroikaSDFTexture.value=s,r.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,f=0,d,h,y,x=0,v=0;if(n){let{outlineWidth:_,outlineOffsetX:b,outlineOffsetY:w,outlineBlur:E,outlineOpacity:M}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(E)||0),d=M,x=this._parsePercent(b)||0,v=this._parsePercent(w)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(y=this.strokeColor,r.uTroikaStrokeColor.value.set(y??x$),h=this.strokeOpacity,h==null&&(h=1)),d=this.fillOpacity;r.uTroikaEdgeOffset.value=c,r.uTroikaPositionOffset.value.set(x,v),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=h,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let m=this.clipRect;if(m&&Array.isArray(m)&&m.length===4)r.uTroikaClipRect.value.fromArray(m);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=n?this.outlineColor||0:this.color;if(o==null)delete e.color;else{const s=e.hasOwnProperty("color")?e.color:e.color=new at;(o!==s._input||typeof o=="object")&&s.set(s._input=o)}let a=this.orientation||rC;if(a!==e._orientation){let s=r.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let l=a!==rC&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;Ib.set(0,0,0)[u]=c==="-"?1:-1,nC.set(0,0,0)[d]=f==="-"?-1:1,b$.lookAt(Z4e,Ib.cross(nC),nC),s.setFromMatrix4(b$)}else s.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new $e){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new $e){return Ib.copy(e),this.localPositionToTextCoords(this.worldToLocal(Ib),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const o=r.blockBounds,a=i?HK():VK(),s=a.geometry,{position:l,uv:c}=s.attributes;for(let u=0;u<c.count;u++){let f=o[0]+c.getX(u)*(o[2]-o[0]);const d=o[1]+c.getY(u)*(o[3]-o[1]);let h=0;i&&(h=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,h)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,sv.length=0,a.raycast(e,sv);for(let u=0;u<sv.length;u++)sv[u].object=this,n.push(sv[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,t5e.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};GK.forEach(t=>{const e="_private_"+t;Object.defineProperty(WK.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Ir;new at;const n5e=I.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:o,characters:a,onSync:s,...l},c)=>{const u=Cs(({invalidate:y})=>y),[f]=I.useState(()=>new WK),[d,h]=I.useMemo(()=>{const y=[];let x="";return I.Children.forEach(o,v=>{typeof v=="string"||typeof v=="number"?x+=v:y.push(v)}),[y,x]},[o]);return sBe(()=>new Promise(y=>z4e({font:r,characters:a},y)),["troika-text",r,a]),I.useLayoutEffect(()=>void f.sync(()=>{u(),s&&s(f)})),I.useEffect(()=>()=>f.dispose(),[f]),I.createElement("primitive",Pd({object:f,ref:c,font:r,text:h,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)}),r5e=I.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...c},u)=>{const f=Cs(M=>M.invalidate),d=Cs(M=>M.camera),h=Cs(M=>M.gl),y=Cs(M=>M.events),x=Cs(M=>M.setEvents),v=Cs(M=>M.set),m=Cs(M=>M.get),_=Cs(M=>M.performance),b=e||d,w=r||y.connected||h.domElement,E=I.useMemo(()=>new r4e(b),[b]);return oL(()=>{E.enabled&&E.update()},-1),I.useEffect(()=>(o&&E.connect(o===!0?w:o),E.connect(w),()=>void E.dispose()),[o,w,n,E,f]),I.useEffect(()=>{const M=R=>{f(),n&&_.regress(),a&&a(R)},A=R=>{s&&s(R)},P=R=>{l&&l(R)};return E.addEventListener("change",M),E.addEventListener("start",A),E.addEventListener("end",P),()=>{E.removeEventListener("start",A),E.removeEventListener("end",P),E.removeEventListener("change",M)}},[a,s,l,E,f,x]),I.useEffect(()=>{if(t){const M=m().controls;return v({controls:E}),()=>v({controls:M})}},[t,E]),I.createElement("primitive",Pd({ref:u,object:E,enableDamping:i},c))});function XK(t,e){const n=t+"Geometry";return I.forwardRef(({args:r,children:i,...o},a)=>{const s=I.useRef(null);return I.useImperativeHandle(a,()=>s.current),I.useLayoutEffect(()=>void(e==null?void 0:e(s.current))),I.createElement("mesh",Pd({ref:s},o),I.createElement(n,{attach:"geometry",args:r}),i)})}const i5e=XK("box"),qK=XK("sphere");var YK=["PageUp","PageDown"],KK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],QK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tg="Slider",[gR,o5e,a5e]=Xw(tg),[ZK,_$e]=hs(tg,[a5e]),[s5e,zM]=ZK(tg),JK=I.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:f=()=>{},onValueCommit:d=()=>{},inverted:h=!1,form:y,...x}=t,v=I.useRef(new Set),m=I.useRef(0),b=a==="horizontal"?l5e:c5e,[w=[],E]=xu({prop:u,defaultProp:c,onChange:N=>{var j;(j=[...v.current][m.current])==null||j.focus(),f(N)}}),M=I.useRef(w);function A(N){const L=p5e(w,N);O(N,L)}function P(N){O(N,m.current)}function R(){const N=M.current[m.current];w[m.current]!==N&&d(w)}function O(N,L,{commit:j}={commit:!1}){const U=y5e(o),H=x5e(Math.round((N-r)/o)*o+r,U),z=hy(H,[r,i]);E((Q=[])=>{const k=d5e(Q,z,L);if(v5e(k,l*o)){m.current=k.indexOf(z);const B=String(k)!==String(Q);return B&&j&&d(k),B?k:Q}else return Q})}return S.jsx(s5e,{scope:t.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:m,thumbs:v.current,values:w,orientation:a,form:y,children:S.jsx(gR.Provider,{scope:t.__scopeSlider,children:S.jsx(gR.Slot,{scope:t.__scopeSlider,children:S.jsx(b,{"aria-disabled":s,"data-disabled":s?"":void 0,...x,ref:e,onPointerDown:xt(x.onPointerDown,()=>{s||(M.current=w)}),min:r,max:i,inverted:h,onSlideStart:s?void 0:A,onSlideMove:s?void 0:P,onSlideEnd:s?void 0:R,onHomeKeyDown:()=>!s&&O(r,0,{commit:!0}),onEndKeyDown:()=>!s&&O(i,w.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:L})=>{if(!s){const H=YK.includes(N.key)||N.shiftKey&&KK.includes(N.key)?10:1,z=m.current,Q=w[z],k=o*H*L;O(Q+k,z,{commit:!0})}}})})})})});JK.displayName=tg;var[eQ,tQ]=ZK(tg,{startEdge:"left",endEdge:"right",size:"width",direction:1}),l5e=I.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=t,[f,d]=I.useState(null),h=nn(e,b=>d(b)),y=I.useRef(void 0),x=A0(i),v=x==="ltr",m=v&&!o||!v&&o;function _(b){const w=y.current||f.getBoundingClientRect(),E=[0,w.width],A=uL(E,m?[n,r]:[r,n]);return y.current=w,A(b-w.left)}return S.jsx(eQ,{scope:t.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:S.jsx(nQ,{dir:x,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=_(b.clientX);a==null||a(w)},onSlideMove:b=>{const w=_(b.clientX);s==null||s(w)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:b=>{const E=QK[m?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:E?-1:1})}})})}),c5e=I.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=t,u=I.useRef(null),f=nn(e,u),d=I.useRef(void 0),h=!i;function y(x){const v=d.current||u.current.getBoundingClientRect(),m=[0,v.height],b=uL(m,h?[r,n]:[n,r]);return d.current=v,b(x-v.top)}return S.jsx(eQ,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:S.jsx(nQ,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const v=y(x.clientY);o==null||o(v)},onSlideMove:x=>{const v=y(x.clientY);a==null||a(v)},onSlideEnd:()=>{d.current=void 0,s==null||s()},onStepKeyDown:x=>{const m=QK[h?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:m?-1:1})}})})}),nQ=I.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=t,u=zM(tg,n);return S.jsx(Et.span,{...c,ref:e,onKeyDown:xt(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):YK.concat(KK).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:xt(t.onPointerDown,f=>{const d=f.target;d.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(d)?d.focus():r(f)}),onPointerMove:xt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:xt(t.onPointerUp,f=>{const d=f.target;d.hasPointerCapture(f.pointerId)&&(d.releasePointerCapture(f.pointerId),o(f))})})}),rQ="SliderTrack",iQ=I.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=zM(rQ,n);return S.jsx(Et.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});iQ.displayName=rQ;var vR="SliderRange",oQ=I.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=zM(vR,n),o=tQ(vR,n),a=I.useRef(null),s=nn(e,a),l=i.values.length,c=i.values.map(d=>lQ(d,i.min,i.max)),u=l>1?Math.min(...c):0,f=100-Math.max(...c);return S.jsx(Et.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:f+"%"}})});oQ.displayName=vR;var yR="SliderThumb",aQ=I.forwardRef((t,e)=>{const n=o5e(t.__scopeSlider),[r,i]=I.useState(null),o=nn(e,s=>i(s)),a=I.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return S.jsx(u5e,{...t,ref:o,index:a})}),u5e=I.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,a=zM(yR,n),s=tQ(yR,n),[l,c]=I.useState(null),u=nn(e,_=>c(_)),f=l?a.form||!!l.closest("form"):!0,d=RI(l),h=a.values[r],y=h===void 0?0:lQ(h,a.min,a.max),x=h5e(r,a.values.length),v=d==null?void 0:d[s.size],m=v?m5e(v,y,s.direction):0;return I.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${y}% + ${m}px)`},children:[S.jsx(gR.ItemSlot,{scope:t.__scopeSlider,children:S.jsx(Et.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:u,style:h===void 0?{display:"none"}:t.style,onFocus:xt(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&S.jsx(sQ,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:h},r)]})});aQ.displayName=yR;var f5e="RadioBubbleInput",sQ=I.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=I.useRef(null),o=nn(i,r),a=DI(e);return I.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),S.jsx(Et.input,{style:{display:"none"},...n,ref:o,defaultValue:e})});sQ.displayName=f5e;function d5e(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function lQ(t,e,n){const o=100/(n-e)*(t-e);return hy(o,[0,100])}function h5e(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function p5e(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function m5e(t,e,n){const r=t/2,o=uL([0,50],[0,r]);return(r-o(e)*n)*n}function g5e(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function v5e(t,e){if(e>0){const n=g5e(t);return Math.min(...n)>=e}return!0}function uL(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function y5e(t){return(String(t).split(".")[1]||"").length}function x5e(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var cQ=JK,b5e=iQ,_5e=oQ,S5e=aQ;const xR=I.forwardRef(({className:t,...e},n)=>S.jsxs(cQ,{ref:n,className:kt("relative flex w-full touch-none select-none items-center",t),...e,children:[S.jsx(b5e,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:S.jsx(_5e,{className:"absolute h-full bg-primary"})}),S.jsx(S5e,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));xR.displayName=cQ.displayName;const er=[{id:"order_entry",position:[-6,2,0],label:"Order Entry",type:"entry",color:"#3b82f6"},{id:"fix_gateway",position:[-3,3,0],label:"FIX Gateway",type:"gateway",color:"#10b981"},{id:"ouch_gateway",position:[-3,1,0],label:"OUCH Gateway",type:"gateway",color:"#10b981"},{id:"matching_engine",position:[0,2,0],label:"Matching Engine",type:"matching",color:"#f59e0b"},{id:"execution",position:[3,2,0],label:"Execution",type:"execution",color:"#ef4444"},{id:"clearing",position:[6,3,0],label:"Clearing House",type:"clearing",color:"#8b5cf6"},{id:"settlement",position:[6,1,0],label:"Settlement",type:"settlement",color:"#06b6d4"}],w5e=({node:t,isActive:e=!1})=>{const n=I.useRef(null);return oL(r=>{if(n.current&&e){n.current.rotation.y=r.clock.elapsedTime*2;const i=1+Math.sin(r.clock.elapsedTime*4)*.1;n.current.scale.setScalar(i)}}),S.jsxs("group",{position:t.position,children:[S.jsx(i5e,{ref:n,args:[1,1,1],position:[0,0,0],children:S.jsx("meshStandardMaterial",{color:t.color,emissive:e?t.color:"#000000",emissiveIntensity:e?.3:0,transparent:!0,opacity:.8})}),S.jsx(n5e,{position:[0,-1,0],fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",font:"/fonts/inter.json",children:t.label}),e&&S.jsx(qK,{args:[1.5,16,16],position:[0,0,0],children:S.jsx("meshBasicMaterial",{color:t.color,transparent:!0,opacity:.1,wireframe:!0})})]})},E5e=({path:t,progress:e,color:n,onComplete:r})=>{const i=I.useRef(null);I.useEffect(()=>{e>=1&&r&&r()},[e,r]);const o=oe.useMemo(()=>{if(t.length<2)return t[0]||[0,0,0];const a=Math.min(Math.floor(e*(t.length-1)),t.length-2),s=e*(t.length-1)-a,l=t[a],c=t[a+1];return[l[0]+(c[0]-l[0])*s,l[1]+(c[1]-l[1])*s,l[2]+(c[2]-l[2])*s]},[t,e]);return oL(a=>{i.current&&(i.current.rotation.x=a.clock.elapsedTime*4,i.current.rotation.y=a.clock.elapsedTime*6)}),S.jsx(qK,{ref:i,args:[.1,8,8],position:o,children:S.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.5,transparent:!0,opacity:.8})})},M5e=()=>{const t=[[er[0].position,er[1].position],[er[0].position,er[2].position],[er[1].position,er[3].position],[er[2].position,er[3].position],[er[3].position,er[4].position],[er[4].position,er[5].position],[er[4].position,er[6].position]];return S.jsx(S.Fragment,{children:t.map((e,n)=>S.jsx(s4e,{points:e,color:"#4a5568",lineWidth:2,transparent:!0,opacity:.6},n))})},T5e=({isPlaying:t,speed:e,viewMode:n,activeOrders:r})=>{const[i,o]=I.useState(new Set),[a,s]=I.useState([]);return I.useEffect(()=>{if(!t||r.length===0)return;const l=setInterval(()=>{const u=r[Math.floor(Math.random()*r.length)].side==="BUY"?"#10b981":"#ef4444",f=[er[0].position,er[Math.random()>.5?1:2].position,er[3].position,er[4].position,er[Math.random()>.5?5:6].position],d={id:`particle_${Date.now()}_${Math.random()}`,path:f,progress:0,color:u};s(x=>[...x,d]);let h=0;const y=setInterval(()=>{h+=.02*e,s(v=>v.map(m=>m.id===d.id?{...m,progress:Math.min(h,1)}:m));const x=Math.floor(h*(f.length-1));x<er.length&&(o(v=>new Set([...v,er[x].id])),setTimeout(()=>{o(v=>{const m=new Set(v);return m.delete(er[x].id),m})},1e3)),h>=1&&(clearInterval(y),s(v=>v.filter(m=>m.id!==d.id)))},50)},2e3/e);return()=>clearInterval(l)},[t,e,r]),S.jsxs(S.Fragment,{children:[S.jsx("ambientLight",{intensity:.4}),S.jsx("pointLight",{position:[10,10,10],intensity:.8}),S.jsx("pointLight",{position:[-10,-10,-10],intensity:.4}),er.map(l=>S.jsx(w5e,{node:l,isActive:i.has(l.id)},l.id)),S.jsx(M5e,{}),a.map(l=>S.jsx(E5e,{path:l.path,progress:l.progress,color:l.color},l.id)),S.jsx("gridHelper",{args:[20,20],position:[0,-3,0]}),S.jsx(r5e,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxDistance:20,minDistance:5})]})},A5e=()=>{const{orders:t}=mi(),{isConnected:e}=Ji(),[n,r]=I.useState(!1),[i,o]=I.useState([1]),[a,s]=I.useState("overview"),[l,c]=I.useState(!1),[u,f]=I.useState("overview"),[d,h]=I.useState(!1),[y,x]=I.useState(0),[v,m]=I.useState([]),_=t.filter(P=>P.status==="NEW"||P.status==="PARTIALLY_FILLED"),b={totalOrders:t.length,activeOrders:_.length,completedOrders:t.filter(P=>P.status==="FILLED").length},w={overview:[0,5,10],top:[0,15,0],side:[15,5,0],front:[0,5,-10],closeup:[0,3,5],orbit:[10,10,10]},E=()=>{h(!0),x(0),m(t.filter(P=>P.status==="FILLED").slice(-10))},M=()=>{h(!1),x(0)},A=P=>{x(P[0])};return S.jsxs("div",{className:`${l?"fixed inset-0 z-50":"h-full"} bg-black`,children:[S.jsx("div",{className:"absolute top-4 left-4 z-10 flex flex-col gap-2 max-w-[240px]",children:S.jsxs(Nt,{className:"bg-black/80 border-gray-700",children:[S.jsx(bn,{className:"pb-2",children:S.jsx(_n,{className:"text-sm text-white",children:"Trade Flow Controls"})}),S.jsxs(Dt,{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(gn,{variant:"outline",size:"sm",onClick:()=>r(!n),className:"bg-black/50 border-gray-600 text-white hover:bg-gray-800",children:n?S.jsx(Hoe,{className:"h-3 w-3"}):S.jsx(h2,{className:"h-3 w-3"})}),S.jsx(gn,{variant:"outline",size:"sm",onClick:()=>{r(!1)},className:"bg-black/50 border-gray-600 text-white hover:bg-gray-800",children:S.jsx(Xoe,{className:"h-3 w-3"})}),S.jsx(gn,{variant:"outline",size:"sm",onClick:()=>c(!l),className:"bg-black/50 border-gray-600 text-white hover:bg-gray-800",children:l?S.jsx(Uoe,{className:"h-3 w-3"}):S.jsx($oe,{className:"h-3 w-3"})})]}),S.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-700",children:[S.jsx(Cn,{className:"text-xs",children:"Replay Controls"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(gn,{variant:"outline",size:"sm",onClick:E,disabled:d,className:"bg-black/50 border-gray-600 text-white hover:bg-gray-800 text-xs",children:S.jsx(Woe,{className:"h-3 w-3"})}),S.jsx(gn,{variant:"outline",size:"sm",onClick:()=>x(Math.max(0,y-10)),disabled:!d,className:"bg-black/50 border-gray-600 text-white hover:bg-gray-800 text-xs",children:S.jsx(Yoe,{className:"h-3 w-3"})}),S.jsx(gn,{variant:"outline",size:"sm",onClick:()=>x(Math.min(100,y+10)),disabled:!d,className:"bg-black/50 border-gray-600 text-white hover:bg-gray-800 text-xs",children:S.jsx(W8,{className:"h-3 w-3"})}),S.jsx(gn,{variant:"outline",size:"sm",onClick:M,disabled:!d,className:"bg-black/50 border-gray-600 text-white hover:bg-gray-800 text-xs",children:S.jsx(Foe,{className:"h-3 w-3"})})]}),d&&S.jsxs("div",{className:"space-y-1",children:[S.jsxs("label",{className:"text-xs text-gray-300",children:["Progress: ",y,"%"]}),S.jsx(xR,{value:[y],onValueChange:A,min:0,max:100,step:1,className:"w-full"})]})]}),S.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-700",children:[S.jsxs(Cn,{className:"text-xs flex items-center gap-1",children:[S.jsx(Ooe,{className:"h-3 w-3"}),"Camera Preset"]}),S.jsx("div",{className:"grid grid-cols-2 gap-1",children:["overview","top","side","front","closeup","orbit"].map(P=>S.jsx(gn,{variant:u===P?"default":"outline",size:"sm",onClick:()=>f(P),className:"text-xs capitalize",children:P},P))})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsxs("label",{className:"text-xs text-gray-300",children:["Speed: ",i[0],"x"]}),S.jsx(xR,{value:i,onValueChange:o,min:.1,max:5,step:.1,className:"w-32"})]})]})]})}),S.jsx("div",{className:"absolute top-4 right-4 z-10",children:S.jsx(Nt,{className:"bg-black/80 border-gray-700",children:S.jsx(Dt,{className:"p-3",children:S.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-gray-400",children:"Total Orders"}),S.jsx("div",{className:"text-white font-bold",children:b.totalOrders})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-gray-400",children:"Active"}),S.jsx("div",{className:"text-yellow-400 font-bold",children:b.activeOrders})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-gray-400",children:"Completed"}),S.jsx("div",{className:"text-green-400 font-bold",children:b.completedOrders})]})]})})})}),S.jsx("div",{className:"absolute bottom-4 left-4 z-10",children:S.jsx(Er,{variant:e?"default":"destructive",className:"bg-black/80",children:e?"Connected":"Disconnected"})}),S.jsxs(YBe,{camera:{position:w[u],fov:45},gl:{antialias:!0,alpha:!1},children:[S.jsx("color",{attach:"background",args:["#000000"]}),S.jsx(I.Suspense,{fallback:null,children:S.jsx(T5e,{isPlaying:n,speed:i[0],viewMode:a,activeOrders:_})})]},u),S.jsx("div",{className:"absolute bottom-4 right-4 z-10",children:S.jsx(Nt,{className:"bg-black/80 border-gray-700",children:S.jsx(Dt,{className:"p-3",children:S.jsxs("div",{className:"text-xs text-white space-y-1",children:[S.jsx("div",{className:"font-semibold mb-2",children:"Legend"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),S.jsx("span",{children:"Buy Orders"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),S.jsx("span",{children:"Sell Orders"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),S.jsx("span",{children:"Order Entry"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),S.jsx("span",{children:"Matching Engine"})]})]})})})})]})},P5e=()=>{const{activeTab:t,setActiveTab:e,layoutConfig:n,isDarkMode:r}=Ta();return S.jsxs("div",{className:kt("h-screen w-full flex flex-col bg-background",r&&"dark"),children:[S.jsx(lse,{}),S.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:S.jsxs(Rm,{value:t,onValueChange:e,className:"flex-1 flex flex-col",children:[S.jsxs(Fd,{className:"grid w-full grid-cols-4 bg-muted/50 border-b",role:"tablist",children:[S.jsx(Hn,{value:"trading",className:"text-sm font-medium",children:"Trading Workstation"}),S.jsx(Hn,{value:"market",className:"text-sm font-medium","data-tutorial":"market-tab",children:"Market Overview"}),S.jsx(Hn,{value:"risk",className:"text-sm font-medium","data-tutorial":"risk-tab",children:"Risk Dashboard"}),S.jsx(Hn,{value:"3d",className:"text-sm font-medium","data-tutorial":"3d-toggle",children:"3D Visualization"})]}),S.jsx(gi,{value:"trading",className:"flex-1 p-0 m-0",children:S.jsx(VNe,{})}),S.jsx(gi,{value:"market",className:"flex-1 p-4",children:S.jsx(HNe,{})}),S.jsx(gi,{value:"risk",className:"flex-1 p-4",children:S.jsx(KNe,{})}),S.jsx(gi,{value:"3d",className:"flex-1 p-0 m-0",children:S.jsx("div",{className:"h-full bg-black","data-tutorial":"3d-canvas",children:S.jsx(A5e,{})})})]})}),S.jsx(wae,{}),S.jsx(Eae,{})]})},C5e={AAPL:175.25,GOOGL:2750.8,MSFT:412.5,TSLA:248.75,NVDA:875.3,JPM:185.4,BAC:34.25,WFC:52.8,GS:456.3,MS:98.75,JNJ:158.2,PFE:28.45,XOM:112.6,CVX:158.9,ESM4:5025.5,NQM4:18350.75,AAPL240621C00180000:8.5,AAPL240621P00180000:6.25,EURUSD:1.0875,GBPUSD:1.265,USDJPY:149.25,USDCHF:.8745,AUDUSD:.658,SPX:5025.5,NDX:18350.75,DJI:38250.25},O5e=(t,e)=>{const n=e*1e-4,r=e-n/2,i=e+n/2,o=e*(.98+Math.random()*.04),a=e*(1+Math.random()*.02),s=e*(1-Math.random()*.02),l=Math.floor(Math.random()*2e6)+5e5,c=e-o,u=c/o*100;return{symbol:t,price:Math.round(e*100)/100,bid:Math.round(r*100)/100,ask:Math.round(i*100)/100,bidSize:Math.floor(Math.random()*500)+100,askSize:Math.floor(Math.random()*500)+100,open:Math.round(o*100)/100,high:Math.round(a*100)/100,low:Math.round(s*100)/100,close:Math.round(e*100)/100,volume:l,vwap:Math.round((e+o)/2*100)/100,change:Math.round(c*100)/100,changePercent:Math.round(u*100)/100,timestamp:Date.now()}},S$=(t,e=!1)=>{const n=[],r=t*.001;for(let i=0;i<10;i++){const o=e?t+r*(i+1):t-r*(i+1);n.push({price:Math.round(o*100)/100,quantity:Math.floor(Math.random()*1e3)+100,orderCount:Math.floor(Math.random()*10)+1})}return n},R5e=(t,e,n)=>({symbol:t,bids:S$(e),asks:S$(n,!0),timestamp:Date.now()}),bR={},uQ={};Q8.forEach(t=>{const e=C5e[t.symbol]||100,n=O5e(t.symbol,e),r=R5e(t.symbol,n.bid,n.ask);bR[t.symbol]=n,uQ[t.symbol]=r});const I5e={low:1e-4,medium:5e-4,high:.001,extreme:.002},N5e={AAPL:"medium",GOOGL:"medium",MSFT:"low",TSLA:"high",NVDA:"high",JPM:"medium",BAC:"medium",WFC:"medium",GS:"medium",MS:"medium",JNJ:"low",PFE:"medium",XOM:"low",CVX:"low",SPX:"low",NDX:"medium",DJI:"low",EURUSD:"low",GBPUSD:"low",USDJPY:"low",USDCHF:"low",AUDUSD:"low",ESM4:"medium",NQM4:"medium",AAPL240621C00180000:"high",AAPL240621P00180000:"high"};class D5e{constructor(){this.intervals=new Map,this.isRunning=!1,this.symbols=[],this.symbols=Object.keys(bR)}start(){this.isRunning||(this.isRunning=!0,console.log("MarketDataService started"),this.initializeData(),this.startRealTimeUpdates())}stop(){this.isRunning=!1,this.intervals.forEach(e=>clearInterval(e)),this.intervals.clear(),console.log("MarketDataService stopped")}initializeData(){const{updateMarketData:e,updateOrderBook:n}=Ji.getState();Object.entries(bR).forEach(([r,i])=>{e(r,i)}),Object.entries(uQ).forEach(([r,i])=>{n(r,i)})}startRealTimeUpdates(){const e=setInterval(()=>{this.updateAllMarketData()},1e3);this.intervals.set("marketData",e);const n=setInterval(()=>{this.updateAllOrderBooks()},1e3);this.intervals.set("orderBook",n);const r=setInterval(()=>{this.generateTicks()},1e3);this.intervals.set("ticks",r);const i=setInterval(()=>{this.updateOHLCV()},5e3);this.intervals.set("ohlcv",i)}updateAllMarketData(){const{marketData:e,updateMarketData:n,addTick:r}=Ji.getState();this.symbols.forEach(i=>{const o=e.get(i);if(!o)return;const a=N5e[i]||"medium",s=I5e[a],l=(Math.random()-.5)*2,c=o.price*s*l,u=Math.max(.01,o.price+c),f=o.price*1e-4,d=u-f/2,h=u+f/2,y=new Date().getHours(),x=this.getVolumeMultiplier(y),v=Math.floor(Math.random()*1e3+100),m=o.volume+Math.floor(v*x),_={...o,price:Math.round(u*100)/100,bid:Math.round(d*100)/100,ask:Math.round(h*100)/100,high:Math.max(o.high,u),low:Math.min(o.low,u),volume:m,change:u-o.open,changePercent:(u-o.open)/o.open*100,timestamp:Date.now(),bidSize:Math.floor(Math.random()*1e3)+100,askSize:Math.floor(Math.random()*1e3)+100};if(n(i,_),Math.random()>.7){const b={symbol:i,price:u,size:Math.floor(Math.random()*500)+100,timestamp:Date.now(),side:Math.random()>.5?"BUY":"SELL"};r(b)}})}updateAllOrderBooks(){const{orderBooks:e,updateOrderBook:n,marketData:r}=Ji.getState();this.symbols.forEach(i=>{const o=e.get(i),a=r.get(i);if(!o||!a)return;const s=this.updateOrderBookLevels(o.bids,a.bid,!1),l=this.updateOrderBookLevels(o.asks,a.ask,!0),c={...o,bids:s,asks:l,timestamp:Date.now()};n(i,c)})}updateOrderBookLevels(e,n,r){return e.map((i,o)=>{const a=(Math.random()-.5)*200,s=Math.max(50,i.quantity+a);let l=i.price;if(Math.random()>.95){const c=n*1e-4;l=r?n+c*(o+1):n-c*(o+1),l=Math.round(l*100)/100}return{...i,price:l,quantity:Math.floor(s),orderCount:Math.max(1,Math.floor(s/100))}})}generateTicks(){const{marketData:e,addTick:n}=Ji.getState();this.symbols.filter(()=>Math.random()>.8).forEach(i=>{const o=e.get(i);if(!o)return;const a={symbol:i,price:o.price+(Math.random()-.5)*o.price*1e-4,size:Math.floor(Math.random()*1e3)+50,timestamp:Date.now(),side:Math.random()>.5?"BUY":"SELL"};n(a)})}updateOHLCV(){const{marketData:e,addOHLCV:n}=Ji.getState();this.symbols.forEach(r=>{const i=e.get(r);if(!i)return;const o={symbol:r,open:i.open,high:i.high,low:i.low,close:i.price,volume:i.volume,timestamp:Date.now(),vwap:i.vwap};n(o)})}getVolumeMultiplier(e){return e>=9&&e<=10?2:e>=15&&e<=16?1.8:e>=11&&e<=14?.8:1}subscribeToSymbol(e){this.symbols.includes(e)||(this.symbols.push(e),console.log(`Subscribed to ${e}`))}unsubscribeFromSymbol(e){const n=this.symbols.indexOf(e);n>-1&&(this.symbols.splice(n,1),console.log(`Unsubscribed from ${e}`))}}function L5e(){const{initialize:t}=Ta(),{startDataFeed:e}=Ji();return I.useEffect(()=>{const n=Ta.subscribe(r=>r.isDarkMode,r=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{fireImmediately:!0});return()=>n()},[]),I.useEffect(()=>{t();const n=cr.getState();n.initializeAchievements(Mae);const r=new D5e,i=new oN;e(),r.start(),i.initialize();const o=Date.now(),a=setInterval(()=>{Math.floor((Date.now()-o)/6e4)>0&&n.updateSessionTime(1)},6e4);return()=>{r.stop(),clearInterval(a)}},[t,e]),S.jsx(P5e,{})}var fL="ToastProvider",[dL,k5e,U5e]=Xw("Toast"),[fQ,S$e]=hs("Toast",[U5e]),[F5e,BM]=fQ(fL),dQ=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,l]=I.useState(null),[c,u]=I.useState(0),f=I.useRef(!1),d=I.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fL}\`. Expected non-empty \`string\`.`),S.jsx(dL.Provider,{scope:e,children:S.jsx(F5e,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:I.useCallback(()=>u(h=>h+1),[]),onToastRemove:I.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:a})})};dQ.displayName=fL;var hQ="ToastViewport",j5e=["F8"],_R="toast.viewportPause",SR="toast.viewportResume",pQ=I.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=j5e,label:i="Notifications ({hotkey})",...o}=t,a=BM(hQ,n),s=k5e(n),l=I.useRef(null),c=I.useRef(null),u=I.useRef(null),f=I.useRef(null),d=nn(e,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;I.useEffect(()=>{const v=m=>{var b;r.length!==0&&r.every(w=>m[w]||m.code===w)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),I.useEffect(()=>{const v=l.current,m=f.current;if(y&&v&&m){const _=()=>{if(!a.isClosePausedRef.current){const M=new CustomEvent(_R);m.dispatchEvent(M),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const M=new CustomEvent(SR);m.dispatchEvent(M),a.isClosePausedRef.current=!1}},w=M=>{!v.contains(M.relatedTarget)&&b()},E=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",_),v.addEventListener("focusout",w),v.addEventListener("pointermove",_),v.addEventListener("pointerleave",E),window.addEventListener("blur",_),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",_),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",_),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",_),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const x=I.useCallback(({tabbingDirection:v})=>{const _=s().map(b=>{const w=b.ref.current,E=[w,...Z5e(w)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?_.reverse():_).flat()},[s]);return I.useEffect(()=>{const v=f.current;if(v){const m=_=>{var E,M,A;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const P=document.activeElement,R=_.shiftKey;if(_.target===v&&R){(E=c.current)==null||E.focus();return}const L=x({tabbingDirection:R?"backwards":"forwards"}),j=L.findIndex(U=>U===P);iC(L.slice(j+1))?_.preventDefault():R?(M=c.current)==null||M.focus():(A=u.current)==null||A.focus()}};return v.addEventListener("keydown",m),()=>v.removeEventListener("keydown",m)}},[s,x]),S.jsxs(Nne,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&S.jsx(wR,{ref:c,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});iC(v)}}),S.jsx(dL.Slot,{scope:n,children:S.jsx(Et.ol,{tabIndex:-1,...o,ref:d})}),y&&S.jsx(wR,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});iC(v)}})]})});pQ.displayName=hQ;var mQ="ToastFocusProxy",wR=I.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=BM(mQ,n);return S.jsx(LI,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&r()}})});wR.displayName=mQ;var ex="Toast",z5e="toast.swipeStart",B5e="toast.swipeMove",$5e="toast.swipeCancel",V5e="toast.swipeEnd",gQ=I.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=t,[s,l]=xu({prop:r,defaultProp:i??!0,onChange:o,caller:ex});return S.jsx(nl,{present:n||s,children:S.jsx(W5e,{open:s,...a,ref:e,onClose:()=>l(!1),onPause:Br(t.onPause),onResume:Br(t.onResume),onSwipeStart:xt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xt(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xt(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});gQ.displayName=ex;var[H5e,G5e]=fQ(ex,{onClose(){}}),W5e=I.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...y}=t,x=BM(ex,n),[v,m]=I.useState(null),_=nn(e,U=>m(U)),b=I.useRef(null),w=I.useRef(null),E=i||x.duration,M=I.useRef(0),A=I.useRef(E),P=I.useRef(0),{onToastAdd:R,onToastRemove:O}=x,N=Br(()=>{var H;(v==null?void 0:v.contains(document.activeElement))&&((H=x.viewport)==null||H.focus()),a()}),L=I.useCallback(U=>{!U||U===1/0||(window.clearTimeout(P.current),M.current=new Date().getTime(),P.current=window.setTimeout(N,U))},[N]);I.useEffect(()=>{const U=x.viewport;if(U){const H=()=>{L(A.current),c==null||c()},z=()=>{const Q=new Date().getTime()-M.current;A.current=A.current-Q,window.clearTimeout(P.current),l==null||l()};return U.addEventListener(_R,z),U.addEventListener(SR,H),()=>{U.removeEventListener(_R,z),U.removeEventListener(SR,H)}}},[x.viewport,E,l,c,L]),I.useEffect(()=>{o&&!x.isClosePausedRef.current&&L(E)},[o,E,x.isClosePausedRef,L]),I.useEffect(()=>(R(),()=>O()),[R,O]);const j=I.useMemo(()=>v?wQ(v):null,[v]);return x.viewport?S.jsxs(S.Fragment,{children:[j&&S.jsx(X5e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:j}),S.jsx(H5e,{scope:n,onClose:N,children:Ud.createPortal(S.jsx(dL.ItemSlot,{scope:n,children:S.jsx(Ine,{asChild:!0,onEscapeKeyDown:xt(s,()=>{x.isFocusedToastEscapeKeyDownRef.current||N(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(Et.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xt(t.onKeyDown,U=>{U.key==="Escape"&&(s==null||s(U.nativeEvent),U.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:xt(t.onPointerDown,U=>{U.button===0&&(b.current={x:U.clientX,y:U.clientY})}),onPointerMove:xt(t.onPointerMove,U=>{if(!b.current)return;const H=U.clientX-b.current.x,z=U.clientY-b.current.y,Q=!!w.current,k=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,W=k?B(0,H):0,$=k?0:B(0,z),Y=U.pointerType==="touch"?10:2,J={x:W,y:$},X={originalEvent:U,delta:J};Q?(w.current=J,Nb(B5e,f,X,{discrete:!1})):w$(J,x.swipeDirection,Y)?(w.current=J,Nb(z5e,u,X,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(H)>Y||Math.abs(z)>Y)&&(b.current=null)}),onPointerUp:xt(t.onPointerUp,U=>{const H=w.current,z=U.target;if(z.hasPointerCapture(U.pointerId)&&z.releasePointerCapture(U.pointerId),w.current=null,b.current=null,H){const Q=U.currentTarget,k={originalEvent:U,delta:H};w$(H,x.swipeDirection,x.swipeThreshold)?Nb(V5e,h,k,{discrete:!0}):Nb($5e,d,k,{discrete:!0}),Q.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),X5e=t=>{const{__scopeToast:e,children:n,...r}=t,i=BM(ex,e),[o,a]=I.useState(!1),[s,l]=I.useState(!1);return K5e(()=>a(!0)),I.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:S.jsx(eE,{asChild:!0,children:S.jsx(LI,{...r,children:o&&S.jsxs(S.Fragment,{children:[i.label," ",n]})})})},q5e="ToastTitle",vQ=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(Et.div,{...r,ref:e})});vQ.displayName=q5e;var Y5e="ToastDescription",yQ=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(Et.div,{...r,ref:e})});yQ.displayName=Y5e;var xQ="ToastAction",bQ=I.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?S.jsx(SQ,{altText:n,asChild:!0,children:S.jsx(hL,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xQ}\`. Expected non-empty \`string\`.`),null)});bQ.displayName=xQ;var _Q="ToastClose",hL=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=G5e(_Q,n);return S.jsx(SQ,{asChild:!0,children:S.jsx(Et.button,{type:"button",...r,ref:e,onClick:xt(t.onClick,i.onClose)})})});hL.displayName=_Q;var SQ=I.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return S.jsx(Et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function wQ(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Q5e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...wQ(r))}}),e}function Nb(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JH(i,o):i.dispatchEvent(o)}var w$=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function K5e(t=()=>{}){const e=Br(t);oi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Q5e(t){return t.nodeType===t.ELEMENT_NODE}function Z5e(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function iC(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var J5e=dQ,EQ=pQ,MQ=gQ,TQ=vQ,AQ=yQ,PQ=bQ,CQ=hL;const e$e=J5e,OQ=I.forwardRef(({className:t,...e},n)=>S.jsx(EQ,{ref:n,className:kt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));OQ.displayName=EQ.displayName;const t$e=C0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RQ=I.forwardRef(({className:t,variant:e,...n},r)=>S.jsx(MQ,{ref:r,className:kt(t$e({variant:e}),t),...n}));RQ.displayName=MQ.displayName;const n$e=I.forwardRef(({className:t,...e},n)=>S.jsx(PQ,{ref:n,className:kt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));n$e.displayName=PQ.displayName;const IQ=I.forwardRef(({className:t,...e},n)=>S.jsx(CQ,{ref:n,className:kt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(xd,{className:"h-4 w-4"})}));IQ.displayName=CQ.displayName;const NQ=I.forwardRef(({className:t,...e},n)=>S.jsx(TQ,{ref:n,className:kt("text-sm font-semibold",t),...e}));NQ.displayName=TQ.displayName;const DQ=I.forwardRef(({className:t,...e},n)=>S.jsx(AQ,{ref:n,className:kt("text-sm opacity-90",t),...e}));DQ.displayName=AQ.displayName;function r$e(){const{toasts:t}=xW();return S.jsxs(e$e,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return S.jsxs(RQ,{...o,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(NQ,{children:n}),r&&S.jsx(DQ,{children:r})]}),i,S.jsx(IQ,{})]},e)}),S.jsx(OQ,{})]})}const i$e=new cte({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:1/0,retry:!1}}}),o$e=()=>{try{const t=wp("tradingState");(t==null?void 0:t.isDarkMode)??!0?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch{document.documentElement.classList.add("dark")}};o$e();GH(document.getElementById("root")).render(S.jsx(I.StrictMode,{children:S.jsxs(fte,{client:i$e,children:[S.jsx(L5e,{}),S.jsx(r$e,{})]})}));
